{
  "timestamp": "2025-12-28T15:18:27.266530",
  "root_path": "C:\\Agente_BI\\BI_Solution",
  "architecture": {
    "backend": {
      "other": [
        {
          "path": "backend\\...backend-log.txt",
          "name": "...backend-log.txt",
          "extension": ".txt",
          "size": 94,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\.env",
          "name": ".env",
          "extension": "",
          "size": 2843,
          "category": "config",
          "purpose": "Variáveis de ambiente",
          "details": {}
        },
        {
          "path": "backend\\.env.example",
          "name": ".env.example",
          "extension": ".example",
          "size": 1927,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\.env.supabase",
          "name": ".env.supabase",
          "extension": ".supabase",
          "size": 438,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\.gitignore",
          "name": ".gitignore",
          "extension": "",
          "size": 555,
          "category": "config",
          "purpose": "Arquivos ignorados pelo Git",
          "details": {}
        },
        {
          "path": "backend\\alembic.ini",
          "name": "alembic.ini",
          "extension": ".ini",
          "size": 766,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\app\\api\\dependencies.py",
          "name": "dependencies.py",
          "extension": ".py",
          "size": 16947,
          "category": "source_python",
          "purpose": "API Dependencies",
          "details": {
            "type": "python",
            "docstring": "API Dependencies\nFastAPI dependency injection utilities",
            "classes": [],
            "functions": [
              {
                "name": "require_role",
                "docstring": "Dependency to require specific roles\n\nUsage:\n    @router.get(\"/admin\")\n    async def admin_endpoint(user: User = Depends(require_role(\"admin\"))):\n        ...",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "require_permission",
                "docstring": "Dependency to require specific permission\n\nUsage:\n    @router.get(\"/reports\")\n    async def get_reports(user: User = Depends(require_permission(\"VIEW_REPORTS\"))):\n        ...",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "json",
              "uuid",
              "typing",
              "fastapi",
              "fastapi.security",
              "jose",
              "sqlalchemy.ext.asyncio",
              "app.config.database",
              "app.config.security",
              "app.infrastructure.database.models",
              "app.schemas.auth",
              "sqlalchemy",
              "polars",
              "pathlib",
              "datetime",
              "sys",
              "app.config.settings",
              "sys",
              "polars",
              "pathlib",
              "datetime",
              "polars",
              "pathlib",
              "datetime",
              "sys",
              "app.config.settings",
              "app.core.supabase_client",
              "traceback",
              "app.core.supabase_client",
              "app.core.context",
              "app.core.context",
              "app.core.context",
              "app.core.context",
              "app.core.supabase_client",
              "app.core.supabase_client"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\router.py",
          "name": "router.py",
          "extension": ".py",
          "size": 1449,
          "category": "source_python",
          "purpose": "Endpoints API: API V1 Router",
          "details": {
            "type": "python",
            "docstring": "API V1 Router\nCombines all v1 endpoints",
            "classes": [],
            "functions": [],
            "imports": [
              "fastapi",
              "app.api.v1.endpoints"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\config\\database.py",
          "name": "database.py",
          "extension": ".py",
          "size": 2297,
          "category": "source_python",
          "purpose": "Database Configuration",
          "details": {
            "type": "python",
            "docstring": "Database Configuration\nSQLAlchemy async engine and session",
            "classes": [
              {
                "name": "Base",
                "docstring": "Base class for all models",
                "methods": [],
                "bases": [
                  "DeclarativeBase"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "collections.abc",
              "contextlib",
              "sqlalchemy.ext.asyncio",
              "sqlalchemy.orm",
              "app.config.settings",
              "sqlalchemy.pool"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\config\\logging_config.py",
          "name": "logging_config.py",
          "extension": ".py",
          "size": 2747,
          "category": "source_python",
          "purpose": "Logging Configuration for Agent Solution BI",
          "details": {
            "type": "python",
            "docstring": "Logging Configuration for Agent Solution BI\nCentralizes logging setup with rotation and formatting",
            "classes": [],
            "functions": [
              {
                "name": "setup_logging",
                "docstring": "Configure application logging with rotation and consistent formatting\n\nArgs:\n    log_level: Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)\n    log_file: Optional path to log file. If None, logs only to console\n    max_bytes: Maximum size of log file before rotation (default 10MB)\n    backup_count: Number of backup files to keep (default 5)\n    suppress_warnings: List of warning patterns to suppress\n\nReturns:\n    Configured logger instance",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_logger",
                "docstring": "Get a logger instance with the application's configuration\n\nArgs:\n    name: Logger name (typically __name__)\n\nReturns:\n    Logger instance",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "sys",
              "pathlib",
              "logging.handlers",
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\config\\security.py",
          "name": "security.py",
          "extension": ".py",
          "size": 2872,
          "category": "source_python",
          "purpose": "Security Configuration",
          "details": {
            "type": "python",
            "docstring": "Security Configuration\nJWT, password hashing, and authentication utilities",
            "classes": [],
            "functions": [
              {
                "name": "verify_password",
                "docstring": "Verify a password against a hash using bcrypt directly",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_password_hash",
                "docstring": "Hash a password using bcrypt directly",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "create_access_token",
                "docstring": "Create JWT access token\n\nArgs:\n    data: Data to encode in token\n    expires_delta: Token expiration time\n    \nReturns:\n    Encoded JWT token",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "create_refresh_token",
                "docstring": "Create JWT refresh token",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "decode_token",
                "docstring": "Decode and verify JWT token\n\nArgs:\n    token: JWT token to decode\n    \nReturns:\n    Decoded token payload\n    \nRaises:\n    JWTError: If token is invalid",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "datetime",
              "typing",
              "jose",
              "passlib.context",
              "app.config.settings",
              "bcrypt"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\config\\settings.py",
          "name": "settings.py",
          "extension": ".py",
          "size": 7272,
          "category": "source_python",
          "purpose": "Settings Configuration",
          "details": {
            "type": "python",
            "docstring": "Settings Configuration\nPydantic Settings with environment variables",
            "classes": [
              {
                "name": "Settings",
                "docstring": "Application settings",
                "methods": [
                  {
                    "name": "validate_secret_key",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "compute_pyodbc_string",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseSettings"
                ]
              }
            ],
            "functions": [
              {
                "name": "get_settings",
                "docstring": "Get cached settings instance",
                "is_async": false,
                "decorators": [
                  "lru_cache"
                ]
              }
            ],
            "imports": [
              "functools",
              "typing",
              "os",
              "pydantic",
              "pydantic_settings",
              "sqlalchemy.engine"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agent_state.py",
          "name": "agent_state.py",
          "extension": ".py",
          "size": 1104,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: AgentState",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "AgentState",
                "docstring": null,
                "methods": [],
                "bases": [
                  "TypedDict"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "__future__",
              "operator",
              "typing",
              "langchain_core.messages",
              "plotly.graph_objects"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agent_wrapper.py",
          "name": "agent_wrapper.py",
          "extension": ".py",
          "size": 2266,
          "category": "source_python",
          "purpose": "Agente BI: Wrapper simplificado para integração do sistema de agentes com FastAPI",
          "details": {
            "type": "python",
            "docstring": "Wrapper simplificado para integração do sistema de agentes com FastAPI",
            "classes": [
              {
                "name": "AgentWrapper",
                "docstring": "Wrapper para integrar o sistema de agentes do Agent_Business com FastAPI",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_initialize",
                    "docstring": "Inicializa o sistema de agentes",
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa uma consulta usando o sistema de agentes\n\nArgs:\n    query: Pergunta do usuário\n    \nReturns:\n    dict com type e output",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_agent_wrapper",
                "docstring": "Retorna instância singleton do AgentWrapper",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "os",
              "pathlib",
              "app.core.query_processor"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 142,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "supervisor_agent",
              "tool_agent"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\base_agent.py",
          "name": "base_agent.py",
          "extension": ".py",
          "size": 3860,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: BaseAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "BaseAgent",
                "docstring": "Classe base para todos os agentes do sistema.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o agente base.\n\nArgs:\n    session_id (str): ID da sessão para persistência de estado.\n    node_client (object): Cliente para o servidor mssql-mcp-node.",
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa uma consulta do usuário.\nThis method now assumes that if node_client is used, the query is already SQL.",
                    "is_async": false
                  },
                  {
                    "name": "_process_query_with_node_client",
                    "docstring": "Processa uma consulta SQL usando o NodeMCPClient.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "pandas",
              "dotenv"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\caculinha_bi_agent.py",
          "name": "caculinha_bi_agent.py",
          "extension": ".py",
          "size": 86381,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: CaculinhaBIAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "CaculinhaBIAgent",
                "docstring": "Agent responsible for Business Intelligence queries using Gemini Native Function Calling.\nReplaces the legacy keyword-based routing and CodeGenAgent fallback.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_convert_tools_to_gemini_format",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_clean_context7_violations",
                    "docstring": "Remove JSON bruto e estruturas técnicas das respostas (Context7 Storytelling).\n\nArgs:\n    content: Conteúdo a limpar\n    context_type: Tipo de contexto (\"chart\", \"data\", \"analysis\", \"generic\")\n\nReturns:\n    Conteúdo limpo com narrativa natural",
                    "is_async": false
                  },
                  {
                    "name": "_clean_schema",
                    "docstring": "Recursively cleans Pydantic JSON Schema for Gemini compatibility.\nRemoves 'anyOf', 'title', 'default', 'additionalProperties', and handles Optional types.",
                    "is_async": false
                  },
                  {
                    "name": "run",
                    "docstring": "Executes the agent loop:\n1. Send query + tools to LLM.\n2. If LLM wants to call tool -> Execute tool -> Send result back to LLM.\n3. Repeat until LLM returns text.",
                    "is_async": false
                  },
                  {
                    "name": "_create_tool_summary",
                    "docstring": "OPTIMIZATION 2025: Cria resumo compacto de tool response\nReduz tamanho do contexto enviado ao LLM em 70-90%\nRef: ChatGPT engineering - context filtering",
                    "is_async": false
                  },
                  {
                    "name": "_generate_error_response",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "logging",
              "asyncio",
              "numpy",
              "pandas",
              "decimal",
              "datetime",
              "typing",
              "app.core.tools.une_tools",
              "app.core.tools.flexible_query_tool",
              "app.core.tools.universal_chart_generator",
              "app.core.tools.chart_tools",
              "app.core.tools.semantic_search_tool",
              "app.core.rag.hybrid_retriever",
              "app.core.utils.field_mapper",
              "app.core.utils.serializers",
              "app.core.utils.tool_scoping",
              "langchain_core.language_models",
              "langchain_core.tools",
              "re"
            ],
            "constants": [
              "LANGCHAIN_AVAILABLE",
              "SYSTEM_PROMPT"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\agents\\code_gen_agent.py",
          "name": "code_gen_agent.py",
          "extension": ".py",
          "size": 15606,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: CodeGenAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "CodeGenAgent",
                "docstring": "Agent responsible for generating, validating, executing Python code for data analysis,\nand self-healing in case of errors.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_code_generation_system_prompt",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "generate_and_execute_python_code",
                    "docstring": "Generates Python code based on user query and data schema, executes it,\nand returns results, including chart specifications if requested.\nIncludes self-healing for common errors.",
                    "is_async": false
                  },
                  {
                    "name": "_get_few_shot_examples",
                    "docstring": "Combines pattern matching and RAG to provide few-shot examples.\nT2.3.1: Integrate with PatternMatcher (few-shot) and QueryRetriever (RAG).",
                    "is_async": false
                  },
                  {
                    "name": "_validate_and_heal_code",
                    "docstring": "T2.3.2: Implement validation for 'top N' and T2.3.3: auto-recovery of common errors.",
                    "is_async": false
                  },
                  {
                    "name": "_validate_top_n",
                    "docstring": "Detects \"top N\" or similar phrases in the user query and ensures\n'.head(N)' or '.tail(N)' is applied to the final result if relevant.",
                    "is_async": false
                  },
                  {
                    "name": "_attempt_auto_healing",
                    "docstring": "Implements basic self-healing for common code errors.\nThis is a very simplistic example and would be more sophisticated with LLM interaction.",
                    "is_async": false
                  },
                  {
                    "name": "_safely_execute_code",
                    "docstring": "Executes the generated Python code in a safe environment.\nThis is a critical component for security.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "_load_prompt_template",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87FBB640>"
                ]
              }
            ],
            "imports": [
              "json",
              "re",
              "logging",
              "typing",
              "os",
              "functools",
              "app.core.utils.field_mapper",
              "app.core.utils.error_handler",
              "app.core.utils.query_history",
              "app.core.utils.response_cache",
              "app.config.settings",
              "app.core.learning.pattern_matcher",
              "app.core.rag.query_retriever",
              "langchain_core.language_models",
              "langchain_core.prompts",
              "langchain_core.output_parsers",
              "langchain_core.runnables",
              "polars",
              "app.core.tools.une_tools"
            ],
            "constants": [
              "LANGCHAIN_AVAILABLE"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\agents\\developer_agent.py",
          "name": "developer_agent.py",
          "extension": ".py",
          "size": 4781,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: DeveloperAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "DeveloperAgent",
                "docstring": "Agente especializado em desenvolvimento de código.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o Agente de Desenvolvimento.\n\nArgs:\n    session_id (str): ID da sessão para persistência de estado.\n    use_mock_data (bool): Flag para usar dados mockados.\n    mcp_adapter (object): Adaptador MCP para SQL Server.",
                    "is_async": false
                  },
                  {
                    "name": "_load_prompts",
                    "docstring": "Carrega os prompts do arquivo ou usa um fallback.",
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa uma consulta com foco em desenvolvimento de código.\n\nArgs:\n    query (str): A consulta do usuário.\n\nReturns:\n    dict: Resposta processada.",
                    "is_async": false
                  },
                  {
                    "name": "_is_relevant_query",
                    "docstring": "Verifica se a consulta é relevante para este agente.",
                    "is_async": false
                  },
                  {
                    "name": "_should_suggest_improvements",
                    "docstring": "Verifica se deve sugerir melhorias de código.",
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseAgent"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "base_agent",
              "prompt_loader"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\multi_step_agent.py",
          "name": "multi_step_agent.py",
          "extension": ".py",
          "size": 10095,
          "category": "source_python",
          "purpose": "Agente BI: LangGraph Multi-Step Agent - Workflow cíclico para raciocínio avançado",
          "details": {
            "type": "python",
            "docstring": "LangGraph Multi-Step Agent - Workflow cíclico para raciocínio avançado\nImplementa: Planner → Executor → Validator → (loop se necessário)",
            "classes": [
              {
                "name": "AgentState",
                "docstring": "Estado do agente durante execução do workflow.",
                "methods": [],
                "bases": [
                  "TypedDict"
                ]
              },
              {
                "name": "MultiStepAgent",
                "docstring": "Agente multi-step com workflow cíclico.\n\nWorkflow:\n1. Planner: Analisa query e define estratégia\n2. Executor: Executa ferramentas necessárias\n3. Validator: Valida resultado e decide se precisa retry\n4. (Loop): Se necessário, refina e tenta novamente",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Args:\n    agent: Agente base (CaculinhaBIAgent)\n    validator: Validador de respostas (opcional)",
                    "is_async": false
                  },
                  {
                    "name": "_build_graph",
                    "docstring": "Constrói o grafo de estados do workflow.",
                    "is_async": false
                  },
                  {
                    "name": "_planner_node",
                    "docstring": "Node de planejamento: analisa query e define estratégia.",
                    "is_async": false
                  },
                  {
                    "name": "_executor_node",
                    "docstring": "Node de execução: chama o agente base.",
                    "is_async": false
                  },
                  {
                    "name": "_validator_node",
                    "docstring": "Node de validação: verifica qualidade da resposta.",
                    "is_async": false
                  },
                  {
                    "name": "_should_retry",
                    "docstring": "Decide se deve fazer retry ou finalizar.",
                    "is_async": false
                  },
                  {
                    "name": "run",
                    "docstring": "Executa workflow multi-step.\n\nArgs:\n    query: Pergunta do usuário\n    chat_history: Histórico de chat (opcional)\n    \nReturns:\n    Resultado do agente",
                    "is_async": false
                  },
                  {
                    "name": "_run_simple",
                    "docstring": "Implementação simplificada sem LangGraph.",
                    "is_async": false
                  },
                  {
                    "name": "get_stats",
                    "docstring": "Retorna estatísticas do agente.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "create_multi_step_agent",
                "docstring": "Cria instância do MultiStepAgent.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "typing",
              "dataclasses",
              "operator",
              "langgraph.graph"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\product_agent.py",
          "name": "product_agent.py",
          "extension": ".py",
          "size": 14551,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: ProductAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "ProductAgent",
                "docstring": "Agente para consulta e análise de produtos, usando apenas Parquet.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_load_catalog",
                    "docstring": "Carrega o catálogo de dados enriquecido.",
                    "is_async": false
                  },
                  {
                    "name": "search_products",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_build_prompt_for_filter_extraction",
                    "docstring": "Constrói o prompt para o LLM extrair filtros da query do usuário.",
                    "is_async": false
                  },
                  {
                    "name": "_simulate_llm_filter_extraction",
                    "docstring": "Função de simulação para demonstrar a extração de filtros. Substituir por uma chamada real ao LLM.",
                    "is_async": false
                  },
                  {
                    "name": "get_product_details",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_columns_info",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "analyze_product_performance",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_sales_history",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "re",
              "pandas",
              "app.core.utils.db_utils",
              "json",
              "app.core.agents.caculinha_bi_agent"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\prompt_loader.py",
          "name": "prompt_loader.py",
          "extension": ".py",
          "size": 4758,
          "category": "source_python",
          "purpose": "Define classes: PromptLoader",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "PromptLoader",
                "docstring": "Classe responsável por carregar prompts externos em formato JSON",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o carregador de prompts\n\nArgs:\n    prompts_dir (str): Diretório onde os arquivos de prompt estão localizados",
                    "is_async": false
                  },
                  {
                    "name": "load_prompt",
                    "docstring": "Carrega um prompt específico pelo nome do arquivo\n\nArgs:\n    prompt_name (str): Nome do arquivo de prompt (sem extensão)\n\nReturns:\n    dict: Conteúdo do prompt carregado ou None se ocorrer erro",
                    "is_async": false
                  },
                  {
                    "name": "list_available_prompts",
                    "docstring": "Lista todos os prompts disponíveis no diretório\n\nReturns:\n    list: Lista de nomes de arquivos de prompt disponíveis",
                    "is_async": false
                  },
                  {
                    "name": "save_prompt",
                    "docstring": "Salva um prompt em formato JSON\n\nArgs:\n    prompt_name (str): Nome do arquivo de prompt (sem extensão)\n    prompt_data (dict): Dados do prompt a serem salvos\n\nReturns:\n    bool: True se o prompt foi salvo com sucesso, False caso contrário",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "logging",
              "os",
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\supervisor_agent.py",
          "name": "supervisor_agent.py",
          "extension": ".py",
          "size": 4125,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: SupervisorAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "SupervisorAgent",
                "docstring": "Agente supervisor simplificado que roteia consultas para o ToolAgent.\nREMOVIDA importação circular com tool_agent.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o supervisor.\nNOTA: ToolAgent agora é inicializado sob demanda para evitar importação circular.",
                    "is_async": false
                  },
                  {
                    "name": "tool_agent",
                    "docstring": "Lazy initialization do ToolAgent para evitar importação circular.",
                    "is_async": false
                  },
                  {
                    "name": "_detect_chart_intent",
                    "docstring": "Detecta se a consulta tem intenção de gerar gráficos.\n\nArgs:\n    query: Consulta do usuário\n\nReturns:\n    True se detecta intenção de gráfico, False caso contrário",
                    "is_async": false
                  },
                  {
                    "name": "route_query",
                    "docstring": "Roteia a consulta para o ToolAgent.\n\nArgs:\n    query: Consulta do usuário\n\nReturns:\n    Resposta do ToolAgent",
                    "is_async": false
                  },
                  {
                    "name": "stream_query",
                    "docstring": "Roteia a consulta para o ToolAgent com streaming.\n\nArgs:\n    query: Consulta do usuário\n\nYields:\n    dict: Eventos do agente (chunks de texto, ações, etc.)",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "typing",
              "app.core.agents.tool_agent"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\agents\\tool_agent.py",
          "name": "tool_agent.py",
          "extension": ".py",
          "size": 9172,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: ToolAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "ToolAgent",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_create_agent_executor",
                    "docstring": "Cria e retorna um AgentExecutor com agente de ferramentas.",
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa a query do usuário usando o agente LangChain.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "initialize_agent_for_session",
                "docstring": "Função de fábrica para inicializar o agente.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "sys",
              "os",
              "typing",
              "app.core.llm_base",
              "app.core.llm_gemini_adapter",
              "app.core.llm_langchain_adapter",
              "app.core.utils.response_parser",
              "app.core.utils.chart_saver",
              "app.core.tools.unified_data_tools",
              "app.core.tools.date_time_tools",
              "app.core.tools.chart_tools",
              "langchain_core.prompts",
              "langchain_core.messages",
              "langchain_core.runnables",
              "langchain_core.agents",
              "transformers",
              "langchain.agents",
              "langchain_classic.agents",
              "traceback"
            ],
            "constants": [
              "LANGCHAIN_AVAILABLE"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\auth_service.py",
          "name": "auth_service.py",
          "extension": ".py",
          "size": 14607,
          "category": "source_python",
          "purpose": "Define classes: AuthService",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "AuthService",
                "docstring": "Authentication service with intelligent fallback.\n\nPriority:\n1. SQL Server (if USE_SQL_SERVER=true and available)\n2. Parquet (fallback or when SQL Server disabled)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_verify_password",
                    "docstring": "Verify password using bcrypt",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "pathlib",
              "typing",
              "datetime",
              "json",
              "polars",
              "bcrypt",
              "sqlalchemy.ext.asyncio",
              "sqlalchemy",
              "app.config.settings",
              "app.infrastructure.database.models",
              "app.core.supabase_client",
              "supabase",
              "app.core.supabase_client",
              "sqlalchemy",
              "json"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\cache.py",
          "name": "cache.py",
          "extension": ".py",
          "size": 8501,
          "category": "source_python",
          "purpose": "Agent Graph Cache",
          "details": {
            "type": "python",
            "docstring": "Agent Graph Cache\nManages caching of agent graphs, both in-memory and on disk, with versioning.",
            "classes": [
              {
                "name": "AgentGraphCache",
                "docstring": "A hybrid in-memory and on-disk cache specifically for agent graphs.\nSupports versioning for automatic invalidation and TTL.\n(T6.1.1 from TASK_LIST)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_cache_file_path",
                    "docstring": "Generates a file path for a given cache key.",
                    "is_async": false
                  },
                  {
                    "name": "_get_current_version",
                    "docstring": "Generates a hash representing the current version of the agent's code/config.\nThis hash is used to invalidate the cache if agent logic changes.\n(T6.1.4 from TASK_LIST)",
                    "is_async": false
                  },
                  {
                    "name": "_load_from_disk",
                    "docstring": "Loads a single cache entry from disk.",
                    "is_async": false
                  },
                  {
                    "name": "_save_to_disk",
                    "docstring": "Saves a single cache entry to disk.",
                    "is_async": false
                  },
                  {
                    "name": "_load_all_from_disk",
                    "docstring": "Loads all valid cache entries from disk into memory on startup.",
                    "is_async": false
                  },
                  {
                    "name": "get",
                    "docstring": "Gets an entry from the cache (memory first, then disk).\nChecks for expiration and version compatibility.",
                    "is_async": false
                  },
                  {
                    "name": "set",
                    "docstring": "Sets an entry in the cache (both in-memory and on disk).",
                    "is_async": false
                  },
                  {
                    "name": "clear",
                    "docstring": "Clears a specific key or the entire cache.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "time",
              "json",
              "os",
              "hashlib",
              "typing",
              "datetime",
              "app.config.settings",
              "time"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\code_rag_service.py",
          "name": "code_rag_service.py",
          "extension": ".py",
          "size": 10985,
          "category": "source_python",
          "purpose": "Code RAG Service - Semantic Code Search with LlamaIndex + Gemini",
          "details": {
            "type": "python",
            "docstring": "Code RAG Service - Semantic Code Search with LlamaIndex + Gemini\n================================================================\n\nProvides semantic search and analysis of the entire codebase using:\n- LlamaIndex for RAG (Retrieval-Augmented Generation)\n- Gemini 3.0 Flash for LLM\n- GeminiEmbedding for semantic search\n- FAISS for vector storage\n\nAuthor: Antigravity AI\nDate: 2025-12-15",
            "classes": [
              {
                "name": "CodeRAGService",
                "docstring": "Service for semantic code search and analysis using RAG.\n\nFeatures:\n- Semantic search across entire codebase\n- Context-aware code analysis\n- Intelligent code suggestions\n- Multi-language support (Python, TypeScript, etc.)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Initialize the RAG service with lazy loading.",
                    "is_async": false
                  },
                  {
                    "name": "_ensure_initialized",
                    "docstring": "Lazy initialization of the RAG engine.\nOnly loads when first query is made.\n\nReturns:\n    bool: True if initialized successfully",
                    "is_async": false
                  },
                  {
                    "name": "get_index_stats",
                    "docstring": "Get statistics about the code index.\n\nReturns:\n    Dict with index statistics",
                    "is_async": false
                  },
                  {
                    "name": "query",
                    "docstring": "Query the codebase with semantic search.\n\nArgs:\n    message: User's question about the code\n    history: Previous conversation history\n    filters: Optional filters (language, directory, etc.)\n    \nReturns:\n    Dict with response, code references, and metadata",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_code_rag_service",
                "docstring": "Get or create the singleton CodeRAGService instance.\n\nReturns:\n    CodeRAGService instance",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "json",
              "logging",
              "pathlib",
              "typing",
              "datetime",
              "app.config.settings",
              "llama_index.core",
              "llama_index.core.storage",
              "llama_index.llms.gemini",
              "llama_index.embeddings.gemini",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\context.py",
          "name": "context.py",
          "extension": ".py",
          "size": 904,
          "category": "source_python",
          "purpose": "Funções: set_current_user_context, get_current_user_context, get_current_user_segments",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "set_current_user_context",
                "docstring": "Set the user for the current request context.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_current_user_context",
                "docstring": "Get the user from the current request context.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_current_user_segments",
                "docstring": "Get allowed segments for the current user safely.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "contextvars",
              "typing",
              "app.infrastructure.database.models"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\data_scope_service.py",
          "name": "data_scope_service.py",
          "extension": ".py",
          "size": 7439,
          "category": "source_python",
          "purpose": "Define classes: DataScopeService",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "DataScopeService",
                "docstring": "Serviço para filtrar DataFrames baseados nas permissões de segmento do usuário.\nGarante que cada usuário veja apenas os dados aos quais tem acesso.\n\nPERFORMANCE UPDATE: Uses LazyFrame (scan_parquet) to avoid loading full dataset into memory.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_base_lazyframe",
                    "docstring": "Returns a base LazyFrame with global filters applied.\nWORKAROUND: Uses read_parquet().lazy() instead of scan_parquet() \nto avoid 'assertion left == right failed' panic in streaming engine (Polars 1.34.0).",
                    "is_async": false
                  },
                  {
                    "name": "get_filtered_dataframe",
                    "docstring": "Retorna o DataFrame admmat.parquet filtrado pelos allowed_segments do usuário.\n\nArgs:\n    user: Usuário autenticado\n    max_rows: Limite máximo de linhas a retornar (None = sem limite)\n    \nReturns:\n    pl.DataFrame: The collected filtered data.",
                    "is_async": false
                  },
                  {
                    "name": "get_filtered_lazyframe",
                    "docstring": "Retorna um LazyFrame com os filtros de segurança aplicados, mas SEM coletar os dados.\nPermite que os endpoints façam agregações otimizadas antes de trazer dados para a memória.",
                    "is_async": false
                  },
                  {
                    "name": "_get_empty_lazyframe",
                    "docstring": "Helper para retornar LazyFrame vazio preservando schema",
                    "is_async": false
                  },
                  {
                    "name": "get_user_segments",
                    "docstring": "Retorna a lista de segmentos únicos disponíveis para o usuário.\nSe admin, faz um scan rápido para pegar valores únicos.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "polars",
              "logging",
              "time",
              "typing",
              "pathlib",
              "app.infrastructure.database.models.user",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\data_source_manager.py",
          "name": "data_source_manager.py",
          "extension": ".py",
          "size": 8477,
          "category": "source_python",
          "purpose": "Data Source Manager - Acesso centralizado aos dados Parquet",
          "details": {
            "type": "python",
            "docstring": "Data Source Manager - Acesso centralizado aos dados Parquet\nAdaptado para Agent Solution BI: admmat.parquet",
            "classes": [
              {
                "name": "ParquetDataSource",
                "docstring": "Acesso centralizado ao arquivo admmat.parquet.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "connect",
                    "docstring": "Verifica se arquivo Parquet existe.",
                    "is_async": false
                  },
                  {
                    "name": "is_connected",
                    "docstring": "Verifica se está conectado.",
                    "is_async": false
                  },
                  {
                    "name": "_load_data",
                    "docstring": "Carrega os dados do arquivo Parquet usando ParquetCache global.\n[OK]: OTIMIZADO: Usa cache global ao invés de cache local.",
                    "is_async": false
                  },
                  {
                    "name": "get_data",
                    "docstring": "Obtém todos os dados ou limitados.\nSECURITY 2025: Aplica Row-Level Security (RLS) automaticamente.",
                    "is_async": false
                  },
                  {
                    "name": "search",
                    "docstring": "Busca em uma coluna.",
                    "is_async": false
                  },
                  {
                    "name": "get_filtered_data",
                    "docstring": "Busca com filtros exatos.",
                    "is_async": false
                  },
                  {
                    "name": "get_columns",
                    "docstring": "Retorna lista de colunas.",
                    "is_async": false
                  },
                  {
                    "name": "get_shape",
                    "docstring": "Retorna dimensões dos dados.",
                    "is_async": false
                  },
                  {
                    "name": "get_info",
                    "docstring": "Retorna informações sobre os dados.",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "DataSourceManager",
                "docstring": "Gerenciador de fonte de dados centralizado.\nAcessa: data/parquet/admmat.parquet",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_data",
                    "docstring": "Obtém dados (table_name é ignorado).",
                    "is_async": false
                  },
                  {
                    "name": "search_data",
                    "docstring": "Busca dados em coluna especificada.",
                    "is_async": false
                  },
                  {
                    "name": "get_filtered_data",
                    "docstring": "Busca com filtros.",
                    "is_async": false
                  },
                  {
                    "name": "execute_query",
                    "docstring": "Não suportado para Parquet.",
                    "is_async": false
                  },
                  {
                    "name": "get_available_sources",
                    "docstring": "Retorna fontes disponíveis.",
                    "is_async": false
                  },
                  {
                    "name": "get_source_info",
                    "docstring": "Retorna informações da fonte.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_data_manager",
                "docstring": "Retorna instância singleton do DataSourceManager.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "pandas",
              "pathlib",
              "typing",
              "app.core.parquet_cache",
              "app.core.context"
            ],
            "constants": [
              "PROJECT_ROOT",
              "MAIN_DATA_FILE"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\factory\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 18,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\factory\\component_factory.py",
          "name": "component_factory.py",
          "extension": ".py",
          "size": 1903,
          "category": "source_python",
          "purpose": "Fábrica de Componentes",
          "details": {
            "type": "python",
            "docstring": "Fábrica de Componentes\n\nEste módulo implementa o padrão Factory para criar e gerenciar instâncias\ndos diversos componentes do sistema, facilitando a integração entre eles\ne reduzindo o acoplamento.",
            "classes": [
              {
                "name": "ComponentFactory",
                "docstring": "Fábrica para criar e gerenciar componentes do sistema",
                "methods": [
                  {
                    "name": "get_data_adapter",
                    "docstring": "Obtém uma instância do adaptador de dados híbrido",
                    "is_async": false
                  },
                  {
                    "name": "reset_component",
                    "docstring": "Reinicia um componente específico, removendo sua instância atual\n\nArgs:\n    component_name (str): Nome do componente a ser reiniciado\n\nReturns:\n    bool: True se o componente foi reiniciado com sucesso, False caso contrário",
                    "is_async": false
                  },
                  {
                    "name": "reset_all",
                    "docstring": "Reinicia todos os componentes, removendo todas as instâncias atuais",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "typing",
              "app.infrastructure.data.hybrid_adapter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\graph\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 446,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "logging"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\graph\\agent.py",
          "name": "agent.py",
          "extension": ".py",
          "size": 3473,
          "category": "source_python",
          "purpose": "Agente BI: Define classes: GraphAgent",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "GraphAgent",
                "docstring": "Agente principal do grafo, responsável por orquestrar o LLM e as ferramentas.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o agente.\n\nArgs:\n    llm (BaseChatModel, optional): O modelo de linguagem a ser usado.\n    tools (list, optional): A lista de ferramentas disponíveis.",
                    "is_async": false
                  },
                  {
                    "name": "_get_system_prompt_template",
                    "docstring": "Retorna o template do prompt do sistema.",
                    "is_async": false
                  },
                  {
                    "name": "_create_agent_runnable",
                    "docstring": "Cria o 'Agent Runnable' com as ferramentas vinculadas.",
                    "is_async": false
                  },
                  {
                    "name": "process",
                    "docstring": "Processa uma lista de mensagens através do agente.\n\nArgs:\n    messages (list): A lista de mensagens da conversa.\n\nReturns:\n    A resposta do agente.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "langchain_core.prompts",
              "llm_factory",
              "llm_langchain_adapter",
              "tools.sql_server_tools"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\intelligent_chatbi.py",
          "name": "intelligent_chatbi.py",
          "extension": ".py",
          "size": 7104,
          "category": "source_python",
          "purpose": "Chat BI - Sistema Inteligente com Gemini",
          "details": {
            "type": "python",
            "docstring": "Chat BI - Sistema Inteligente com Gemini\nSolução definitiva para processar perguntas em linguagem natural",
            "classes": [
              {
                "name": "IntelligentChatBI",
                "docstring": "Sistema inteligente de Chat BI usando Gemini para NL2SQL",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_load_schema",
                    "docstring": "Carrega schema do Parquet para contexto",
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa pergunta do usuário usando Gemini\nRetorna resposta estruturada com dados e texto",
                    "is_async": false
                  },
                  {
                    "name": "_format_response",
                    "docstring": "Formata resposta baseado no template",
                    "is_async": false
                  },
                  {
                    "name": "_fallback_response",
                    "docstring": "Resposta de fallback quando Gemini falha",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "google.generativeai",
              "polars",
              "pathlib",
              "json",
              "re",
              "typing",
              "os",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\learning\\continuous_learner.py",
          "name": "continuous_learner.py",
          "extension": ".py",
          "size": 19807,
          "category": "source_python",
          "purpose": "Sistema de Aprendizado Contínuo para LLM",
          "details": {
            "type": "python",
            "docstring": "Sistema de Aprendizado Contínuo para LLM\n=========================================\n\nImplementa Online Feedback Loop moderno (2025) que transforma feedback passivo\nem melhoria ativa do modelo através de:\n- Coleta inteligente de feedback\n- Golden dataset curation\n- Prompt re-optimization automática\n- Low-confidence routing para supervisão humana\n\nAuthor: Agent BI Team\nDate: 2025-12-27",
            "classes": [
              {
                "name": "ContinuousLearner",
                "docstring": "Sistema de aprendizado contínuo que processa feedback do usuário\ne automaticamente melhora a qualidade das respostas.\n\nInspirado em: Lemma (YC 2025) e best practices de LLMOps 2025",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o Continuous Learner.\n\nArgs:\n    golden_dataset_path: Caminho para armazenar golden dataset\n    feedback_buffer_size: Tamanho do buffer antes de re-otimizar\n    confidence_threshold: Threshold para routing humano (< 0.7 = baixa confiança)\n    auto_optimize: Se True, re-otimiza prompts automaticamente",
                    "is_async": false
                  },
                  {
                    "name": "_calculate_review_priority",
                    "docstring": "Calcula prioridade de review (high/medium/low).\n\nHigh priority:\n- Confiança < 0.5\n- Feedback negativo com comentário\n- Erro detectado",
                    "is_async": false
                  },
                  {
                    "name": "_identify_error_patterns",
                    "docstring": "Identifica padrões comuns em feedback negativo.\n\nAnalisa:\n- Keywords frequentes em queries problemáticas\n- Tipos de erro comuns\n- Comentários dos usuários",
                    "is_async": false
                  },
                  {
                    "name": "_select_best_few_shot_examples",
                    "docstring": "Seleciona os melhores exemplos para few-shot learning.\n\nCritérios:\n- Alta confiança\n- Queries diversas (evitar duplicatas)\n- Respostas completas",
                    "is_async": false
                  },
                  {
                    "name": "_generate_optimization_suggestions",
                    "docstring": "Gera sugestões concretas de otimização baseadas nos padrões de erro.",
                    "is_async": false
                  },
                  {
                    "name": "_extract_tags",
                    "docstring": "Extrai tags automáticas de uma query para categorização.\n\nExemplos:\n- \"vendas por segmento\" → ['vendas', 'segmento', 'analise']\n- \"estoque crítico\" → ['estoque', 'ruptura', 'alerta']",
                    "is_async": false
                  },
                  {
                    "name": "_extract_keywords",
                    "docstring": "Extrai keywords principais de um texto.",
                    "is_async": false
                  },
                  {
                    "name": "get_golden_dataset_stats",
                    "docstring": "Retorna estatísticas do golden dataset.",
                    "is_async": false
                  },
                  {
                    "name": "get_pending_reviews",
                    "docstring": "Retorna itens pendentes de review humano, ordenados por prioridade.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_continuous_learner",
                "docstring": "Retorna instância singleton do ContinuousLearner.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "json",
              "os",
              "logging",
              "datetime",
              "pathlib",
              "typing",
              "collections",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\learning\\feedback_system.py",
          "name": "feedback_system.py",
          "extension": ".py",
          "size": 9048,
          "category": "source_python",
          "purpose": "Sistema de coleta e análise de feedback do usuário.",
          "details": {
            "type": "python",
            "docstring": "Sistema de coleta e análise de feedback do usuário.",
            "classes": [
              {
                "name": "FeedbackSystem",
                "docstring": "Sistema para coletar, armazenar e analisar feedback do usuário\nsobre queries e respostas do sistema.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o sistema de feedback.\n\nArgs:\n    feedback_dir: Diretório para armazenar feedback (opcional)",
                    "is_async": false
                  },
                  {
                    "name": "record_feedback",
                    "docstring": "Registra feedback do usuário sobre uma query.\n\nArgs:\n    query: Query original do usuário\n    code: Código gerado\n    feedback_type: 'positive', 'negative', ou 'partial'\n    user_comment: Comentário adicional do usuário (opcional)\n    result_rows: Número de linhas retornadas\n    session_id: ID da sessão (opcional)\n    user_id: ID do usuário (opcional)\n\nReturns:\n    True se salvou com sucesso",
                    "is_async": false
                  },
                  {
                    "name": "get_feedback_stats",
                    "docstring": "Calcula estatísticas de feedback dos últimos N dias.\n\nArgs:\n    days: Número de dias para analisar\n\nReturns:\n    Dicionário com estatísticas",
                    "is_async": false
                  },
                  {
                    "name": "get_problematic_queries",
                    "docstring": "Retorna queries que receberam mais feedback negativo.\n\nArgs:\n    limit: Número máximo de queries a retornar\n\nReturns:\n    Lista de queries problemáticas",
                    "is_async": false
                  },
                  {
                    "name": "export_feedback_for_training",
                    "docstring": "Exporta feedback positivo para treinar o sistema (RAG/few-shot).\n\nArgs:\n    output_file: Arquivo de saída (opcional)\n\nReturns:\n    True se exportou com sucesso",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "os",
              "logging",
              "datetime",
              "typing",
              "datetime",
              "collections"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\learning\\pattern_matcher.py",
          "name": "pattern_matcher.py",
          "extension": ".py",
          "size": 3268,
          "category": "source_python",
          "purpose": "Define classes: PatternMatcher",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "PatternMatcher",
                "docstring": "Detects known query patterns and provides few-shot examples for code generation.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_load_patterns",
                    "docstring": "Loads pre-defined patterns and their associated example code/structure.",
                    "is_async": false
                  },
                  {
                    "name": "match_pattern",
                    "docstring": "Attempts to match the user query against known patterns.\nReturns the pattern with example code if a match is found.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\llm_base.py",
          "name": "llm_base.py",
          "extension": ".py",
          "size": 155,
          "category": "source_python",
          "purpose": "Define classes: BaseLLMAdapter",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "BaseLLMAdapter",
                "docstring": null,
                "methods": [
                  {
                    "name": "get_completion",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "ABC"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "abc"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\llm_factory.py",
          "name": "llm_factory.py",
          "extension": ".py",
          "size": 3119,
          "category": "source_python",
          "purpose": "Factory para seleção automática de adaptadores LLM.",
          "details": {
            "type": "python",
            "docstring": "Factory para seleção automática de adaptadores LLM.",
            "classes": [
              {
                "name": "LLMFactory",
                "docstring": "Factory pattern para criar adaptadores LLM.",
                "methods": [
                  {
                    "name": "__new__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_adapter",
                    "docstring": "Obtém o adaptador LLM configurado (apenas Gemini).\n\nReturns:\n    BaseLLMAdapter: Adaptador LLM inicializado\n\nRaises:\n    ValueError: Se o adaptador Gemini não puder ser inicializado",
                    "is_async": false
                  },
                  {
                    "name": "_get_gemini_adapter",
                    "docstring": "Tenta inicializar adaptador Gemini.",
                    "is_async": false
                  },
                  {
                    "name": "reset",
                    "docstring": "Reseta o adaptador cache (útil para testes).",
                    "is_async": false
                  },
                  {
                    "name": "get_available_providers",
                    "docstring": "Verifica quais provedores estão disponíveis.\n\nReturns:\n    dict: {'gemini': bool}",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "typing",
              "app.config.settings",
              "app.core.llm_base",
              "app.core.llm_gemini_adapter",
              "app.core.llm_gemini_adapter_v3"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\llm_gemini_adapter.py",
          "name": "llm_gemini_adapter.py",
          "extension": ".py",
          "size": 30024,
          "category": "source_python",
          "purpose": "Adaptador de dados: Define classes: GeminiLLMAdapter",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "GeminiLLMAdapter",
                "docstring": "Adaptador para Google Gemini API.\nImplementa padrão similar ao OpenAI com retry automático e tratamento de erros.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_llm",
                    "docstring": "Returns a LangChain-compatible ChatGoogleGenerativeAI instance.\nThis method is required by chat.py endpoint for agent initialization.\nFalls back to self if langchain-google-genai is not available.",
                    "is_async": false
                  },
                  {
                    "name": "invoke",
                    "docstring": "Implementation of the LangChain Runnable invoke protocol.\nAllows the adapter to be used directly in LangChain sequences.",
                    "is_async": false
                  },
                  {
                    "name": "get_completion",
                    "docstring": "Obtém completion da API Gemini com retry automático.\n\nMODIFICAÇÃO (Gemini 3 + REST):\nSe o modelo for 'gemini-3-flash-preview', usa a implementação REST direta (_generate_via_rest)\npara garantir suporte a 'thought_signature', que é filtrado pela biblioteca 'google-generativeai' (depreciada).",
                    "is_async": false
                  },
                  {
                    "name": "_generate_via_rest",
                    "docstring": "Fallback implementation using direct REST API calls to support Gemini 3 thought_signatures.\nBypasses the deprecated google-generativeai library limitations.",
                    "is_async": false
                  },
                  {
                    "name": "_convert_messages_rest",
                    "docstring": "Converte mensagens para formato REST JSON puro (sem objetos SDK).",
                    "is_async": false
                  },
                  {
                    "name": "_convert_messages",
                    "docstring": "Converte mensagens do formato OpenAI-like para formato Gemini.\nMANTER MÉTODO ORIGINAL para compatibilidade",
                    "is_async": false
                  },
                  {
                    "name": "_convert_tools",
                    "docstring": "Converte ferramentas do formato OpenAI-like (agora encapsulado em 'function_declarations')\npara Gemini Tool Format.",
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseLLMAdapter"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "logging",
              "threading",
              "time",
              "queue",
              "json",
              "os",
              "app.core.llm_base",
              "app.config.settings",
              "google.generativeai",
              "google.api_core.exceptions",
              "google.generativeai.types",
              "langchain_core.messages",
              "langchain_core.prompt_values",
              "requests"
            ],
            "constants": [
              "GEMINI_AVAILABLE",
              "LANGCHAIN_GEMINI_AVAILABLE",
              "LANGCHAIN_GEMINI_AVAILABLE"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\llm_gemini_adapter_v2.py",
          "name": "llm_gemini_adapter_v2.py",
          "extension": ".py",
          "size": 12353,
          "category": "source_python",
          "purpose": "Adaptador de dados: GeminiLLMAdapter V2 - Usando objetos nativos do SDK",
          "details": {
            "type": "python",
            "docstring": "GeminiLLMAdapter V2 - Usando objetos nativos do SDK\nSOLUÇÃO PARA THOUGHT SIGNATURES - Usar Content/Part nativos em vez de dicionários",
            "classes": [
              {
                "name": "GeminiLLMAdapterV2",
                "docstring": "Adapter usando OBJETOS NATIVOS do SDK para preservar thought_signatures automaticamente",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_completion",
                    "docstring": "Obtém completion usando objetos NATIVOS do SDK (Content/Part)\nIsso garante que thought_signatures sejam preservados automaticamente",
                    "is_async": false
                  },
                  {
                    "name": "_messages_to_contents",
                    "docstring": "Converte mensagens do formato OpenAI-like para objetos NATIVOS Content/Part do Gemini.\nLida com a persistência de histórico: se um tool call antigo não tiver _native_part\n(porque veio do banco de dados/JSON), ele deve ser removido para evitar Erro 400 (missing thought_signature).",
                    "is_async": false
                  },
                  {
                    "name": "_convert_tools",
                    "docstring": "Converte ferramentas para formato Gemini",
                    "is_async": false
                  },
                  {
                    "name": "get_llm",
                    "docstring": "Retorna self para compatibilidade",
                    "is_async": false
                  },
                  {
                    "name": "invoke",
                    "docstring": "Implementation of LangChain Runnable protocol",
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseLLMAdapter"
                ]
              }
            ],
            "functions": [
              {
                "name": "_convert_to_serializable",
                "docstring": "Converte recursivamente objetos Protobuf (MapComposite, RepeatedComposite) \npara tipos Python nativos (dict, list).\n\nCRÍTICO: Esta função resolve o erro \"Object of type MapComposite is not JSON serializable\"\nque ocorre quando a API Gemini retorna objetos especiais em function_call.args.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "typing",
              "logging",
              "json",
              "os",
              "google.generativeai",
              "google.generativeai.protos",
              "app.core.llm_base",
              "app.config.settings",
              "google.generativeai.types",
              "langchain_core.messages"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\llm_gemini_adapter_v3.py",
          "name": "llm_gemini_adapter_v3.py",
          "extension": ".py",
          "size": 8001,
          "category": "source_python",
          "purpose": "Adaptador de dados: GeminiLLMAdapter V3 - Usando o NOVO SDK google-genai (Oficial 2025)",
          "details": {
            "type": "python",
            "docstring": "GeminiLLMAdapter V3 - Usando o NOVO SDK google-genai (Oficial 2025)\nSuporte nativo para Thinking (Reasoning) e Function Calling simplificado.",
            "classes": [
              {
                "name": "GeminiLLMAdapterV3",
                "docstring": "Adapter moderno usando o SDK google-genai (v1.0.0+)\nSuporta nativamente o 'thinking' do Gemini 3.0+.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_completion",
                    "docstring": "Obtém completion usando o novo SDK.\nInclui o 'thought process' (thinking) na resposta se disponível.",
                    "is_async": false
                  },
                  {
                    "name": "_convert_messages",
                    "docstring": "Converte o histórico para o formato do novo SDK",
                    "is_async": false
                  },
                  {
                    "name": "_convert_tools_to_sdk",
                    "docstring": "Converte declarações de funções para o novo formato de Tools",
                    "is_async": false
                  },
                  {
                    "name": "get_llm",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseLLMAdapter"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "logging",
              "json",
              "os",
              "google",
              "google.genai",
              "app.core.llm_base",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\llm_langchain_adapter.py",
          "name": "llm_langchain_adapter.py",
          "extension": ".py",
          "size": 12474,
          "category": "source_python",
          "purpose": "Adaptador de dados: Define classes: CustomLangChainLLM",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "CustomLangChainLLM",
                "docstring": null,
                "methods": [
                  {
                    "name": "_llm_type",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "bind_tools",
                    "docstring": "Bind tools to the model.",
                    "is_async": false
                  },
                  {
                    "name": "_generate",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_stream",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseChatModel"
                ]
              }
            ],
            "functions": [
              {
                "name": "_clean_json_schema",
                "docstring": "Remove a chave 'anyOf' de um dicionário JSON Schema, recursivamente.\nA API Gemini não suporta 'anyOf' diretamente.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "typing",
              "json",
              "logging",
              "app.core.llm_base",
              "langchain_core.callbacks",
              "langchain_core.language_models",
              "langchain_core.messages",
              "langchain_core.outputs"
            ],
            "constants": [
              "LANGCHAIN_AVAILABLE"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\logging_config.py",
          "name": "logging_config.py",
          "extension": ".py",
          "size": 13922,
          "category": "source_python",
          "purpose": "Sistema de Logging Centralizado",
          "details": {
            "type": "python",
            "docstring": "Sistema de Logging Centralizado\nConfiguração completa de logs para o AgentBI Backend",
            "classes": [
              {
                "name": "LogConfig",
                "docstring": "Configuração centralizada de logging",
                "methods": [
                  {
                    "name": "setup_directories",
                    "docstring": "Cria todos os diretórios de logs necessários",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "JSONFormatter",
                "docstring": "Formatter que gera logs em formato JSON estruturado",
                "methods": [
                  {
                    "name": "format",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "logging.Formatter"
                ]
              },
              {
                "name": "ColoredConsoleFormatter",
                "docstring": "Formatter com cores para console (development)",
                "methods": [
                  {
                    "name": "format",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "logging.Formatter"
                ]
              }
            ],
            "functions": [
              {
                "name": "get_file_handler",
                "docstring": "Cria um handler rotativo para arquivo",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_timed_file_handler",
                "docstring": "Cria um handler com rotação por tempo",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_console_handler",
                "docstring": "Cria um handler para console",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "setup_logger",
                "docstring": "Configura um logger específico\n\nArgs:\n    name: Nome do logger\n    log_file: Caminho do arquivo de log (opcional)\n    level: Nível de log\n    console: Se deve mostrar logs no console\n    use_json: Se deve usar formato JSON\n\nReturns:\n    Logger configurado",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "configure_structlog",
                "docstring": "Configura structlog para logging estruturado\n\nArgs:\n    environment: Ambiente de execução (development, staging, production)",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "setup_application_logging",
                "docstring": "Configura todo o sistema de logging da aplicação\n\nArgs:\n    environment: Ambiente de execução",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "log_api_request",
                "docstring": "Log de requisição API",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "log_api_response",
                "docstring": "Log de resposta API",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "log_security_event",
                "docstring": "Log de evento de segurança",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "log_audit_event",
                "docstring": "Log de evento de auditoria",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "log_chat_interaction",
                "docstring": "Log de interação de chat",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "sys",
              "datetime",
              "pathlib",
              "typing",
              "json",
              "logging.handlers",
              "structlog"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\logging_middleware.py",
          "name": "logging_middleware.py",
          "extension": ".py",
          "size": 10655,
          "category": "source_python",
          "purpose": "Middleware de Logging para FastAPI",
          "details": {
            "type": "python",
            "docstring": "Middleware de Logging para FastAPI\nCaptura e registra todas as requisições e respostas HTTP",
            "classes": [
              {
                "name": "RequestLoggingMiddleware",
                "docstring": "Middleware que registra todas as requisições HTTP\ncom informações detalhadas e métricas de performance",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseHTTPMiddleware"
                ]
              },
              {
                "name": "PerformanceLoggingMiddleware",
                "docstring": "Middleware que registra métricas de performance\ne identifica requisições lentas",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseHTTPMiddleware"
                ]
              },
              {
                "name": "SecurityLoggingMiddleware",
                "docstring": "Middleware que registra eventos de segurança\ncomo tentativas de autenticação, acessos negados, etc.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseHTTPMiddleware"
                ]
              },
              {
                "name": "AuditLoggingMiddleware",
                "docstring": "Middleware que registra ações de auditoria\npara operações de escrita (POST, PUT, DELETE, PATCH)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseHTTPMiddleware"
                ]
              },
              {
                "name": "ErrorLoggingMiddleware",
                "docstring": "Middleware que captura e registra todos os erros",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseHTTPMiddleware"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "time",
              "uuid",
              "typing",
              "structlog",
              "fastapi",
              "starlette.middleware.base",
              "starlette.types",
              "logging_config"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\monitoring\\metrics_dashboard.py",
          "name": "metrics_dashboard.py",
          "extension": ".py",
          "size": 8802,
          "category": "source_python",
          "purpose": "Define classes: MetricsDashboard",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "MetricsDashboard",
                "docstring": "Collects and provides various metrics for monitoring the BI agent's performance.\n(T4.4.2 from TASK_LIST)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_metrics",
                    "docstring": "Retrieves key performance indicators (KPIs) for the last N days.\n- Success Rate (from feedback)\n- Average Response Time (placeholder)\n- Cache Hit Rate\n- Total Queries\n- Total Errors",
                    "is_async": false
                  },
                  {
                    "name": "get_error_trend",
                    "docstring": "Provides a daily trend of errors for the last N days.",
                    "is_async": false
                  },
                  {
                    "name": "get_top_queries",
                    "docstring": "Identifies the most frequent queries in the last N days.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "os",
              "datetime",
              "typing",
              "collections",
              "pathlib",
              "app.config.settings",
              "app.core.utils.query_history",
              "app.core.utils.response_cache",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\parquet_cache.py",
          "name": "parquet_cache.py",
          "extension": ".py",
          "size": 4494,
          "category": "source_python",
          "purpose": "Parquet Cache System with LRU eviction policy",
          "details": {
            "type": "python",
            "docstring": "Parquet Cache System with LRU eviction policy\nMaintains up to 5 Parquet DataFrames in memory (~500 MB max)\nThread-safe for concurrent access",
            "classes": [
              {
                "name": "ParquetCache",
                "docstring": "Thread-safe LRU cache for Parquet DataFrames\nSingleton pattern ensures single cache instance across the application",
                "methods": [
                  {
                    "name": "__new__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_dataframe",
                    "docstring": "Get DataFrame from cache or load from disk\n\nArgs:\n    parquet_name: Name of the parquet file (e.g., \"admmat.parquet\")\n\nReturns:\n    pl.DataFrame: Cached or freshly loaded DataFrame\n\nRaises:\n    FileNotFoundError: If parquet file doesn't exist",
                    "is_async": false
                  },
                  {
                    "name": "_load_parquet",
                    "docstring": "Load Parquet file from disk (hybrid Docker/Dev path support)\n\nArgs:\n    parquet_name: Name of the parquet file\n\nReturns:\n    pl.DataFrame: Loaded DataFrame\n\nRaises:\n    FileNotFoundError: If file not found in any location",
                    "is_async": false
                  },
                  {
                    "name": "clear",
                    "docstring": "Clear cache (useful for testing or manual refresh)",
                    "is_async": false
                  },
                  {
                    "name": "get_cache_info",
                    "docstring": "Get cache statistics",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "collections",
              "pathlib",
              "polars",
              "threading",
              "logging"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\chart_system_prompt.txt",
          "name": "chart_system_prompt.txt",
          "extension": ".txt",
          "size": 4813,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\app\\core\\prompts\\code_generation_system_prompt.md",
          "name": "code_generation_system_prompt.md",
          "extension": ".md",
          "size": 1519,
          "category": "docs",
          "purpose": "Não identificado",
          "details": {
            "type": "markdown",
            "sections": [],
            "preview": "Você é um assistente de BI experiente, especializado em gerar código Python para análise de dados.\nSua saída deve ser EXCLUSIVAMENTE o código Python, encapsulado em um bloco JSON com a chave 'code'.\nO código deve utilizar a biblioteca `polars` para manipulação de DataFrames, pois a variável `df` já é um DataFrame Polars.\nSe a query solicitar um gráfico, a saída do JSON deve incluir também uma chave 'chart_spec' com a especificação JSON do Plotly.\nSempre retorne um dicionário (Dict) Python contendo os resultados da análise."
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\json_filter_generation_prompt.md",
          "name": "json_filter_generation_prompt.md",
          "extension": ".md",
          "size": 799,
          "category": "docs",
          "purpose": "Não identificado",
          "details": {
            "type": "markdown",
            "sections": [],
            "preview": "Você é um gerador de filtros JSON a partir de consultas em linguagem natural.\nMapeie os termos do usuário para campos reais da base de dados ({known_fields}).\nGere um objeto JSON com os filtros e seus valores.\n\nOperadores suportados: =, !=, >, <, >=, <=, IN (para listas), LIKE (para substrings), BETWEEN (para ranges)."
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\prompt_analise.md",
          "name": "prompt_analise.md",
          "extension": ".md",
          "size": 3466,
          "category": "docs",
          "purpose": "Documentação: PROMPT PRINCIPAL DE ANÁLISE - Agent_BI (CO-STAR)",
          "details": {
            "type": "markdown",
            "title": "PROMPT PRINCIPAL DE ANÁLISE - Agent_BI (CO-STAR)",
            "sections": [
              "CONTEXTO (C)",
              "OBJETIVO ATÔMICO (O)",
              "ESTILO (S)",
              "TOM (T)",
              "PÚBLICO-ALVO (A)",
              "FORMATO DE RESPOSTA (R)",
              "RESTRIÇÕES CRÍTICAS",
              "EXEMPLOS DE ENTRADA E SAÍDA",
              "INSTRUÇÕES FINAIS"
            ],
            "preview": "# PROMPT PRINCIPAL DE ANÁLISE - Agent_BI (CO-STAR)\n\n## CONTEXTO (C)\n\n**Esquema de Banco de Dados:**"
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\prompt_desambiguacao.md",
          "name": "prompt_desambiguacao.md",
          "extension": ".md",
          "size": 2298,
          "category": "docs",
          "purpose": "Documentação: PROMPT DE DESAMBIGUAÇÃO - Agent_BI",
          "details": {
            "type": "markdown",
            "title": "PROMPT DE DESAMBIGUAÇÃO - Agent_BI",
            "sections": [
              "PERSONA E PAPEL",
              "CONTEXTO",
              "OBJETIVO ATÔMICO",
              "TAREFA",
              "INSTRUÇÕES DE FORMATO DE SAÍDA",
              "RESTRIÇÕES",
              "TOM E ESTILO"
            ],
            "preview": "# PROMPT DE DESAMBIGUAÇÃO - Agent_BI\n\n## PERSONA E PAPEL\n\n**QUEM VOCÊ É:**"
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\prompt_gerar_manifesto.md",
          "name": "prompt_gerar_manifesto.md",
          "extension": ".md",
          "size": 120709,
          "category": "docs",
          "purpose": "Documentação: Chaves de API e Configurações (substitua com seus valores)",
          "details": {
            "type": "markdown",
            "title": "Chaves de API e Configurações (substitua com seus valores)",
            "sections": [
              "Descrição do Projeto",
              "Funcionalidades Principais",
              "Setup",
              "Arquitetura do Projeto",
              "Visão de Futuro e Roadmap",
              "Arquitetura Detalhada e Fluxos",
              "Por que isso é importante?",
              "Como Editar",
              "Próximos Passos",
              "Resumo da Arquitetura Alvo"
            ],
            "preview": "PROMPT AVANÇADO: GERAÇÃO DO MANIFESTO DA ARQUITETURA ALVO\n1. PERSONA E PAPEL\nVocê é um Arquiteto de Software Sênior e Analista de Sistemas. A sua especialidade é analisar um inventário completo de ficheiros de um projeto de software complexo e, a partir dele, sintetizar um documento de arquitetura claro, conciso e definitivo. O seu objetivo é identificar os componentes essenciais, definir as suas responsabilidades e mapear as suas interações.\n\n2. CONTEXTO E OBJETIVO GERAL"
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\prompt_integracao_avancada.md",
          "name": "prompt_integracao_avancada.md",
          "extension": ".md",
          "size": 85347,
          "category": "docs",
          "purpose": "Documentação: Relatório Completo de Arquivos do Projeto Agent_BI",
          "details": {
            "type": "markdown",
            "title": "Relatório Completo de Arquivos do Projeto Agent_BI",
            "sections": [
              "Diretório Raiz: `C:\\Users\\André\\Documents\\Agent_BI\\`",
              "Diretório Core: `C:\\Users\\André\\Documents\\Agent_BI\\core\\`",
              "Diretório: `dags`",
              "Diretório: `data`",
              "Diretório: `docs`",
              "Diretório: `migrations`",
              "Diretório: `pages`",
              "Diretório: `scripts`",
              "Diretório: `tests`",
              "Diretório: `ui`"
            ],
            "preview": "PROMPT MESTRE: IMPLEMENTAÇÃO DA ARQUITETURA AVANÇADA DO AGENT_BI\n1. PERSONA E PAPEL\nQUEM VOCÊ É:\nVocê é um Arquiteto de Software Sênior e Engenheiro de IA, especialista em migrar sistemas de agentes complexos para arquiteturas LangGraph robustas, seguindo o padrão de Máquina de Estados Finitos. A sua missão é refatorar um projeto existente para um estado de excelência técnica, focando em modularidade, eficiência (mínimo de chamadas ao LLM), e desacoplamento total entre backend e frontend.\n"
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\prompt_refatoracao_completa.md",
          "name": "prompt_refatoracao_completa.md",
          "extension": ".md",
          "size": 1085465,
          "category": "docs",
          "purpose": "Documentação: PROMPT MESTRE: PLANO DE REFATORAÇÃO EXECUTÁVEL E SEGURO",
          "details": {
            "type": "markdown",
            "title": "PROMPT MESTRE: PLANO DE REFATORAÇÃO EXECUTÁVEL E SEGURO",
            "sections": [
              "Diretório Raiz: `C:\\Users\\André\\Documents\\Agent_Solution_BI`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.devcontainer`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.github\\workflows`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\PIL`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest\\_code`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest\\_io`",
              "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest\\assertion`"
            ],
            "preview": "# PROMPT MESTRE: PLANO DE REFATORAÇÃO EXECUTÁVEL E SEGURO\n\n### 1. PERSONA E PAPEL\nVocê é um Arquiteto de Software Sênior e Engenheiro de DevOps. A sua especialidade é analisar projetos de software complexos, identificar redundâncias e desalinhamentos arquiteturais, e gerar um plano de refatoração completo que inclua tanto o código final quanto os scripts de automação para executar as mudanças de forma segura e incremental. A segurança e a manutenibilidade são as suas maiores prioridades.\n"
          }
        },
        {
          "path": "backend\\app\\core\\prompts\\tool_routing_prompt.md",
          "name": "tool_routing_prompt.md",
          "extension": ".md",
          "size": 891,
          "category": "docs",
          "purpose": "Não identificado",
          "details": {
            "type": "markdown",
            "sections": [],
            "preview": "Você é um assistente de BI inteligente. Sua tarefa é selecionar a ferramenta mais apropriada\npara a consulta do usuário. As ferramentas disponíveis são: {tool_names}.\n\nRetorne o nome da ferramenta e os parâmetros em formato JSON. Se nenhuma ferramenta for aplicável,\nindique que a consulta requer geração de código Python."
          }
        },
        {
          "path": "backend\\app\\core\\query_processor.py",
          "name": "query_processor.py",
          "extension": ".py",
          "size": 6156,
          "category": "source_python",
          "purpose": "Define classes: QueryProcessor",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "QueryProcessor",
                "docstring": "Ponto de entrada principal para o processamento de consultas.\nDelega a tarefa para o SupervisorAgent para orquestração.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o processador de consultas e o agente supervisor.",
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa a consulta do usuário, delegando-a diretamente ao SupervisorAgent.\n\nArgs:\n    query (str): A consulta do usuário.\n\nReturns:\n    dict: O resultado do processamento pelo agente especialista apropriado.",
                    "is_async": false
                  },
                  {
                    "name": "stream_query",
                    "docstring": "Processa a consulta do usuário com streaming de eventos do agente.\n\nArgs:\n    query (str): A consulta do usuário.\n\nYields:\n    dict: Eventos do agente (chunks de texto, ações, etc.)",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "app.core.factory.component_factory",
              "app.core.llm_factory",
              "app.core.cache",
              "app.core.agents.supervisor_agent",
              "app.core.tools.quick_response",
              "app.core.parquet_cache"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\rag\\example_collector.py",
          "name": "example_collector.py",
          "extension": ".py",
          "size": 5774,
          "category": "source_python",
          "purpose": "Define classes: ExampleCollector",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "ExampleCollector",
                "docstring": "Collects successful queries, their generated code, and results to serve as\nfew-shot examples for RAG and continuous learning.\n(T6.4.2 from TASK_LIST)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_daily_file_path",
                    "docstring": "Generates the file path for a given day's examples.",
                    "is_async": false
                  },
                  {
                    "name": "add_example",
                    "docstring": "Adds a new successful example to the daily examples file.",
                    "is_async": false
                  },
                  {
                    "name": "_summarize_result",
                    "docstring": "Creates a brief summary of the result.",
                    "is_async": false
                  },
                  {
                    "name": "get_all_examples",
                    "docstring": "Retrieves all examples within a date range.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "os",
              "datetime",
              "typing",
              "app.config.settings",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\rag\\hybrid_retriever.py",
          "name": "hybrid_retriever.py",
          "extension": ".py",
          "size": 21021,
          "category": "source_python",
          "purpose": "Hybrid Retriever - BM25 + Dense Embeddings (2025)",
          "details": {
            "type": "python",
            "docstring": "Hybrid Retriever - BM25 + Dense Embeddings (2025)\n==================================================\n\nImplementa retrieval híbrido moderno combinando:\n- BM25 (keyword-based) para queries com termos específicos (códigos, nomes exatos)\n- Dense Embeddings (semantic) para queries conceituais\n\nBaseado em best practices 2025: +12-30% acurácia vs. métodos isolados.\n\nAuthor: Agent BI Team\nDate: 2025-12-27",
            "classes": [
              {
                "name": "HybridRetriever",
                "docstring": "Retriever híbrido que combina BM25 e Dense Embeddings.\n\nEstratégia de fusão: Reciprocal Rank Fusion (RRF)\n- RRF combina rankings de diferentes métodos de forma robusta\n- Não requer normalização de scores\n- Usado em produção por Cohere, Weaviate, etc.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o Hybrid Retriever.\n\nArgs:\n    examples_path: Caminho para exemplos/documentos\n    embedding_model: Modelo de embedding (text-embedding-004 = Google 2024)\n    bm25_weight: Peso do BM25 no ranking final (0.0-1.0)\n    dense_weight: Peso do dense embeddings (0.0-1.0)\n    use_cache: Se True, cacheia embeddings",
                    "is_async": false
                  },
                  {
                    "name": "_ensure_initialized",
                    "docstring": "Lazy initialization: carrega índices apenas quando necessário.",
                    "is_async": false
                  },
                  {
                    "name": "_initialize_bm25",
                    "docstring": "Inicializa o índice BM25.",
                    "is_async": false
                  },
                  {
                    "name": "_load_or_generate_embeddings",
                    "docstring": "Carrega embeddings do cache ou gera novos.",
                    "is_async": false
                  },
                  {
                    "name": "_generate_embedding",
                    "docstring": "Gera embedding usando Gemini text-embedding-004.\n\nArgs:\n    text: Texto para gerar embedding\n\nReturns:\n    Lista de floats representando o embedding, ou None se falhar",
                    "is_async": false
                  },
                  {
                    "name": "_save_embeddings_cache",
                    "docstring": "Salva cache de embeddings em disco.",
                    "is_async": false
                  },
                  {
                    "name": "_tokenize",
                    "docstring": "Tokeniza texto para BM25.\n\nRemove stopwords e normaliza.",
                    "is_async": false
                  },
                  {
                    "name": "_bm25_search",
                    "docstring": "Busca usando BM25 (keyword-based).\n\nArgs:\n    query: Query de busca\n    top_k: Número de resultados\n\nReturns:\n    Lista de documentos com scores",
                    "is_async": false
                  },
                  {
                    "name": "_dense_search",
                    "docstring": "Busca usando dense embeddings (semantic).\n\nArgs:\n    query: Query de busca\n    top_k: Número de resultados\n\nReturns:\n    Lista de documentos com scores",
                    "is_async": false
                  },
                  {
                    "name": "_cosine_similarity",
                    "docstring": "Calcula similaridade de cosseno entre dois vetores.",
                    "is_async": false
                  },
                  {
                    "name": "_reciprocal_rank_fusion",
                    "docstring": "Combina resultados usando Reciprocal Rank Fusion (RRF).\n\nRRF formula: RRF(d) = Σ 1/(k + rank(d))\n\nArgs:\n    bm25_results: Resultados do BM25\n    dense_results: Resultados do dense search\n    k: Constante RRF (padrão 60, usado em produção)\n\nReturns:\n    Lista combinada e ranqueada",
                    "is_async": false
                  },
                  {
                    "name": "retrieve",
                    "docstring": "Retrieval principal - combina BM25 e Dense.\n\nArgs:\n    query: Query de busca\n    top_k: Número de resultados\n    method: 'hybrid', 'bm25', ou 'dense'\n\nReturns:\n    Lista de documentos ranqueados",
                    "is_async": false
                  },
                  {
                    "name": "get_stats",
                    "docstring": "Retorna estatísticas do retriever.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_hybrid_retriever",
                "docstring": "Retorna instância singleton do HybridRetriever.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "json",
              "logging",
              "functools",
              "asyncio",
              "typing",
              "pathlib",
              "polars",
              "app.config.settings",
              "app.core.rag.example_collector",
              "rank_bm25",
              "google.generativeai",
              "math"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\rag\\query_retriever.py",
          "name": "query_retriever.py",
          "extension": ".py",
          "size": 7983,
          "category": "source_python",
          "purpose": "Define classes: QueryRetriever",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "QueryRetriever",
                "docstring": "Retrieves semantically similar past queries and their associated metadata (code, results)\nto serve as few-shot examples for RAG.\n(T6.4.1 from TASK_LIST)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_cached_model",
                    "docstring": "Internal method to get a cached SentenceTransformer model instance.",
                    "is_async": false
                  },
                  {
                    "name": "_load_model",
                    "docstring": "Loads the Sentence Transformer model lazily using a cached internal method.",
                    "is_async": false
                  },
                  {
                    "name": "_load_index_and_examples",
                    "docstring": "Loads FAISS index and corresponding examples data.",
                    "is_async": false
                  },
                  {
                    "name": "_index_examples_data",
                    "docstring": "Indexes examples data (from self.examples_data) into FAISS.",
                    "is_async": false
                  },
                  {
                    "name": "_index_examples_from_files",
                    "docstring": "(Deprecated) Collects and indexes examples from JSONL files in the examples_path.\nNow uses ExampleCollector.get_all_examples()",
                    "is_async": false
                  },
                  {
                    "name": "get_similar_queries",
                    "docstring": "Retrieves top_k semantically similar queries from the indexed examples.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "os",
              "json",
              "functools",
              "app.core.rag.example_collector",
              "app.config.settings",
              "sentence_transformers",
              "faiss",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\robust_chatbi.py",
          "name": "robust_chatbi.py",
          "extension": ".py",
          "size": 13088,
          "category": "source_python",
          "purpose": "Chat BI - Sistema ROBUSTO com Regex (SEM dependência de API)",
          "details": {
            "type": "python",
            "docstring": "Chat BI - Sistema ROBUSTO com Regex (SEM dependência de API)\nSolução definitiva que funciona 100% offline",
            "classes": [
              {
                "name": "RobustChatBI",
                "docstring": "Sistema robusto de Chat BI usando REGEX\nNão depende de APIs externas - funciona 100% offline",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "process_query",
                    "docstring": "Processa pergunta do usuário usando REGEX robusto\nRetorna resposta estruturada com dados e texto",
                    "is_async": false
                  },
                  {
                    "name": "_extract_produto",
                    "docstring": "Extrai código ou nome do produto usando regex",
                    "is_async": false
                  },
                  {
                    "name": "_extract_une",
                    "docstring": "Extrai código ou nome da UNE usando regex",
                    "is_async": false
                  },
                  {
                    "name": "_extract_periodo",
                    "docstring": "Extrai período usando regex",
                    "is_async": false
                  },
                  {
                    "name": "_detect_query_type",
                    "docstring": "Detecta tipo de consulta",
                    "is_async": false
                  },
                  {
                    "name": "_execute_query",
                    "docstring": "Executa consulta no Parquet",
                    "is_async": false
                  },
                  {
                    "name": "_fallback_response",
                    "docstring": "Resposta de fallback",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "polars",
              "pathlib",
              "re",
              "typing",
              "traceback",
              "traceback",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\security\\data_masking.py",
          "name": "data_masking.py",
          "extension": ".py",
          "size": 3362,
          "category": "source_python",
          "purpose": "Funções: mask_pii, get_pii_summary",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "mask_pii",
                "docstring": "Masks common Personally Identifiable Information (PII) like CPF, email, and phone numbers.\nCPF: Replaces numbers with '*' except for the last two digits.\nEmail: Masks username part, keeps domain.\nPhone: Masks most digits, keeps last four.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_pii_summary",
                "docstring": "Detects and categorizes types of PII present in the text.\nReturns a dictionary with PII types as keys and detected PII fragments as values.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "re",
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\security\\input_validator.py",
          "name": "input_validator.py",
          "extension": ".py",
          "size": 3457,
          "category": "source_python",
          "purpose": "Funções: sanitize_username, validate_password_strength, sanitize_sql_input",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "sanitize_username",
                "docstring": "Sanitizes a username by allowing only alphanumeric characters and underscores.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validate_password_strength",
                "docstring": "Validates password strength based on a set of criteria:\n- Minimum 8 characters\n- At least one uppercase letter\n- At least one lowercase letter\n- At least one digit\n- At least one special character",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "sanitize_sql_input",
                "docstring": "Sanitizes text to prevent SQL injection.\nThis is a basic sanitization. For actual database queries, parameterized queries\nor ORMs should always be preferred. This function is mainly for sanitizing\ninput that might eventually be part of a dynamic query (e.g., column names)\nor used in a context where full parameterization is not possible.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "re"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\supabase_client.py",
          "name": "supabase_client.py",
          "extension": ".py",
          "size": 2285,
          "category": "source_python",
          "purpose": "Supabase Client Configuration",
          "details": {
            "type": "python",
            "docstring": "Supabase Client Configuration\nSingleton instance for Supabase authentication and database access",
            "classes": [],
            "functions": [
              {
                "name": "get_supabase_client",
                "docstring": "Get or create Supabase client instance (using anon key for regular operations)",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_supabase_admin_client",
                "docstring": "Get or create Supabase ADMIN client (using service_role key).\nThis client has elevated privileges and should ONLY be used for admin operations\nlike creating/deleting users.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "supabase",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\supabase_user_service.py",
          "name": "supabase_user_service.py",
          "extension": ".py",
          "size": 11836,
          "category": "source_python",
          "purpose": "Supabase User Management Service",
          "details": {
            "type": "python",
            "docstring": "Supabase User Management Service\nHandles user CRUD operations with Supabase Auth + user_profiles table",
            "classes": [
              {
                "name": "SupabaseUserService",
                "docstring": "Service for managing users in Supabase",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "client",
                    "docstring": "Lazy load Supabase ADMIN client only when needed",
                    "is_async": false
                  },
                  {
                    "name": "create_user",
                    "docstring": "Create a new user in Supabase Auth and user_profiles table\n\nArgs:\n    email: User's email\n    password: User's password\n    username: Username for the system\n    role: User role (admin, user, viewer)\n    full_name: Optional full name\n    allowed_segments: List of allowed segments\n\nReturns:\n    Dictionary with user data\n\nRaises:\n    Exception if user creation fails",
                    "is_async": false
                  },
                  {
                    "name": "list_users",
                    "docstring": "List all users from Supabase\n\nArgs:\n    limit: Maximum number of users to return\n\nReturns:\n    List of user dictionaries",
                    "is_async": false
                  },
                  {
                    "name": "get_user",
                    "docstring": "Get a single user by ID\n\nArgs:\n    user_id: User's UUID\n\nReturns:\n    User dictionary or None if not found",
                    "is_async": false
                  },
                  {
                    "name": "update_user",
                    "docstring": "Update user in Supabase Auth and user_profiles\n\nArgs:\n    user_id: User's UUID\n    email: New email (optional)\n    username: New username (optional)\n    role: New role (optional)\n    full_name: New full name (optional)\n    password: New password (optional)\n    is_active: Active status (optional)\n    allowed_segments: New allowed segments (optional)\n\nReturns:\n    Updated user dictionary\n\nRaises:\n    Exception if update fails",
                    "is_async": false
                  },
                  {
                    "name": "delete_user",
                    "docstring": "Delete user from Supabase Auth and user_profiles\n\nArgs:\n    user_id: User's UUID\n\nReturns:\n    True if successful, False otherwise",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "typing",
              "datetime",
              "app.core.supabase_client",
              "app.config.settings",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\sync_service.py",
          "name": "sync_service.py",
          "extension": ".py",
          "size": 3719,
          "category": "source_python",
          "purpose": "Define classes: SyncService",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "SyncService",
                "docstring": "Serviço para sincronizar dados do SQL Server para arquivos Parquet.",
                "methods": [
                  {
                    "name": "run_sync",
                    "docstring": "Executa a sincronização do admmat.parquet",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "pandas",
              "pyodbc",
              "time",
              "logging",
              "os",
              "pathlib",
              "app.config.settings",
              "app.core.parquet_cache"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 0,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\chart_tools.py",
          "name": "chart_tools.py",
          "extension": ".py",
          "size": 63245,
          "category": "source_python",
          "purpose": "Ferramentas: Ferramentas para geração de gráficos e visualizações.",
          "details": {
            "type": "python",
            "docstring": "Ferramentas para geração de gráficos e visualizações.\nIntegração com Plotly para análise visual de dados.",
            "classes": [],
            "functions": [
              {
                "name": "_get_theme_template",
                "docstring": "Retorna o template de tema padrão.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_apply_chart_customization",
                "docstring": "Aplica customizações padrão aos gráficos.\n\nArgs:\n    fig: Figura Plotly\n    title: Título do gráfico\n    show_legend: Se mostra legenda\n\nReturns:\n    Figura com customizações aplicadas",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_export_chart_to_json",
                "docstring": "Exporta figura como JSON para Streamlit.\n\nArgs:\n    fig: Figura Plotly\n\nReturns:\n    JSON string da figura",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "gerar_grafico_vendas_por_categoria",
                "docstring": "Gera gráfico de barras com o total de produtos por grupo (categoria).\nÚtil para análise de categorias de produtos.\n\nArgs:\n    limite: Número máximo de categorias a mostrar\n    ordenar_por: \"ascendente\" ou \"descendente\"\n\nReturns:\n    Dicionário com gráfico Plotly e dados",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_grafico_estoque_por_produto",
                "docstring": "Gera gráfico de estoque disponível por produto.\nMostra produtos com mais estoque em destaque.\n\nArgs:\n    limite: Número máximo de produtos a mostrar\n    minimo_estoque: Estoque mínimo para incluir\n\nReturns:\n    Dicionário com gráfico e dados de estoque",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_comparacao_precos_categorias",
                "docstring": "Gera gráfico de comparação de preços médios por grupo (categoria).\nÚtil para análise de precificação.\n\nReturns:\n    Dicionário com gráfico comparativo de preços",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_analise_distribuicao_estoque",
                "docstring": "Gera histograma e box plot da distribuição de estoque.\nÚtil para análise estatística de níveis de estoque.\n\nReturns:\n    Dicionário com gráficos de distribuição",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_grafico_pizza_categorias",
                "docstring": "Gera gráfico de pizza mostrando proporção de produtos por grupo (categoria).\nÚtil para visualizar distribuição percentual.\n\nReturns:\n    Dicionário com gráfico de pizza e proporções",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_dashboard_analise_completa",
                "docstring": "Gera dashboard completo com múltiplas visualizações em um único lugar.\nCombina 4 gráficos em um layout 2x2.\n\nReturns:\n    Dicionário com dashboard e múltiplos gráficos",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_grafico_vendas_por_produto",
                "docstring": "Gera gráfico de série temporal de vendas de um produto específico.\nEste é um alias para gerar_grafico_vendas_mensais_produto.\n\nArgs:\n    codigo_produto: Código do produto (ITEM)\n\nReturns:\n    Dicionário com gráfico de série temporal e análise",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_grafico_automatico",
                "docstring": "Gera qualquer tipo de gráfico baseado na descrição do usuário.\nO LLM interpreta a descrição e seleciona o gráfico mais apropriado.\n\nArgs:\n    descricao: Descrição do gráfico desejado em linguagem natural\n\nReturns:\n    Gráfico Plotly JSON correspondente ao tipo solicitado\n\nExemplos de uso:\n  - \"gráfico de vendas por categoria\"\n  - \"mostrar estoque disponível por produto\"\n  - \"análise de distribuição de estoque\"\n  - \"comparar preços entre categorias\"\n  - \"vendas do produto 59294\"\n  - \"dashboard completo\"",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_grafico_vendas_mensais_produto",
                "docstring": "Gera gráfico de vendas mensais para um produto específico.\nTrabalha com a estrutura de dados da Filial Madureira.\n\nArgs:\n    codigo_produto: Código do produto (ITEM)\n\nReturns:\n    Dicionário com gráfico de vendas mensais",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_grafico_vendas_por_grupo",
                "docstring": "Gera gráfico de vendas mensais para todos os produtos de um grupo específico.\nÚtil para análise de desempenho de categorias de produtos ao longo do ano.\n\nArgs:\n    nome_grupo: Nome do grupo/categoria (ex: \"ESMALTES\", \"CREMES\", etc.)\n    agregacao: Tipo de agregação - \"soma\" (padrão) ou \"media\"\n\nReturns:\n    Dicionário com gráfico de vendas mensais do grupo",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_ranking_produtos_mais_vendidos",
                "docstring": "Gera um gráfico de barras horizontais com o ranking dos produtos mais vendidos no ano.\nÚtil para identificar os produtos mais populares.\n\nArgs:\n    top_n: O número de produtos a serem incluídos no ranking (padrão: 10).\n\nReturns:\n    Dicionário com o gráfico de ranking e dados.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "listar_graficos_disponiveis",
                "docstring": "Lista os gráficos e dashboards RECOMENDADOS disponíveis no sistema (2025).\nUse esta ferramenta quando o usuário perguntar \"quais gráficos você pode gerar?\",\n\"que tipos de visualizações existem?\", ou similares.\n\nReturns:\n    Dicionário com lista de gráficos recomendados e suas descrições",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_dashboard_executivo",
                "docstring": "Gera dashboard executivo completo com os principais indicadores de negócio.\nLayout 2x3 otimizado para análise gerencial e tomada de decisão.\n\nInclui:\n- Vendas por categoria (Top 10)\n- Ranking produtos mais vendidos\n- Análise de estoque\n- Comparação de preços\n- Distribuição de produtos\n- Métricas principais\n\nReturns:\n    Dicionário com dashboard executivo completo",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_dashboard_dinamico",
                "docstring": "Gera um dashboard dinâmico com uma seleção de gráficos.\n\nArgs:\n    graficos: Uma lista dos nomes das ferramentas de gráfico a serem incluídas.\n              Exemplos de nomes de ferramentas válidas:\n              - 'gerar_grafico_vendas_por_categoria'\n              - 'gerar_grafico_estoque_por_produto'\n              - 'gerar_comparacao_precos_categorias'\n              - 'gerar_analise_distribuicao_estoque'\n              - 'gerar_grafico_pizza_categorias'\n              - 'gerar_ranking_produtos_mais_vendidos'\n\nReturns:\n    Dicionário com o dashboard e múltiplos gráficos.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "gerar_visualizacao_customizada",
                "docstring": "Cria uma visualização totalmente personalizada a partir dos dados.\nUse esta ferramenta quando NENHUMA outra ferramenta específica atender ao pedido do usuário.\nPermite cruzar quaisquer duas variáveis numéricas ou categóricas.\n\nArgs:\n    eixo_x: Nome da coluna para o eixo X (ex: 'DESCRIÇÃO', 'ESTOQUE', 'VENDA UNIT R$')\n    eixo_y: Nome da coluna para o eixo Y (ex: 'QTD', 'VENDA R$', 'LUCRO R$')\n    tipo_grafico: 'bar', 'line', 'scatter' (dispersão), 'histogram', 'box'\n    titulo: Título do gráfico\n    coluna_cor: (Opcional) Nome da coluna para agrupar por cores (ex: 'GRUPO')\n    agregacao: (Opcional) 'soma', 'media', 'contagem' (se precisar agrupar dados)\n\nReturns:\n    Gráfico Plotly customizado",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "logging",
              "typing",
              "pandas",
              "plotly.graph_objects",
              "langchain_core.tools",
              "app.core.data_source_manager",
              "app.core.visualization.advanced_charts",
              "plotly.subplots",
              "math",
              "json",
              "plotly.subplots",
              "plotly.subplots",
              "plotly.subplots",
              "re"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\check_gui_dependencies.py",
          "name": "check_gui_dependencies.py",
          "extension": ".py",
          "size": 1687,
          "category": "source_python",
          "purpose": "Funções: check_dependency, main",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "check_dependency",
                "docstring": "Verifica se um módulo está instalado e tenta instalá-lo se não estiver.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "main",
                "docstring": "Função principal para verificar dependências.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "subprocess",
              "sys"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\check_integration.py",
          "name": "check_integration.py",
          "extension": ".py",
          "size": 0,
          "category": "source_python",
          "purpose": "Não identificado",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\code_interpreter.py",
          "name": "code_interpreter.py",
          "extension": ".py",
          "size": 9108,
          "category": "source_python",
          "purpose": "Code Interpreter - Sandbox seguro para execução de código Python",
          "details": {
            "type": "python",
            "docstring": "Code Interpreter - Sandbox seguro para execução de código Python\nPermite análises dinâmicas de dados com pandas, numpy, etc.",
            "classes": [
              {
                "name": "CodeInterpreter",
                "docstring": "Executor seguro de código Python para análise de dados.\n\nFeatures:\n- Sandbox com restrições de segurança\n- Acesso a pandas e numpy\n- Captura de stdout/stderr\n- Timeout configurável",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_create_safe_namespace",
                    "docstring": "Cria namespace seguro com bibliotecas permitidas.",
                    "is_async": false
                  },
                  {
                    "name": "_validate_code",
                    "docstring": "Valida código antes de executar.",
                    "is_async": false
                  },
                  {
                    "name": "execute",
                    "docstring": "Executa código Python de forma segura.\n\nArgs:\n    code: Código Python a executar\n    data: DataFrame opcional para análise\n    \nReturns:\n    Dict com resultado, output e erro",
                    "is_async": false
                  },
                  {
                    "name": "get_stats",
                    "docstring": "Retorna estatísticas do interpreter.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_interpreter",
                "docstring": "Retorna instância singleton do interpreter.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "executar_codigo_python",
                "docstring": "Executa código Python para análise de dados.\n\nUse esta ferramenta quando precisar:\n- Fazer cálculos complexos\n- Processar dados de forma personalizada\n- Criar análises estatísticas\n\nArgs:\n    codigo: Código Python a executar. Use 'df' para acessar os dados.\n    descricao: Descrição do que o código faz\n    \nReturns:\n    Resultado da execução\n    \nExemplo:\n    >>> executar_codigo_python(\n    ...     codigo=\"result = df['vendas'].sum()\",\n    ...     descricao=\"Calcula soma das vendas\"\n    ... )",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "logging",
              "io",
              "sys",
              "traceback",
              "typing",
              "contextlib",
              "pandas",
              "langchain_core.tools",
              "app.config.settings",
              "pandas",
              "numpy",
              "math",
              "statistics"
            ],
            "constants": [
              "ALLOWED_MODULES",
              "BLOCKED_FUNCTIONS"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\date_time_tools.py",
          "name": "date_time_tools.py",
          "extension": ".py",
          "size": 388,
          "category": "source_python",
          "purpose": "Ferramentas: Funções: get_current_datetime",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "get_current_datetime",
                "docstring": "Returns the current date and time.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "datetime",
              "langchain_core.tools",
              "logging"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\debug_server.py",
          "name": "debug_server.py",
          "extension": ".py",
          "size": 1270,
          "category": "source_python",
          "purpose": "Não identificado",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "logging",
              "os",
              "sys",
              "app.core.config"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\flexible_query_tool.py",
          "name": "flexible_query_tool.py",
          "extension": ".py",
          "size": 10064,
          "category": "source_python",
          "purpose": "Ferramentas: Ferramenta genérica e flexível para consultas ao Parquet",
          "details": {
            "type": "python",
            "docstring": "Ferramenta genérica e flexível para consultas ao Parquet\nPermite ao agente consultar qualquer dado de forma inteligente\n\nCORREÇÃO 2024-12-13: Resolvido erro \"DataFrame constructor not properly called\"\n- Carrega Parquet diretamente (evita HybridAdapter problemático)\n- Serialização JSON correta com .to_dict(orient='records')\n- Mapeamento case-insensitive de colunas",
            "classes": [],
            "functions": [
              {
                "name": "_safe_serialize",
                "docstring": "Converte valor para JSON-safe.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_find_column",
                "docstring": "Encontra coluna no DataFrame (case-insensitive).",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "consultar_dados_flexivel",
                "docstring": "Ferramenta GENÉRICA e FLEXÍVEL para consultar dados do Parquet.\nGarante alta performance usando cache centralizado (DuckDB).",
                "is_async": false,
                "decorators": [
                  "tool",
                  "<ast.Call object at 0x000001FA87F78070>"
                ]
              }
            ],
            "imports": [
              "langchain_core.tools",
              "pandas",
              "numpy",
              "logging",
              "os",
              "typing",
              "app.core.utils.error_handler",
              "app.infrastructure.data.duckdb_adapter"
            ],
            "constants": [
              "COLUMN_MAPPING"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\graph_integration.py",
          "name": "graph_integration.py",
          "extension": ".py",
          "size": 6281,
          "category": "source_python",
          "purpose": "Funções: processar_resposta_com_grafico",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "processar_resposta_com_grafico",
                "docstring": "Processa a resposta do agente e gera gráfico se apropriado,\nintegrando as funcionalidades do agente_visual.py com o sistema existente.\n\nArgs:\n    resposta: Resposta do agente (pode ser dict, string ou objeto)\n\nReturns:\n    Dict com a resposta processada e caminho do gráfico se gerado",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "os",
              "typing",
              "pandas",
              "app.core.tools.visualization_tools",
              "agente_visual"
            ],
            "constants": [
              "PLOT_DIR",
              "CHART_OUTPUT_DIR"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\mcp_parquet_tools.py",
          "name": "mcp_parquet_tools.py",
          "extension": ".py",
          "size": 4283,
          "category": "source_python",
          "purpose": "Ferramentas: Funções: get_product_data, get_product_stock, list_product_categories",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "get_product_data",
                "docstring": "Busca dados de um produto em Filial_Madureira.parquet.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "get_product_stock",
                "docstring": "Retorna dados de um produto específico em Filial_Madureira.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "list_product_categories",
                "docstring": "Retorna uma lista de todas as categorias de produtos disponíveis no arquivo Parquet 'Filial_Madureira.parquet'.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "os",
              "pandas",
              "typing",
              "langchain_core.tools",
              "logging"
            ],
            "constants": [
              "PARQUET_DIR",
              "FILIAL_MADUREIRA_PATH"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\mcp_sql_server_tools.py",
          "name": "mcp_sql_server_tools.py",
          "extension": ".py",
          "size": 4097,
          "category": "source_python",
          "purpose": "Ferramentas: Funções: get_product_data, get_product_stock, list_product_categories",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "get_product_data",
                "docstring": "Busca dados de um produto em Filial_Madureira.parquet.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "get_product_stock",
                "docstring": "Retorna dados de um produto em Filial_Madureira.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "list_product_categories",
                "docstring": "Lista categorias disponíveis em Filial_Madureira.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "os",
              "pandas",
              "typing",
              "langchain_core.tools",
              "logging"
            ],
            "constants": [
              "PARQUET_DIR",
              "FILIAL_MADUREIRA_PATH"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\quick_response.py",
          "name": "quick_response.py",
          "extension": ".py",
          "size": 6125,
          "category": "source_python",
          "purpose": "Sistema de Resposta Rápida (Quick Response)",
          "details": {
            "type": "python",
            "docstring": "Sistema de Resposta Rápida (Quick Response)\nResponde consultas simples SEM usar o LLM para performance máxima.\n\nTempo de resposta: < 500ms\nTaxa de acerto: 95%+",
            "classes": [
              {
                "name": "QuickResponseSystem",
                "docstring": "Sistema de resposta rápida para consultas simples.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "try_quick_response",
                    "docstring": "Tenta responder rapidamente sem LLM.\n\nArgs:\n    query: Pergunta do usuário\n\nReturns:\n    Resposta formatada ou None se não conseguir responder",
                    "is_async": false
                  },
                  {
                    "name": "_extract_product_code",
                    "docstring": "Extrai código do produto da query.",
                    "is_async": false
                  },
                  {
                    "name": "_format_price_response",
                    "docstring": "Formata resposta de preço.",
                    "is_async": false
                  },
                  {
                    "name": "_format_stock_response",
                    "docstring": "Formata resposta de estoque.",
                    "is_async": false
                  },
                  {
                    "name": "_format_manufacturer_response",
                    "docstring": "Formata resposta de fabricante.",
                    "is_async": false
                  },
                  {
                    "name": "_format_name_response",
                    "docstring": "Formata resposta de nome/descrição.",
                    "is_async": false
                  },
                  {
                    "name": "_format_sales_response",
                    "docstring": "Formata resposta de vendas.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "create_quick_response_system",
                "docstring": "Factory function para criar o sistema de resposta rápida.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "re",
              "logging",
              "typing",
              "polars"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\semantic_search_tool.py",
          "name": "semantic_search_tool.py",
          "extension": ".py",
          "size": 10839,
          "category": "source_python",
          "purpose": "Ferramentas: Ferramenta de busca semântica para produtos usando RAG (Retrieval-Augmented Generation).",
          "details": {
            "type": "python",
            "docstring": "Ferramenta de busca semântica para produtos usando RAG (Retrieval-Augmented Generation).\n\nImplementa hybrid search combinando:\n- Semantic search via Google Generative AI Embeddings\n- Keyword search tradicional\n- Reciprocal Rank Fusion (RRF) para merge de resultados\n\nAuthor: Context7 2025\nStatus: POC (Proof of Concept)",
            "classes": [],
            "functions": [
              {
                "name": "_get_embeddings_model",
                "docstring": "Retorna o modelo de embeddings (singleton)",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_initialize_vector_store",
                "docstring": "Inicializa o vector store FAISS com embeddings de produtos.\nExecuta apenas uma vez e cacheia o resultado (lazy loading).",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_reciprocal_rank_fusion",
                "docstring": "Combina resultados de semantic e keyword search usando Reciprocal Rank Fusion.\n\nRRF Formula: score(d) = Σ 1 / (k + rank(d))\nonde k é uma constante (default=60) e rank(d) é a posição do documento.\n\nArgs:\n    semantic_results: Resultados da busca semântica\n    keyword_results: Resultados da busca por palavra-chave\n    limit: Número máximo de resultados\n    k: Constante RRF (default=60)\n\nReturns:\n    Lista mesclada e ranqueada de resultados",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "buscar_produtos_inteligente",
                "docstring": "Busca produtos usando IA semântica (RAG) com tolerância a typos e sinônimos.\n\nEsta ferramenta combina busca semântica (embeddings) com busca tradicional\npor palavra-chave, resultando em melhor recall e precisão.\n\nExemplos de uso:\n- \"cola para sapato\" → encontra \"Cola de Sapateiro\"\n- \"maquiagem rosto\" → encontra \"Base\", \"Pó Compacto\", etc.\n- \"tinta cabelo\" → encontra \"Tintura Capilar\", \"Coloração\"\n\nArgs:\n    descricao: Descrição natural do produto que procura\n    limite: Número máximo de resultados (default: 10)\n    usar_hybrid: Se True, combina semantic + keyword (default: True)\n\nReturns:\n    Dicionário com produtos encontrados e scores de relevância",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "reinicializar_vector_store",
                "docstring": "Reinicializa o vector store (útil se dados foram atualizados).\nUse apenas quando necessário, pois recria todos os embeddings.\n\nReturns:\n    Status da reinicialização",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "logging",
              "os",
              "typing",
              "langchain_core.tools",
              "langchain_google_genai",
              "langchain_community.vectorstores",
              "polars",
              "pathlib"
            ],
            "constants": [
              "_VECTOR_STORE_CACHE",
              "_EMBEDDINGS_MODEL"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\sql_server_tools.py",
          "name": "sql_server_tools.py",
          "extension": ".py",
          "size": 10748,
          "category": "source_python",
          "purpose": "Ferramentas: Ferramentas para executar consultas SQL Server através do agente.",
          "details": {
            "type": "python",
            "docstring": "Ferramentas para executar consultas SQL Server através do agente.\nIntegração direta com o banco de dados para respostas em tempo real.",
            "classes": [],
            "functions": [
              {
                "name": "query_database",
                "docstring": "Executa uma consulta SQL diretamente no banco de dados.\n\nArgs:\n    sql_query: Consulta SQL para executar\n\nReturns:\n    Dicionário com os resultados ou erro",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "get_product_by_code",
                "docstring": "Busca um produto pelo código na tabela ADMAT_OPCOM.\n\nArgs:\n    product_code: Código do produto\n\nReturns:\n    Informações do produto",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "search_products_by_name",
                "docstring": "Busca produtos pelo nome (parcial) na tabela ADMAT_OPCOM.\n\nArgs:\n    product_name: Nome ou parte do nome do produto\n    limit: Número máximo de resultados\n\nReturns:\n    Lista de produtos encontrados",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "get_products_by_category",
                "docstring": "Busca produtos por categoria.\n\nArgs:\n    category: Nome da categoria\n    limit: Número máximo de resultados\n\nReturns:\n    Lista de produtos da categoria",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "get_top_selling_products",
                "docstring": "Retorna os produtos mais vendidos nos últimos 30 dias.\n\nArgs:\n    limit: Número máximo de resultados\n\nReturns:\n    Lista dos produtos mais vendidos",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "get_product_stock",
                "docstring": "Retorna o estoque de um produto específico.\n\nArgs:\n    product_code: Código do produto\n\nReturns:\n    Informações de estoque",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "logging",
              "typing",
              "langchain_core.tools",
              "app.core.database.database",
              "sqlalchemy"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\une_tools.py",
          "name": "une_tools.py",
          "extension": ".py",
          "size": 67418,
          "category": "source_python",
          "purpose": "Ferramentas: Ferramentas LangChain para operações UNE.",
          "details": {
            "type": "python",
            "docstring": "Ferramentas LangChain para operações UNE.\nImplementa regras de abastecimento, MC e política de preços.\n\nEste módulo fornece ferramentas para:\n- Cálculo de necessidades de abastecimento por UNE\n- Consulta de MC (Média Comum) de produtos\n- Cálculo de preços finais aplicando política de preços UNE",
            "classes": [],
            "functions": [
              {
                "name": "_get_data_adapter",
                "docstring": "Retorna adapter de dados (HybridAdapter ou Parquet direto) com cache",
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA899AB400>"
                ]
              },
              {
                "name": "_normalize_dataframe",
                "docstring": "Normaliza DataFrame para ter colunas consistentes independente da fonte",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_load_data",
                "docstring": "Carrega dados usando adapter apropriado (SQL ou Parquet) com validação\n\nArgs:\n    filters: Filtros a aplicar (ex: {'une': 2586, 'codigo': 369947})\n    columns: Colunas específicas a carregar (otimização)\n\nReturns:\n    DataFrame normalizado e validado",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "calcular_abastecimento_une",
                "docstring": "Calcula produtos que precisam de abastecimento em uma UNE.\n\nRegra aplicada: ESTOQUE_UNE <= 50% LINHA_VERDE\n\nArgs:\n    une_id: ID da UNE (1-10)\n    segmento: Filtro opcional por segmento (ex: \"TECIDOS\", \"PAPELARIA\")\n\nReturns:\n    dict com:\n    - total_produtos: int (total de produtos que precisam abastecimento)\n    - produtos: list[dict] (top 20 produtos ordenados por qtd_a_abastecer DESC)\n    - regra_aplicada: str (descrição da regra de abastecimento)\n    - une_id: int\n    - segmento: str (se aplicado)\n\nExample:\n    >>> result = calcular_abastecimento_une(une_id=1, segmento=\"TECIDOS\")\n    >>> print(f\"Total produtos: {result['total_produtos']}\")",
                "is_async": false,
                "decorators": [
                  "tool",
                  "<ast.Call object at 0x000001FA87F79120>"
                ]
              },
              {
                "name": "calcular_mc_produto",
                "docstring": "Retorna informações de MC (Média Comum) de um produto em uma UNE específica.\n\nA MC representa a média de vendas do produto, usada para dimensionar\no estoque adequado em gôndola.\n\nArgs:\n    produto_id: Código do produto\n    une_id: ID da UNE (1-10)\n\nReturns:\n    dict com:\n    - produto_id: int\n    - nome: str\n    - segmento: str\n    - mc_calculada: float (Média Comum)\n    - estoque_atual: float\n    - linha_verde: float (estoque máximo)\n    - estoque_gondola: float (se existir na base)\n    - percentual_linha_verde: float (% do estoque em relação à linha verde)\n    - recomendacao: str (orientação de abastecimento)\n\nExample:\n    >>> result = calcular_mc_produto(produto_id=12345, une_id=1)\n    >>> print(f\"MC: {result['mc_calculada']}, Recomendação: {result['recomendacao']}\")",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "calcular_preco_final_une",
                "docstring": "Calcula preço final aplicando política de preços UNE.\n\nRegras de Tipo de Preço:\n- Valor >= R$ 750,00 → Preço Atacado\n- Valor < R$ 750,00 → Preço Varejo\n\nPolítica por Ranking:\n- Ranking 0: Atacado 38%, Varejo 30%\n- Ranking 1: Preço único 38% (independente do valor)\n- Ranking 2: Atacado 38%, Varejo 30%\n- Ranking 3: Sem desconto (preço tabela)\n- Ranking 4: Atacado 38%, Varejo 24%\n\nDesconto por Forma de Pagamento:\n- 'vista': 38%\n- '30d': 36%\n- '90d': 34%\n- '120d': 30%\n\nArgs:\n    valor_compra: Valor total da compra em reais\n    ranking: Classificação do produto (0-4)\n    forma_pagamento: Tipo de pagamento ('vista', '30d', '90d', '120d')\n\nReturns:\n    dict com:\n    - valor_original: float\n    - tipo: str (\"Atacado\" ou \"Varejo\")\n    - ranking: int\n    - desconto_ranking: str (percentual aplicado pelo ranking)\n    - forma_pagamento: str\n    - desconto_pagamento: str (percentual por forma de pagamento)\n    - preco_final: float\n    - economia: float (valor economizado)\n    - detalhamento: str (explicação do cálculo)\n\nExample:\n    >>> result = calcular_preco_final_une(valor_compra=1000.0, ranking=0, forma_pagamento='vista')\n    >>> print(f\"Preço final: R$ {result['preco_final']:.2f}\")",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "validar_transferencia_produto",
                "docstring": "Valida se uma transferência de produto entre UNEs é viável e recomendada.\n\nAplica regras de negócio para verificar:\n- Se UNE origem tem estoque suficiente\n- Se UNE destino realmente precisa do produto\n- Se a quantidade está dentro dos limites adequados\n- Se a transferência é prioritária baseada em linha verde e MC\n- Incorpora a regra de ruptura crítica (sem estoque no CD).\n\nArgs:\n    produto_id: Código do produto a transferir\n    une_origem: ID da UNE que vai enviar o produto\n    une_destino: ID da UNE que vai receber o produto\n    quantidade: Quantidade a transferir\n\nReturns:\n    dict com:\n    - valido: bool (se a transferência é válida)\n    - prioridade: str (\"URGENTE\", \"ALTA\", \"NORMAL\", \"BAIXA\", \"NAO_RECOMENDADA\")\n    - score_prioridade: float (0-100, quanto maior mais prioritária)\n    - motivo: str (justificativa da validação)\n    - recomendacoes: list[str] (ações sugeridas)\n    ... e outros detalhes.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "sugerir_transferencias_automaticas",
                "docstring": "Sugere transferências automáticas entre UNEs baseadas em regras de negócio.\n\nIdentifica oportunidades de balanceamento de estoque considerando:\n- UNEs com excesso de estoque (>100% linha verde)\n- UNEs com falta de estoque (<50% linha verde)\n- MC (Média Comum) e histórico de vendas\n- Priorização por criticidade\n\nArgs:\n    limite: Número máximo de sugestões a retornar (default: 20)\n    une_origem_filtro: Filtrar sugestões apenas desta UNE origem (opcional)\n\nReturns:\n    dict com:\n    - total_sugestoes: int\n    - sugestoes: list[dict] (sugestões ordenadas por prioridade)\n    - estatisticas: dict (resumo das sugestões)\n\nCada sugestão contém:\n    - produto_id: int\n    - nome_produto: str\n    - une_origem: int\n    - une_destino: int\n    - quantidade_sugerida: int\n    - prioridade: str\n    - score: float\n    - motivo: str\n    - beneficio_estimado: str\n\nExample:\n    >>> result = sugerir_transferencias_automaticas(limite=10, une_origem_filtro=3116)\n    >>> for sug in result['sugestoes']:\n    ...     print(f\"{sug['nome_produto']}: UNE {sug['une_origem']} -> {sug['une_destino']}\")",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "calcular_produtos_sem_vendas",
                "docstring": "Identifica produtos sem vendas (VENDA_30DD = 0) em uma UNE, com filtro opcional por fabricante.\n\nEsta ferramenta é útil para:\n- Identificar produtos sem giro\n- Detectar itens parados em estoque\n- Analisar a ruptura de um fabricante específico\n\nArgs:\n    une_id: ID da UNE (ex: 2586 para SCR, 261 para MAD)\n    limite: Número máximo de produtos a retornar (default: 50)\n    fabricante: Nome do fabricante para filtrar os resultados (opcional)\n\nReturns:\n    dict com:\n    - total_produtos: int (total de produtos sem vendas)\n    - produtos: list[dict] (produtos sem vendas com estoque > 0)\n    - une_id: int\n    - criterio: str (descrição do filtro aplicado)\n\nExample:\n    >>> result = calcular_produtos_sem_vendas(une_id=2586, limite=20, fabricante=\"KIT\")\n    >>> print(f\"Total: {result['total_produtos']} produtos sem vendas do fabricante KIT\")",
                "is_async": false,
                "decorators": [
                  "tool",
                  "<ast.Call object at 0x000001FA89D58610>"
                ]
              },
              {
                "name": "encontrar_rupturas_criticas",
                "docstring": "Identifica produtos em situação de ruptura crítica sistêmica, ordenados por gravidade.\n\nA regra de negócio para ruptura crítica é:\n1. O estoque no Centro de Distribuição (CD) é zero ou negativo (estoque_cd <= 0).\n2. O estoque na UNE (loja) está abaixo da linha verde (estoque_atual < linha_verde).\n\nA lista é ordenada para mostrar primeiro os produtos com \"Estoque Negativo Crítico\"\ne depois por 'percentual_cobertura' (do menor para o maior), que representa\no quão cheio o estoque está em relação à linha verde.\n\nArgs:\n    limite: Número máximo de produtos críticos a retornar. Se None, retorna todos.\n\nReturns:\n    dict com:\n    - total_criticos: int (total de produtos em situação crítica)\n    - produtos_criticos: list[dict] (lista dos produtos, incluindo 'motivo_ruptura', 'alerta_de_estoque' e 'percentual_cobertura')\n    - criterio: str (descrição da regra aplicada)\n\nExample:\n    >>> result = encontrar_rupturas_criticas(limite=10)\n    >>> print(f\"Total de produtos críticos: {result['total_criticos']}\")",
                "is_async": false,
                "decorators": [
                  "tool",
                  "<ast.Call object at 0x000001FA89CB6590>"
                ]
              },
              {
                "name": "consultar_dados_gerais",
                "docstring": "Consulta dados gerais de produtos, estoque e vendas com filtros flexíveis.\nUse esta ferramenta para responder perguntas gerais como:\n- \"Qual o estoque do produto X na UNE Y?\"\n- \"Quais produtos do segmento Z temos na UNE Y?\"\n- \"Dados do produto 12345\"\n\nArgs:\n    une_id: ID da UNE (opcional)\n    produto_id: Código do produto (opcional)\n    segmento: Nome do segmento (opcional, ex: \"TECIDOS\")\n    termo_busca: Parte do nome do produto para busca (opcional)\n    limite: Máximo de resultados (default: 20)\n\nReturns:\n    dict com 'total_resultados' e lista de 'resultados'.",
                "is_async": false,
                "decorators": [
                  "tool",
                  "<ast.Call object at 0x000001FA89C6DC60>"
                ]
              },
              {
                "name": "_standard_response",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_produtos_une",
                "docstring": "Compat wrapper: retorna produtos para uma UNE.\n\nUsa `_load_data` e devolve lista de registros normalizados.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_transferencias",
                "docstring": "Compat wrapper: retorna transferencias (usa sugerir_transferencias_automaticas como fallback).",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_estoque_une",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_vendas_une",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_unes_disponiveis",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_preco_produto",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_total_vendas_une",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_total_estoque_une",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "health_check",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "langchain_core.tools",
              "pandas",
              "os",
              "logging",
              "typing",
              "functools",
              "pathlib",
              "app.core.validators.schema_validator",
              "app.core.utils.query_validator",
              "app.core.utils.error_handler",
              "app.infrastructure.data.duckdb_adapter",
              "app.infrastructure.data.hybrid_adapter",
              "pyarrow.parquet",
              "pathlib"
            ],
            "constants": [
              "USE_HYBRID_ADAPTER",
              "COLUMN_MAPPING_SQL",
              "COLUMN_MAPPING_PARQUET"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\tools\\une_tools_backup_old.py",
          "name": "une_tools_backup_old.py",
          "extension": ".py",
          "size": 16866,
          "category": "source_python",
          "purpose": "Ferramentas: Define classes: HybridAdapter",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "HybridAdapter",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "fetch_data",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_known_columns",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "tool",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_get_data_adapter",
                "docstring": "Returns a cached instance of HybridAdapter.\nIn a real scenario, configuration for parquet_dir and sql_server_conn_str\nwould come from settings.",
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F9BA00>"
                ]
              },
              {
                "name": "_normalize_dataframe",
                "docstring": "Normalizes column names from SQL to Parquet conventions if necessary,\nand ensures consistent data types.\nPlaceholder for actual normalization logic.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_load_data",
                "docstring": "Loads data using the HybridAdapter with given filters and columns.\nIncludes basic schema validation and error handling (placeholder).",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "calcular_abastecimento_une",
                "docstring": "Calcula a necessidade de abastecimento para uma UNE específica, opcionalmente por segmento.\nRetorna os produtos com maior criticidade de abastecimento.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "calcular_mc_produto",
                "docstring": "Calcula a Margem de Contribuição (MC) para um produto específico em uma UNE.\nA MC é baseada na 'media_considerada_lv' ou na média de vendas, conforme regras de negócio.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "calcular_preco_final_une",
                "docstring": "Calcula o preço final de venda para um produto em uma UNE específica,\nconsiderando políticas de precificação (placeholder).",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "validar_transferencia_produto",
                "docstring": "Valida se uma transferência de produto entre UNEs é possível,\nconsiderando estoque na origem, linha verde do destino, etc.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "sugerir_transferencias_automaticas",
                "docstring": "Sugere transferências automáticas baseadas em produtos com alta criticidade de ruptura\ne disponibilidade em outras UNEs.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "encontrar_rupturas_criticas",
                "docstring": "Identifica UNEs/produtos com maior probabilidade de ruptura crítica,\nbaseado em estoque atual, linha verde e vendas diárias.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "typing",
              "functools"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\unified_data_tools.py",
          "name": "unified_data_tools.py",
          "extension": ".py",
          "size": 12415,
          "category": "source_python",
          "purpose": "Ferramentas: Ferramentas unificadas para acessar dados de Filial_Madureira.parquet",
          "details": {
            "type": "python",
            "docstring": "Ferramentas unificadas para acessar dados de Filial_Madureira.parquet\nEste arquivo foi refatorado para usar o DataSourceManager centralizado.",
            "classes": [],
            "functions": [
              {
                "name": "_truncate_df_for_llm",
                "docstring": "Trunca o DataFrame e prepara a resposta para o LLM.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "listar_colunas_disponiveis",
                "docstring": "IMPORTANTE: Use esta ferramenta PRIMEIRO quando não souber quais colunas existem!\n\nLista todas as colunas disponíveis na fonte de dados principal (Filial_Madureira.parquet)\ncom seus tipos de dados e exemplos de valores.\n\nEsta é a ÚNICA fonte de dados do sistema. Não existe banco SQL ativo.\n\nReturns:\n    Dicionário com lista de colunas, tipos e exemplos de valores.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "consultar_dados",
                "docstring": "Consulta dados na fonte de dados Filial_Madureira.parquet.\n\nUse `listar_colunas_disponiveis` para ver as colunas.\n\nArgs:\n    coluna: Nome da coluna para filtrar (opcional).\n    valor: Valor a buscar na coluna (aceita string, int ou float).\n    coluna_retorno: Coluna específica para retornar (opcional).\n    limite: Limite de registros (padrão: 100).\n\nReturns:\n    Uma string formatada com os dados consultados ou uma mensagem de erro/não encontrado.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "buscar_produto",
                "docstring": "Busca produtos por código ou nome usando o DataSourceManager.\n\nArgs:\n    codigo: Código do produto (busca em 'CODIGO').\n    nome: Nome do produto (busca parcial em 'DESCRIÇÃO').\n    limite: Número máximo de resultados.\n\nReturns:\n    Dicionário com os produtos encontrados.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              },
              {
                "name": "obter_estoque",
                "docstring": "Obtém informações de estoque de um produto usando o DataSourceManager.\n\nArgs:\n    codigo_produto: Código do produto.\n    nome_produto: Nome do produto.\n\nReturns:\n    Dados de estoque do produto.",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "logging",
              "typing",
              "pandas",
              "langchain_core.tools",
              "app.core.data_source_manager"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\universal_chart_generator.py",
          "name": "universal_chart_generator.py",
          "extension": ".py",
          "size": 10499,
          "category": "source_python",
          "purpose": "Ferramenta Universal de Geração de Gráficos - Context7 2025",
          "details": {
            "type": "python",
            "docstring": "Ferramenta Universal de Geração de Gráficos - Context7 2025\nSolução definitiva para gráficos com filtros dinâmicos e performance otimizada.",
            "classes": [],
            "functions": [
              {
                "name": "_export_chart_to_json",
                "docstring": "Exporta figura como JSON para frontend.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "gerar_grafico_universal_v2",
                "docstring": "Gera qualquer tipo de gráfico com filtros dinâmicos.\n\nEsta é a ferramenta UNIVERSAL para geração de gráficos.\nSubstitui todas as ferramentas específicas anteriores.\n\nArgs:\n    descricao: Descrição do que deve ser visualizado (ex: \"vendas por segmento\")\n    filtro_une: Código da loja/UNE para filtrar (ex: 1685)\n    filtro_segmento: Nome do segmento para filtrar (ex: \"ARMARINHO\")\n    filtro_categoria: Nome da categoria para filtrar\n    filtro_produto: Código do produto (SKU) para análise individual (ex: 369946)\n    tipo_grafico: Tipo de gráfico (\"bar\", \"pie\", \"line\", \"auto\")\n    limite: Número máximo de itens no gráfico\n\nReturns:\n    Gráfico Plotly JSON com dados filtrados\n\nExemplos:\n    - gerar_grafico_universal_v2(descricao=\"vendas por segmento\", filtro_une=1685)\n    - gerar_grafico_universal_v2(descricao=\"top produtos\", filtro_segmento=\"ARMARINHO\", limite=20)\n    - gerar_grafico_universal_v2(descricao=\"estoque por categoria\", tipo_grafico=\"bar\")\n    - gerar_grafico_universal_v2(descricao=\"vendas mensais\", filtro_produto=369946)",
                "is_async": false,
                "decorators": [
                  "tool"
                ]
              }
            ],
            "imports": [
              "logging",
              "typing",
              "pandas",
              "polars",
              "plotly.graph_objects",
              "langchain_core.tools",
              "app.core.data_source_manager"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\tools\\verify_imports.py",
          "name": "verify_imports.py",
          "extension": ".py",
          "size": 1218,
          "category": "source_python",
          "purpose": "Funções: check_import",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "check_import",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "importlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 16,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\agent_cache.py",
          "name": "agent_cache.py",
          "extension": ".py",
          "size": 6109,
          "category": "source_python",
          "purpose": "Agente BI: Agent Cache - Cache em memória para resultados de ferramentas",
          "details": {
            "type": "python",
            "docstring": "Agent Cache - Cache em memória para resultados de ferramentas\nMelhoria 2024: Reduz latência em queries repetidas em até 80%",
            "classes": [
              {
                "name": "AgentCache",
                "docstring": "Cache simples em memória para resultados de ferramentas.\n\nFeatures:\n- TTL configurável (padrão: 5 minutos)\n- Limpeza automática de entradas expiradas\n- Hash de argumentos para chave única\n- Thread-safe (básico)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o cache.\n\nArgs:\n    ttl_minutes: Tempo de vida das entradas em minutos",
                    "is_async": false
                  },
                  {
                    "name": "_generate_key",
                    "docstring": "Gera chave única baseada no nome da ferramenta e argumentos.\n\nArgs:\n    tool_name: Nome da ferramenta\n    **kwargs: Argumentos da ferramenta\n    \nReturns:\n    Hash MD5 da combinação",
                    "is_async": false
                  },
                  {
                    "name": "get",
                    "docstring": "Recupera valor do cache se existir e não estiver expirado.\n\nArgs:\n    tool_name: Nome da ferramenta\n    **kwargs: Argumentos da ferramenta\n    \nReturns:\n    Valor cacheado ou None se não encontrado/expirado",
                    "is_async": false
                  },
                  {
                    "name": "set",
                    "docstring": "Armazena valor no cache.\n\nArgs:\n    tool_name: Nome da ferramenta\n    value: Valor a ser cacheado\n    **kwargs: Argumentos da ferramenta",
                    "is_async": false
                  },
                  {
                    "name": "clear",
                    "docstring": "Limpa todo o cache.",
                    "is_async": false
                  },
                  {
                    "name": "cleanup_expired",
                    "docstring": "Remove entradas expiradas do cache.\n\nReturns:\n    Número de entradas removidas",
                    "is_async": false
                  },
                  {
                    "name": "get_stats",
                    "docstring": "Retorna estatísticas do cache.\n\nReturns:\n    Dicionário com estatísticas",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_agent_cache",
                "docstring": "Retorna instância singleton do cache.\n\nArgs:\n    ttl_minutes: TTL em minutos (usado apenas na primeira chamada)\n    \nReturns:\n    Instância do AgentCache",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "cached_tool",
                "docstring": "Decorator para cachear resultados de ferramentas.\n\nUsage:\n    @cached_tool(ttl_minutes=5)\n    @tool\n    def my_tool(arg1: str, arg2: int) -> Dict:\n        # ... expensive operation\n        return result\n\nArgs:\n    ttl_minutes: Tempo de vida do cache em minutos",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "hashlib",
              "json",
              "logging",
              "datetime",
              "typing",
              "functools"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\cache_cleaner.py",
          "name": "cache_cleaner.py",
          "extension": ".py",
          "size": 12421,
          "category": "source_python",
          "purpose": "Sistema Automático de Limpeza de Cache",
          "details": {
            "type": "python",
            "docstring": "Sistema Automático de Limpeza de Cache\nAutor: Agent_Solution_BI (Adaptado para FastAPI)\nData: 2025-12-03\n\nEste módulo implementa limpeza automática de caches para:\n- __pycache__ (bytecode Python)\n- data/cache (cache LLM responses)\n- data/cache_agent_graph (cache de grafos)\n- Versionamento automático para invalidação de cache\n\nExecuta automaticamente no startup do FastAPI.",
            "classes": [
              {
                "name": "CacheCleaner",
                "docstring": "Sistema centralizado de limpeza automática de cache com versionamento.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o limpador de cache.\n\nArgs:\n    base_path: Diretório raiz do projeto (default: cwd)\n    max_age_days: Idade máxima de arquivos de cache (default: 7 dias)",
                    "is_async": false
                  },
                  {
                    "name": "get_code_version_hash",
                    "docstring": "✅ OTIMIZAÇÃO v2.2: Gera hash baseado apenas em arquivos críticos (10-20 arquivos)\nReduz tempo de processamento de 500ms-1.5s para ~50-100ms (10x+ mais rápido)\n\nReturns:\n    Hash SHA256 dos arquivos Python críticos (primeiros 12 caracteres)",
                    "is_async": false
                  },
                  {
                    "name": "load_version_info",
                    "docstring": "Carrega informações de versão do cache.\n\nReturns:\n    Dict com version_hash, last_cleaned, etc.",
                    "is_async": false
                  },
                  {
                    "name": "save_version_info",
                    "docstring": "Salva informações de versão do cache.\n\nArgs:\n    info: Dicionário com version_hash, last_cleaned, etc.",
                    "is_async": false
                  },
                  {
                    "name": "clean_pycache",
                    "docstring": "Remove todos os diretórios __pycache__ do projeto.\n\nReturns:\n    (num_dirs_removed, total_size_mb)",
                    "is_async": false
                  },
                  {
                    "name": "clean_old_files",
                    "docstring": "Remove arquivos antigos de um diretório.\n\nArgs:\n    directory: Diretório a limpar\n    max_age_seconds: Idade máxima (default: self.max_age_seconds)\n\nReturns:\n    (num_files_removed, total_size_mb)",
                    "is_async": false
                  },
                  {
                    "name": "clean_all_cache",
                    "docstring": "Executa limpeza completa de todos os caches.\n\nArgs:\n    force: Se True, limpa tudo independente da versão\n\nReturns:\n    Dict com estatísticas da limpeza",
                    "is_async": false
                  },
                  {
                    "name": "clean_on_startup",
                    "docstring": "Método de conveniência para executar no startup do FastAPI.\n\nArgs:\n    force: Forçar limpeza completa",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "run_cache_cleanup",
                "docstring": "Função de conveniência para executar limpeza de cache.\n\nArgs:\n    base_path: Diretório raiz do projeto\n    max_age_days: Idade máxima de arquivos de cache\n    force: Forçar limpeza completa\n\nReturns:\n    Dict com estatísticas da limpeza",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "shutil",
              "logging",
              "hashlib",
              "json",
              "datetime",
              "pathlib",
              "typing",
              "sys"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\chart_saver.py",
          "name": "chart_saver.py",
          "extension": ".py",
          "size": 1967,
          "category": "source_python",
          "purpose": "Funções: save_chart",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "save_chart",
                "docstring": "Salva um gráfico JSON em um arquivo no diretório de dashboards.\n\nArgs:\n    chart_json (str): A string JSON do gráfico Plotly.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "json",
              "uuid",
              "datetime",
              "pathlib",
              "logging"
            ],
            "constants": [
              "DASHBOARD_DIR"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\utils\\confidence_scorer.py",
          "name": "confidence_scorer.py",
          "extension": ".py",
          "size": 7854,
          "category": "source_python",
          "purpose": "Confidence Scoring para Respostas LLM",
          "details": {
            "type": "python",
            "docstring": "Confidence Scoring para Respostas LLM\n======================================\n\nCalcula score de confiança para respostas do agente baseado em múltiplos sinais:\n- Qualidade da resposta (comprimento, estrutura)\n- Similaridade com exemplos conhecidos (RAG)\n- Presença de palavras de incerteza\n- Sucesso de tool calls\n\nUsado para:\n- Low-confidence routing (< 0.7 → supervisão humana)\n- Priorização de feedback collection\n- Métricas de qualidade\n\nAuthor: Agent BI Team\nDate: 2025-12-27",
            "classes": [
              {
                "name": "ConfidenceScorer",
                "docstring": "Calcula confidence score (0.0-1.0) para respostas LLM.\n\nSinais considerados:\n1. Response quality (40%)\n2. RAG similarity (30%)\n3. Tool success (20%)\n4. Uncertainty markers (10%)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o ConfidenceScorer.",
                    "is_async": false
                  },
                  {
                    "name": "calculate_confidence",
                    "docstring": "Calcula confidence score composto.\n\nArgs:\n    response: Resposta gerada pelo LLM\n    rag_similarity: Score de similaridade RAG (0.0-1.0)\n    tool_results: Lista de resultados de tool calls\n    query_length: Comprimento da query original\n\nReturns:\n    Confidence score (0.0-1.0)",
                    "is_async": false
                  },
                  {
                    "name": "_calculate_response_quality",
                    "docstring": "Calcula qualidade da resposta baseado em heurísticas.\n\nFatores:\n- Comprimento adequado (não muito curta, não muito longa)\n- Presença de estrutura (parágrafos, listas)\n- Proporção query/response\n- Presença de dados numéricos/específicos",
                    "is_async": false
                  },
                  {
                    "name": "_calculate_tool_success",
                    "docstring": "Calcula sucesso das tool calls.\n\nArgs:\n    tool_results: Lista de resultados de ferramentas\n\nReturns:\n    Score 0.0-1.0 (1.0 = todas ferramentas bem-sucedidas)",
                    "is_async": false
                  },
                  {
                    "name": "_calculate_uncertainty_score",
                    "docstring": "Penaliza respostas com marcadores de incerteza.\n\nReturns:\n    Score 0.0-1.0 (1.0 = sem incerteza, 0.0 = muita incerteza)",
                    "is_async": false
                  },
                  {
                    "name": "get_confidence_label",
                    "docstring": "Converte score numérico em label qualitativo.\n\nArgs:\n    score: Confidence score (0.0-1.0)\n\nReturns:\n    Label: 'high', 'medium', ou 'low'",
                    "is_async": false
                  },
                  {
                    "name": "should_route_to_human",
                    "docstring": "Decide se deve rotear para supervisão humana.\n\nArgs:\n    score: Confidence score\n    threshold: Threshold de decisão (padrão 0.7)\n\nReturns:\n    True se deve rotear para humano",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_confidence_scorer",
                "docstring": "Retorna instância singleton do ConfidenceScorer.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "re",
              "logging",
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\error_handler.py",
          "name": "error_handler.py",
          "extension": ".py",
          "size": 12783,
          "category": "source_python",
          "purpose": "Error Handler - Gerenciamento centralizado de erros.",
          "details": {
            "type": "python",
            "docstring": "Error Handler - Gerenciamento centralizado de erros.\n\nEste módulo fornece tratamento robusto e centralizado de erros\npara o sistema Agent Solution BI.\n\nFuncionalidades:\n- Captura de exceções específicas (ParquetFileError, etc)\n- Logging estruturado com contexto completo\n- Mensagens user-friendly\n- Rastreamento de erros recorrentes\n\nAutor: Code Agent\nData: 2025-10-17",
            "classes": [
              {
                "name": "APIError",
                "docstring": "Exceção customizada para erros da API",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Exception"
                ]
              },
              {
                "name": "ErrorContext",
                "docstring": "Contexto de erro com informações detalhadas.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa contexto de erro.\n\nArgs:\n    error: Exceção capturada\n    context: Dicionário com contexto (função, parâmetros, etc)\n    user_message: Mensagem personalizada para o usuário",
                    "is_async": false
                  },
                  {
                    "name": "_generate_user_message",
                    "docstring": "Gera mensagem amigável baseada no tipo de erro.\n\nReturns:\n    Mensagem formatada para o usuário",
                    "is_async": false
                  },
                  {
                    "name": "to_dict",
                    "docstring": "Converte contexto para dicionário.\n\nReturns:\n    Dict com informações do erro",
                    "is_async": false
                  },
                  {
                    "name": "log",
                    "docstring": "Registra erro no log.\n\nArgs:\n    level: Nível de log (logging.ERROR, logging.WARNING, etc)",
                    "is_async": false
                  },
                  {
                    "name": "save_to_file",
                    "docstring": "Salva erro em arquivo para análise posterior.",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "ErrorHandler",
                "docstring": "Gerenciador centralizado de erros.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o gerenciador de erros.",
                    "is_async": false
                  },
                  {
                    "name": "handle_error",
                    "docstring": "Trata um erro de forma centralizada.\n\nArgs:\n    error: Exceção capturada\n    context: Contexto da operação\n    user_message: Mensagem personalizada para usuário\n    log_level: Nível de log\n    save_to_file: Se deve salvar em arquivo\n\nReturns:\n    ErrorContext com informações do erro",
                    "is_async": false
                  },
                  {
                    "name": "get_error_stats",
                    "docstring": "Retorna estatísticas de erros.\n\nReturns:\n    Dict com contadores e informações de erros",
                    "is_async": false
                  },
                  {
                    "name": "clear_stats",
                    "docstring": "Limpa estatísticas de erro.",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "ParquetErrorHandler",
                "docstring": "Handler específico para erros relacionados a arquivos Parquet.",
                "methods": [
                  {
                    "name": "handle_parquet_error",
                    "docstring": "Trata erros específicos de Parquet.\n\nArgs:\n    error: Exceção\n    file_path: Caminho do arquivo Parquet\n\nReturns:\n    Dict com resposta de erro",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "handle_error",
                "docstring": "Função auxiliar para tratamento de erro.\n\nArgs:\n    error: Exceção\n    context: Contexto\n    user_message: Mensagem para usuário\n\nReturns:\n    ErrorContext",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_error_stats",
                "docstring": "Retorna estatísticas de erros.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "error_handler_decorator",
                "docstring": "Decorador para tratamento automático de erros.\n\nArgs:\n    context_func: Função que retorna contexto (recebe args, kwargs)\n    user_message: Mensagem personalizada para usuário\n    return_on_error: Valor a retornar em caso de erro\n\nExample:\n    @error_handler_decorator(\n        context_func=lambda *args, **kwargs: {'function': 'my_func', 'args': args},\n        return_on_error={'success': False, 'data': []}\n    )\n    def my_function(param1, param2):\n        # código que pode gerar erro\n        pass",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "create_error_response",
                "docstring": "Cria resposta padronizada de erro.\n\nArgs:\n    error: Exceção capturada\n    context: Contexto da operação\n    include_details: Se deve incluir detalhes técnicos\n\nReturns:\n    Dict com resposta de erro formatada",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "traceback",
              "typing",
              "datetime",
              "pathlib",
              "functools",
              "json"
            ],
            "constants": [
              "ERROR_LOG_DIR"
            ]
          }
        },
        {
          "path": "backend\\app\\core\\utils\\error_handler_backup.py",
          "name": "error_handler_backup.py",
          "extension": ".py",
          "size": 4596,
          "category": "source_python",
          "purpose": "Define classes: APIError",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "APIError",
                "docstring": "Custom exception for API-related errors.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "to_dict",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Exception"
                ]
              }
            ],
            "functions": [
              {
                "name": "error_handler_decorator",
                "docstring": "Decorator for handling errors in FastAPI endpoints or core logic functions.\nIt logs the error in a structured format and returns a user-friendly APIError response.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "functools",
              "logging",
              "typing",
              "inspect",
              "asyncio"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\fast_path_detector.py",
          "name": "fast_path_detector.py",
          "extension": ".py",
          "size": 3635,
          "category": "source_python",
          "purpose": "Funções: detect_fast_path_query",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "detect_fast_path_query",
                "docstring": "Detects if a query can be handled by a fast-path, bypassing complex agent orchestration. \n\nFast-path queries are typically simple, direct requests that can be routed to a\nspecific tool or information retrieval mechanism without LLM reasoning steps.\n\nArgs:\n    query: The user's natural language query.\n\nReturns:\n    The name of the target node/tool for the fast-path, or None if no fast-path is detected.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "re",
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\field_mapper.py",
          "name": "field_mapper.py",
          "extension": ".py",
          "size": 7217,
          "category": "source_python",
          "purpose": "Define classes: FieldMapper",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "FieldMapper",
                "docstring": "Maps natural language terms to actual database field names using a catalog.\nAlso provides known fields for agents.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_load_catalog",
                    "docstring": "Loads the catalog from a JSON file.\nPlaceholder implementation. In a real scenario, this would load a dynamic catalog.",
                    "is_async": false
                  },
                  {
                    "name": "_get_default_placeholder_catalog",
                    "docstring": "Default catalog if file not found or invalid.\nUses actual column names from admmat.parquet (UPPERCASE).",
                    "is_async": false
                  },
                  {
                    "name": "map_term",
                    "docstring": "Maps a natural language term to its corresponding database field name.\nPerforms a case-insensitive lookup.",
                    "is_async": false
                  },
                  {
                    "name": "get_known_fields",
                    "docstring": "Returns a list of all known natural language terms in the catalog.",
                    "is_async": false
                  },
                  {
                    "name": "get_db_fields",
                    "docstring": "Returns a list of all known database field names in the catalog.",
                    "is_async": false
                  },
                  {
                    "name": "suggest_correction",
                    "docstring": "Suggests a correction for an invalid term based on similarity.\nPlaceholder for a more advanced fuzzy matching implementation.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "typing",
              "os"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\query_history.py",
          "name": "query_history.py",
          "extension": ".py",
          "size": 8871,
          "category": "source_python",
          "purpose": "Define classes: QueryHistory",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "QueryHistory",
                "docstring": "Manages user query history, persisting it to daily JSONL files.\nAllows for searching and filtering of past queries.\n(T1.3.3 from TASK_LIST)",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_daily_file_path",
                    "docstring": "Generates the file path for a given day.",
                    "is_async": false
                  },
                  {
                    "name": "add_query",
                    "docstring": "Adds a new query entry to the daily history file.",
                    "is_async": false
                  },
                  {
                    "name": "_summarize_response",
                    "docstring": "Creates a brief summary of the response for history logging.",
                    "is_async": false
                  },
                  {
                    "name": "_hash_response",
                    "docstring": "Generates a hash of the full response for later integrity checks or matching.",
                    "is_async": false
                  },
                  {
                    "name": "get_history",
                    "docstring": "Retrieves query history for a user, within a date range, with an optional limit.",
                    "is_async": false
                  },
                  {
                    "name": "search_queries",
                    "docstring": "Searches query history for entries containing a specific keyword.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "os",
              "datetime",
              "typing",
              "app.config.settings",
              "hashlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\query_validator.py",
          "name": "query_validator.py",
          "extension": ".py",
          "size": 11999,
          "category": "source_python",
          "purpose": "Query Validator - Validador de queries Parquet.",
          "details": {
            "type": "python",
            "docstring": "Query Validator - Validador de queries Parquet.\n\nEste módulo fornece validação robusta de queries antes da execução,\nincluindo verificação de colunas, tipos e timeout.\n\nFuncionalidades:\n- Validação de colunas antes de filtrar\n- Tratamento de valores None/null\n- Timeout para queries longas\n- Mensagens de erro user-friendly\n\nAutor: Code Agent\nData: 2025-10-17",
            "classes": [
              {
                "name": "QueryTimeout",
                "docstring": "Exceção levantada quando query excede timeout.",
                "methods": [],
                "bases": [
                  "Exception"
                ]
              },
              {
                "name": "QueryValidator",
                "docstring": "Validador de queries com timeout e verificação de integridade.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o validador.\n\nArgs:\n    default_timeout: Timeout padrão em segundos",
                    "is_async": false
                  },
                  {
                    "name": "timeout_context",
                    "docstring": "Context manager para timeout de queries.\n\nArgs:\n    seconds: Tempo máximo de execução em segundos\n\nRaises:\n    QueryTimeout: Se a query exceder o tempo limite",
                    "is_async": false
                  },
                  {
                    "name": "validate_columns_in_dataframe",
                    "docstring": "Valida se colunas existem no DataFrame.\n\nArgs:\n    df: DataFrame a validar\n    required_columns: Lista de colunas obrigatórias\n    table_name: Nome da tabela (para mensagens de erro)\n\nReturns:\n    Tupla (is_valid, missing_columns)",
                    "is_async": false
                  },
                  {
                    "name": "validate_filter_column",
                    "docstring": "Valida se uma coluna existe antes de aplicar filtro.\n\nArgs:\n    df: DataFrame\n    column_name: Nome da coluna\n    table_name: Nome da tabela\n\nReturns:\n    True se a coluna existe",
                    "is_async": false
                  },
                  {
                    "name": "handle_null_values",
                    "docstring": "Trata valores nulos em uma coluna.\n\nArgs:\n    df: DataFrame\n    column_name: Nome da coluna\n    strategy: Estratégia ('drop', 'fill', 'keep')\n    fill_value: Valor para preencher (se strategy='fill')\n\nReturns:\n    DataFrame com valores nulos tratados",
                    "is_async": false
                  },
                  {
                    "name": "safe_filter",
                    "docstring": "Aplica filtro de forma segura com tratamento de erros.\n\nArgs:\n    df: DataFrame\n    filter_func: Função de filtro\n    error_message: Mensagem de erro personalizada\n\nReturns:\n    DataFrame filtrado ou original em caso de erro",
                    "is_async": false
                  },
                  {
                    "name": "execute_with_timeout",
                    "docstring": "Executa função com timeout.\n\nArgs:\n    func: Função a executar\n    timeout: Tempo limite em segundos (usa default se None)\n    *args: Argumentos posicionais\n    **kwargs: Argumentos nomeados\n\nReturns:\n    Resultado da função\n\nRaises:\n    QueryTimeout: Se exceder o tempo limite",
                    "is_async": false
                  },
                  {
                    "name": "validate_and_convert_types",
                    "docstring": "Valida e converte tipos de colunas.\n\nArgs:\n    df: DataFrame\n    column_types: Dict {column_name: desired_type}\n        Tipos suportados: 'int', 'float', 'str', 'datetime'\n\nReturns:\n    DataFrame com tipos convertidos",
                    "is_async": false
                  },
                  {
                    "name": "get_user_friendly_error",
                    "docstring": "Converte exceção em mensagem user-friendly.\n\nArgs:\n    error: Exceção capturada\n\nReturns:\n    Mensagem de erro formatada para o usuário",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "safe_convert_types",
                "docstring": "Compat shim: nome legado esperado por alguns testes/scripts.\n\nEncaminha para `validate_and_convert_types` do `QueryValidator`.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validate_columns",
                "docstring": "Valida colunas em DataFrame.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "handle_nulls",
                "docstring": "Trata valores nulos.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "safe_filter",
                "docstring": "Aplica filtro com segurança.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_friendly_error",
                "docstring": "Converte erro em mensagem amigável.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "signal",
              "typing",
              "contextlib",
              "pandas"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\response_cache.py",
          "name": "response_cache.py",
          "extension": ".py",
          "size": 7029,
          "category": "source_python",
          "purpose": "Define classes: ResponseCache",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "ResponseCache",
                "docstring": "Manages caching of LLM responses on disk with a configurable TTL.\nNormalizes queries for better cache hit rates.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_cache_file_path",
                    "docstring": "Generates a file path for a given cache key.",
                    "is_async": false
                  },
                  {
                    "name": "generate_key",
                    "docstring": "Generates a cache key by normalizing the query and hashing it.\nThis ensures consistent keys for similar queries.",
                    "is_async": false
                  },
                  {
                    "name": "_normalize_query",
                    "docstring": "Normalizes a query string for caching purposes.\nRemoves stopwords, standardizes spaces, lowercases, removes irrelevant punctuation.\n(T6.1.3 from TASK_LIST, but implemented here as it's directly related to cache key generation)",
                    "is_async": false
                  },
                  {
                    "name": "get",
                    "docstring": "Retrieves a cached response if it exists and is not expired.",
                    "is_async": false
                  },
                  {
                    "name": "set",
                    "docstring": "Stores a response in the cache with a timestamp.",
                    "is_async": false
                  },
                  {
                    "name": "clean_expired_cache",
                    "docstring": "Cleans up expired cache files (T1.3.1 - cache_cleaner).\nThis method will be called by a separate cache cleaner utility in production,\nbut can be manually triggered or run periodically.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "os",
              "hashlib",
              "datetime",
              "typing",
              "app.config.settings",
              "re",
              "time"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\response_parser.py",
          "name": "response_parser.py",
          "extension": ".py",
          "size": 4485,
          "category": "source_python",
          "purpose": "Utilitários para parsear e processar respostas do agente.",
          "details": {
            "type": "python",
            "docstring": "Utilitários para parsear e processar respostas do agente.\nDetecta gráficos, dataframes e textos nas respostas.",
            "classes": [],
            "functions": [
              {
                "name": "parse_agent_response",
                "docstring": "Parseia a resposta do agente e extrai dados estruturados.\n\nArgs:\n    response: String da resposta do agente\n\nReturns:\n    Tupla (tipo, dados_processados)\n    Tipos: \"chart\", \"text\", \"error\"",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_extract_chart_from_response",
                "docstring": "Extrai dados de gráfico de uma resposta de ferramenta.\n\nArgs:\n    response: String contendo dados do gráfico\n\nReturns:\n    Tupla (tipo, figura_plotly ou erro)",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "detect_dataframe_response",
                "docstring": "Detecta se a resposta é um DataFrame.\n\nArgs:\n    response: Resposta a verificar\n\nReturns:\n    True se for DataFrame, False caso contrário",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "json",
              "logging",
              "typing",
              "plotly.graph_objects",
              "pandas",
              "re"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\response_validator.py",
          "name": "response_validator.py",
          "extension": ".py",
          "size": 8303,
          "category": "source_python",
          "purpose": "Response Validator - Valida respostas do agente para detectar erros e alucinações",
          "details": {
            "type": "python",
            "docstring": "Response Validator - Valida respostas do agente para detectar erros e alucinações\nUsa técnicas de verificação para melhorar precisão",
            "classes": [
              {
                "name": "ValidationResult",
                "docstring": "Resultado da validação de resposta.",
                "methods": [],
                "bases": []
              },
              {
                "name": "ResponseValidator",
                "docstring": "Valida respostas do ChatBI para detectar:\n- Alucinações (dados inventados)\n- Inconsistências numéricas\n- Referências a dados inexistentes\n- Erros de formatação",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "validate",
                    "docstring": "Valida uma resposta do agente.\n\nArgs:\n    response: Resposta do agente\n    query: Pergunta original do usuário\n    \nReturns:\n    ValidationResult com status e detalhes",
                    "is_async": false
                  },
                  {
                    "name": "_extract_text",
                    "docstring": "Extrai texto da resposta do agente.",
                    "is_async": false
                  },
                  {
                    "name": "_check_hallucination",
                    "docstring": "Verifica indicadores de alucinação.",
                    "is_async": false
                  },
                  {
                    "name": "_has_error_pattern",
                    "docstring": "Verifica padrões de erro conhecidos.",
                    "is_async": false
                  },
                  {
                    "name": "_check_column_references",
                    "docstring": "Verifica referências a colunas potencialmente inválidas.",
                    "is_async": false
                  },
                  {
                    "name": "_check_numeric_consistency",
                    "docstring": "Verifica consistência de valores numéricos.",
                    "is_async": false
                  },
                  {
                    "name": "get_stats",
                    "docstring": "Retorna estatísticas de validação.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_validator",
                "docstring": "Retorna instância singleton do validador.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validate_response",
                "docstring": "Valida resposta do agente.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validator_stats",
                "docstring": "Retorna estatísticas do validador.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "re",
              "typing",
              "dataclasses"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\semantic_cache.py",
          "name": "semantic_cache.py",
          "extension": ".py",
          "size": 10098,
          "category": "source_python",
          "purpose": "Semantic Cache - Cache inteligente baseado em similaridade semântica",
          "details": {
            "type": "python",
            "docstring": "Semantic Cache - Cache inteligente baseado em similaridade semântica\nPermite respostas instantâneas para perguntas similares",
            "classes": [
              {
                "name": "SemanticCache",
                "docstring": "Cache semântico para respostas do ChatBI.\n\nCaracterísticas:\n- Hash baseado em normalização da query\n- TTL configurável\n- Persistência em disco\n- Estatísticas de hit/miss",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_normalize_query",
                    "docstring": "Normaliza query para melhor matching.",
                    "is_async": false
                  },
                  {
                    "name": "_generate_key",
                    "docstring": "Gera chave hash para a query normalizada.",
                    "is_async": false
                  },
                  {
                    "name": "_find_similar_entry",
                    "docstring": "Busca entrada similar no índice usando similaridade de strings.\nPerformance optimization: Limitado às últimas 100 queries para não pesar CPU.\nReturns: (key, similarity_score)",
                    "is_async": false
                  },
                  {
                    "name": "_load_index",
                    "docstring": "Carrega índice do disco.",
                    "is_async": false
                  },
                  {
                    "name": "_save_index",
                    "docstring": "Salva índice no disco.",
                    "is_async": false
                  },
                  {
                    "name": "get",
                    "docstring": "Busca resposta em cache.\n\nArgs:\n    query: Pergunta do usuário\n\nReturns:\n    Resposta cacheada ou None se não encontrada/expirada",
                    "is_async": false
                  },
                  {
                    "name": "set",
                    "docstring": "Armazena resposta em cache.\n\nArgs:\n    query: Pergunta do usuário\n    response: Resposta a cachear\n    \nReturns:\n    True se armazenado com sucesso",
                    "is_async": false
                  },
                  {
                    "name": "_remove_entry",
                    "docstring": "Remove entrada do cache.",
                    "is_async": false
                  },
                  {
                    "name": "_cleanup_oldest",
                    "docstring": "Remove entradas mais antigas.",
                    "is_async": false
                  },
                  {
                    "name": "clear",
                    "docstring": "Limpa todo o cache.",
                    "is_async": false
                  },
                  {
                    "name": "get_stats",
                    "docstring": "Retorna estatísticas do cache.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_semantic_cache",
                "docstring": "Retorna instância singleton do cache.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "cache_get",
                "docstring": "Busca resposta em cache.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "cache_set",
                "docstring": "Armazena resposta em cache.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "cache_stats",
                "docstring": "Retorna estatísticas do cache.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "hashlib",
              "json",
              "logging",
              "os",
              "time",
              "pathlib",
              "typing",
              "difflib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\serializers.py",
          "name": "serializers.py",
          "extension": ".py",
          "size": 5681,
          "category": "source_python",
          "purpose": "Utilitários de serialização para tipos complexos Python/SQLAlchemy.",
          "details": {
            "type": "python",
            "docstring": "Utilitários de serialização para tipos complexos Python/SQLAlchemy.\nResolve erros como \"Object of type MapComposite is not JSON serializable\".",
            "classes": [
              {
                "name": "TypeConverter",
                "docstring": "Conversor genérico de tipos para serialização JSON.",
                "methods": [
                  {
                    "name": "convert",
                    "docstring": "Converte qualquer objeto para formato JSON-serializável.\n\nTrata casos especiais:\n- SQLAlchemy Row / MapComposite\n- Tipos numpy (int64, float64, etc.)\n- Tipos pandas (Timestamp, Timedelta)\n- Datetime, Decimal, bytes\n- Objetos genéricos com __dict__\n\nArgs:\n    obj: Objeto a ser convertido\n\nReturns:\n    Objeto serializável em JSON",
                    "is_async": false
                  },
                  {
                    "name": "to_json",
                    "docstring": "Converte objeto para string JSON de forma segura.\n\nArgs:\n    obj: Objeto a ser convertido\n    **kwargs: Argumentos adicionais para json.dumps\n\nReturns:\n    String JSON",
                    "is_async": false
                  },
                  {
                    "name": "from_query_rows",
                    "docstring": "Converte linhas de resultado de query para lista de dicionários.\nEspecialmente útil para resultados SQLAlchemy.\n\nArgs:\n    rows: Lista de Row objects ou dicts\n\nReturns:\n    Lista de dicionários JSON-serializáveis",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "safe_json_dumps",
                "docstring": "Wrapper para TypeConverter.to_json() para compatibilidade com código existente.\n\nArgs:\n    obj: Objeto a ser convertido\n    **kwargs: Argumentos para json.dumps\n\nReturns:\n    String JSON",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "convert_mapcomposite",
                "docstring": "Converte recursivamente objetos MapComposite para dict.\nFunção auxiliar para compatibilidade com código existente.\n\nArgs:\n    obj: Objeto a ser convertido\n\nReturns:\n    Objeto com MapComposite convertido",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "json",
              "logging",
              "typing",
              "datetime",
              "decimal",
              "pandas",
              "numpy"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\session_manager.py",
          "name": "session_manager.py",
          "extension": ".py",
          "size": 3152,
          "category": "source_python",
          "purpose": "Define classes: SessionManager",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "SessionManager",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_get_file_path",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "get_history",
                    "docstring": "Retrieves chat history for a given session ID, verified by user_id.",
                    "is_async": false
                  },
                  {
                    "name": "add_message",
                    "docstring": "Adds a message to the session history, ensuring user_id is stored.",
                    "is_async": false
                  },
                  {
                    "name": "clear_session",
                    "docstring": "Deletes a session file.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "json",
              "os",
              "logging",
              "typing",
              "pathlib",
              "uuid"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\utils\\tool_scoping.py",
          "name": "tool_scoping.py",
          "extension": ".py",
          "size": 7784,
          "category": "source_python",
          "purpose": "Ferramentas: Tool Scoping - Controle de acesso a ferramentas baseado em role do usuário.",
          "details": {
            "type": "python",
            "docstring": "Tool Scoping - Controle de acesso a ferramentas baseado em role do usuário.\n\nImplementa permission boundaries para agents, limitando quais ferramentas\ncada tipo de usuário pode acessar (security best practice 2025).\n\nAuthor: Context7 2025",
            "classes": [
              {
                "name": "ToolPermissionManager",
                "docstring": "Gerencia permissões de ferramentas por role de usuário",
                "methods": [
                  {
                    "name": "get_tools_for_role",
                    "docstring": "Retorna lista de ferramentas filtrada baseada no role do usuário.\n\nArgs:\n    all_tools: Lista completa de ferramentas disponíveis\n    user_role: Role do usuário (admin, analyst, viewer, guest)\n\nReturns:\n    Lista filtrada de ferramentas que o usuário pode acessar",
                    "is_async": false
                  },
                  {
                    "name": "is_tool_allowed",
                    "docstring": "Verifica se uma ferramenta específica é permitida para um role.\n\nArgs:\n    tool_name: Nome da ferramenta\n    user_role: Role do usuário\n\nReturns:\n    True se permitido, False caso contrário",
                    "is_async": false
                  },
                  {
                    "name": "get_role_description",
                    "docstring": "Retorna descrição do nível de acesso do role",
                    "is_async": false
                  },
                  {
                    "name": "list_available_tools",
                    "docstring": "Lista nomes das ferramentas disponíveis para um role.\n\nArgs:\n    user_role: Role do usuário\n\nReturns:\n    Lista de nomes de ferramentas permitidas",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "DummyTool",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "get_scoped_tools",
                "docstring": "Helper function para obter tools filtradas baseado no user data.\n\nArgs:\n    all_tools: Lista de todas as ferramentas\n    user_data: Dicionário com dados do usuário (deve conter 'role')\n\nReturns:\n    Lista filtrada de ferramentas\n\nExample:\n    >>> user = {\"username\": \"john\", \"role\": \"analyst\"}\n    >>> scoped_tools = get_scoped_tools(bi_tools, user)",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "typing",
              "langchain_core.tools"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\validators\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 2,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\validators\\schema_validator.py",
          "name": "schema_validator.py",
          "extension": ".py",
          "size": 14534,
          "category": "source_python",
          "purpose": "SchemaValidator - Validador de schemas Parquet.",
          "details": {
            "type": "python",
            "docstring": "SchemaValidator - Validador de schemas Parquet.\n\nEste módulo fornece validação robusta de schemas Parquet contra\no catálogo de dados corporativo (catalog_focused.json).\n\nFuncionalidades:\n- Validação de tipos de dados\n- Detecção de incompatibilidades de schema\n- Mensagens de erro contextualizadas\n- Verificação de colunas obrigatórias\n\nAutor: Code Agent\nData: 2025-10-17",
            "classes": [
              {
                "name": "SchemaValidator",
                "docstring": "Validador de schemas Parquet contra catálogo corporativo.\n\nAttributes:\n    catalog (Dict): Catálogo de dados carregado do JSON\n    catalog_path (Path): Caminho para o arquivo de catálogo",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o validador de schema.\n\nArgs:\n    catalog_path: Caminho para catalog_focused.json (opcional)",
                    "is_async": false
                  },
                  {
                    "name": "_load_catalog",
                    "docstring": "Carrega o catálogo de dados do arquivo JSON.\n\nReturns:\n    Dict contendo o catálogo de dados\n\nRaises:\n    FileNotFoundError: Se o catálogo não existir\n    json.JSONDecodeError: Se o JSON for inválido",
                    "is_async": false
                  },
                  {
                    "name": "validate_parquet_file",
                    "docstring": "Valida um arquivo Parquet contra o catálogo.\n\nArgs:\n    parquet_path: Caminho para o arquivo Parquet\n    table_name: Nome da tabela no catálogo (inferido do arquivo se None)\n\nReturns:\n    Tupla (is_valid, errors) onde:\n        - is_valid: True se schema válido\n        - errors: Lista de mensagens de erro",
                    "is_async": false
                  },
                  {
                    "name": "_get_expected_schema",
                    "docstring": "Obtém o schema esperado do catálogo para uma tabela.\n\nArgs:\n    table_name: Nome da tabela\n\nReturns:\n    Dict com schema esperado ou None se não encontrado",
                    "is_async": false
                  },
                  {
                    "name": "_validate_columns",
                    "docstring": "Valida se as colunas esperadas estão presentes no Parquet.\n\nArgs:\n    parquet_schema: Schema do arquivo Parquet\n    expected_schema: Schema esperado do catálogo\n    table_name: Nome da tabela\n\nReturns:\n    Lista de erros encontrados",
                    "is_async": false
                  },
                  {
                    "name": "_validate_types",
                    "docstring": "Valida se os tipos de dados são compatíveis.\n\nArgs:\n    parquet_schema: Schema do arquivo Parquet\n    expected_schema: Schema esperado do catálogo\n    table_name: Nome da tabela\n\nReturns:\n    Lista de erros de incompatibilidade de tipos",
                    "is_async": false
                  },
                  {
                    "name": "_is_type_compatible",
                    "docstring": "Verifica se um tipo Parquet é compatível com o tipo esperado.\n\nArgs:\n    parquet_type: Tipo do Parquet (ex: 'int64', 'string')\n    expected_type: Tipo esperado do catálogo\n\nReturns:\n    True se os tipos são compatíveis",
                    "is_async": false
                  },
                  {
                    "name": "get_table_schema",
                    "docstring": "Retorna o schema esperado para uma tabela do catálogo.\n\nArgs:\n    table_name: Nome da tabela\n\nReturns:\n    Dict com schema da tabela ou None se não encontrada",
                    "is_async": false
                  },
                  {
                    "name": "list_required_columns",
                    "docstring": "Lista as colunas obrigatórias de uma tabela.\n\nArgs:\n    table_name: Nome da tabela\n\nReturns:\n    Lista de nomes de colunas obrigatórias",
                    "is_async": false
                  },
                  {
                    "name": "validate_query_columns",
                    "docstring": "Valida se as colunas de uma query existem no schema.\n\nArgs:\n    table_name: Nome da tabela\n    query_columns: Lista de colunas usadas na query\n\nReturns:\n    Tupla (is_valid, invalid_columns)",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "validate_parquet_schema",
                "docstring": "Função auxiliar para validação rápida de schema Parquet.\n\nArgs:\n    parquet_path: Caminho para o arquivo Parquet\n    catalog_path: Caminho para o catálogo (opcional)\n\nReturns:\n    Tupla (is_valid, errors)",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "json",
              "logging",
              "os",
              "pathlib",
              "typing",
              "pyarrow",
              "pyarrow.parquet"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\visualization\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 24,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\core\\visualization\\advanced_charts.py",
          "name": "advanced_charts.py",
          "extension": ".py",
          "size": 3017,
          "category": "source_python",
          "purpose": "Módulo de Gráficos Avançados para Business Intelligence",
          "details": {
            "type": "python",
            "docstring": "Módulo de Gráficos Avançados para Business Intelligence\nVersão simplificada para Agent Solution BI",
            "classes": [
              {
                "name": "AdvancedChartGenerator",
                "docstring": "Gerador de gráficos avançados para análises de negócio.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o gerador de gráficos.",
                    "is_async": false
                  },
                  {
                    "name": "create_product_ranking_chart",
                    "docstring": "Cria gráfico de ranking de produtos.\n\nArgs:\n    df: DataFrame com dados de produtos\n    limit: Número de produtos no ranking\n    chart_type: Tipo do gráfico\n\nReturns:\n    Figura Plotly",
                    "is_async": false
                  },
                  {
                    "name": "create_time_series_chart",
                    "docstring": "Cria gráfico de série temporal.",
                    "is_async": false
                  },
                  {
                    "name": "create_pie_chart",
                    "docstring": "Cria gráfico de pizza.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "pandas",
              "plotly.express",
              "plotly.graph_objects",
              "logging"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\data\\parquet\\admmat.parquet",
          "name": "admmat.parquet",
          "extension": ".parquet",
          "size": 63132216,
          "category": "data",
          "purpose": "Dataset Parquet (análise rápida com Polars)",
          "details": {}
        },
        {
          "path": "backend\\app\\data\\sessions\\.json",
          "name": ".json",
          "extension": "",
          "size": 947,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\app\\data\\sessions\\04abba9a-06bc-4fbd-b12d-463a267d1c22.json",
          "name": "04abba9a-06bc-4fbd-b12d-463a267d1c22.json",
          "extension": ".json",
          "size": 8311,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\25637002-59ea-4fb9-a38e-d4d7abc2dff0.json",
          "name": "25637002-59ea-4fb9-a38e-d4d7abc2dff0.json",
          "extension": ".json",
          "size": 3694,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\2c1e4ece-046e-4323-9635-671e95379242.json",
          "name": "2c1e4ece-046e-4323-9635-671e95379242.json",
          "extension": ".json",
          "size": 2804,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\355bc17d-fba5-4d95-9729-ad3390b370ed.json",
          "name": "355bc17d-fba5-4d95-9729-ad3390b370ed.json",
          "extension": ".json",
          "size": 448,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\3f26e098-f20b-4a08-929e-58d31fc39b68.json",
          "name": "3f26e098-f20b-4a08-929e-58d31fc39b68.json",
          "extension": ".json",
          "size": 72654,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\46d1c1c0-d075-44f5-9164-0f9bd612ae62.json",
          "name": "46d1c1c0-d075-44f5-9164-0f9bd612ae62.json",
          "extension": ".json",
          "size": 2511,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "user_id",
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\5177828c-eebb-465c-9272-580df78842b1.json",
          "name": "5177828c-eebb-465c-9272-580df78842b1.json",
          "extension": ".json",
          "size": 14017,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\537b72b4-ff3e-47b9-a3d9-3c3d6c7b878b.json",
          "name": "537b72b4-ff3e-47b9-a3d9-3c3d6c7b878b.json",
          "extension": ".json",
          "size": 1049,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "user_id",
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\569e94f3-0699-4f7f-9653-538e567b5af2.json",
          "name": "569e94f3-0699-4f7f-9653-538e567b5af2.json",
          "extension": ".json",
          "size": 317,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\71fda5a5-46a9-4dd2-97e9-57eaa46956a7.json",
          "name": "71fda5a5-46a9-4dd2-97e9-57eaa46956a7.json",
          "extension": ".json",
          "size": 3651,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\7d4cd5bf-9cc7-41be-b400-44bf76f0c5cf.json",
          "name": "7d4cd5bf-9cc7-41be-b400-44bf76f0c5cf.json",
          "extension": ".json",
          "size": 2440,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\7ee2d4ea-ce23-4495-85f2-1dcc09f05b55.json",
          "name": "7ee2d4ea-ce23-4495-85f2-1dcc09f05b55.json",
          "extension": ".json",
          "size": 463,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\82bee385-699c-4f04-a1e3-499031a954d4.json",
          "name": "82bee385-699c-4f04-a1e3-499031a954d4.json",
          "extension": ".json",
          "size": 604,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\85411dd2-0692-4186-acf2-8b489e863367.json",
          "name": "85411dd2-0692-4186-acf2-8b489e863367.json",
          "extension": ".json",
          "size": 4412,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "user_id",
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\a9e60fe1-59cd-436d-b6fa-a66d143975ba.json",
          "name": "a9e60fe1-59cd-436d-b6fa-a66d143975ba.json",
          "extension": ".json",
          "size": 1737,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\b2b0e38a-3cfc-4261-b125-7f98677a6218.json",
          "name": "b2b0e38a-3cfc-4261-b125-7f98677a6218.json",
          "extension": ".json",
          "size": 718,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\c322cc58-a7b7-41b5-be95-089d3c90609e.json",
          "name": "c322cc58-a7b7-41b5-be95-089d3c90609e.json",
          "extension": ".json",
          "size": 10407,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\cache-test-1766325258.json",
          "name": "cache-test-1766325258.json",
          "extension": ".json",
          "size": 899,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\cache-test-1766325969.json",
          "name": "cache-test-1766325969.json",
          "extension": ".json",
          "size": 746,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\d94af482-5693-46ff-8fe5-8e67b75e3437.json",
          "name": "d94af482-5693-46ff-8fe5-8e67b75e3437.json",
          "extension": ".json",
          "size": 319,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\d9a6bc3d-82cf-4ba5-9d93-1ba93f54ecee.json",
          "name": "d9a6bc3d-82cf-4ba5-9d93-1ba93f54ecee.json",
          "extension": ".json",
          "size": 1406,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-cache-1.json",
          "name": "test-cache-1.json",
          "extension": ".json",
          "size": 805,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-cache-2.json",
          "name": "test-cache-2.json",
          "extension": ".json",
          "size": 218,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-complex.json",
          "name": "test-complex.json",
          "extension": ".json",
          "size": 326,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-session-001.json",
          "name": "test-session-001.json",
          "extension": ".json",
          "size": 1970,
          "category": "data",
          "purpose": "Dados de sessão de chat",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-session-002.json",
          "name": "test-session-002.json",
          "extension": ".json",
          "size": 138,
          "category": "data",
          "purpose": "Dados de sessão de chat",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-session-1766324899.json",
          "name": "test-session-1766324899.json",
          "extension": ".json",
          "size": 1524,
          "category": "data",
          "purpose": "Dados de sessão de chat",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-session-1766324987.json",
          "name": "test-session-1766324987.json",
          "extension": ".json",
          "size": 4959,
          "category": "data",
          "purpose": "Dados de sessão de chat",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\data\\sessions\\test-session-1766325867.json",
          "name": "test-session-1766325867.json",
          "extension": ".json",
          "size": 3845,
          "category": "data",
          "purpose": "Dados de sessão de chat",
          "details": {
            "type": "json",
            "keys": [
              "history"
            ]
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\base.py",
          "name": "base.py",
          "extension": ".py",
          "size": 904,
          "category": "source_python",
          "purpose": "Database Adapter Interface",
          "details": {
            "type": "python",
            "docstring": "Database Adapter Interface\nAbstract Base Class for database adapters (Strategy Interface).\nAdapted for Async/FastAPI.",
            "classes": [
              {
                "name": "DatabaseAdapter",
                "docstring": "Abstract Base Class for database adapters.\nDefines the common contract for all database connectivity.",
                "methods": [],
                "bases": [
                  "ABC"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "abc",
              "typing"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\config\\column_mapping.py",
          "name": "column_mapping.py",
          "extension": ".py",
          "size": 9541,
          "category": "source_python",
          "purpose": "Mapeamento Oficial de Colunas do Parquet",
          "details": {
            "type": "python",
            "docstring": "Mapeamento Oficial de Colunas do Parquet\nSistema: Agent_Solution_BI\nData: 2025-10-25\n\nEste módulo contém o mapeamento entre nomes legados (código antigo) e nomes reais\ndas colunas do Parquet. Usado para normalizar queries e evitar erros de KeyError.\n\nFONTE: Extraído diretamente do Parquet real (97 colunas)",
            "classes": [],
            "functions": [
              {
                "name": "normalize_column_name",
                "docstring": "Normaliza nome de coluna (legado → real).\n\nArgs:\n    column_name: Nome da coluna (pode ser legado ou real)\n\nReturns:\n    Nome real da coluna ou o próprio nome se não encontrado\n\nExamples:\n    >>> normalize_column_name(\"PRODUTO\")\n    \"codigo\"\n    >>> normalize_column_name(\"VENDA_30DD\")\n    \"venda_30_d\"\n    >>> normalize_column_name(\"codigo\")\n    \"codigo\"",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_column_info",
                "docstring": "Retorna informações sobre uma coluna.\n\nArgs:\n    column_name: Nome da coluna (real ou legado)\n\nReturns:\n    Dicionário com informações ou None\n\nExample:\n    >>> get_column_info(\"PRODUTO\")\n    {\"nome_legado\": [\"PRODUTO\"], \"descricao\": \"Código único...\", ...}",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validate_columns",
                "docstring": "Valida se colunas existem no DataFrame.\n\nArgs:\n    columns: Lista de colunas a validar\n    df_columns: Lista de colunas disponíveis no DataFrame\n\nReturns:\n    {\"valid\": [...], \"invalid\": [...], \"suggestions\": {...}}\n\nExample:\n    >>> validate_columns([\"PRODUTO\", \"VENDA_30DD\"], df.columns)\n    {\"valid\": [\"codigo\", \"venda_30_d\"], \"invalid\": [], \"suggestions\": {}}",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_essential_columns",
                "docstring": "Retorna lista de colunas essenciais.\n\nReturns:\n    Lista com nomes reais das colunas essenciais",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "list_all_columns",
                "docstring": "Lista todas as colunas conhecidas com suas informações.\n\nReturns:\n    Lista de tuplas (nome_real, descricao)",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [],
            "constants": [
              "COLUMN_MAP",
              "COLUMN_INFO",
              "ESSENTIAL_COLUMNS"
            ]
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\dependency.py",
          "name": "dependency.py",
          "extension": ".py",
          "size": 845,
          "category": "source_python",
          "purpose": "Data Adapter Dependency",
          "details": {
            "type": "python",
            "docstring": "Data Adapter Dependency\nProvides the HybridDataAdapter instance to API endpoints.",
            "classes": [],
            "functions": [
              {
                "name": "get_data_adapter",
                "docstring": "Dependency to get the HybridDataAdapter instance from app state.\nThe adapter is initialized in main.py lifespan.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "typing",
              "fastapi",
              "app.infrastructure.data.hybrid_adapter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\duckdb_adapter.py",
          "name": "duckdb_adapter.py",
          "extension": ".py",
          "size": 11511,
          "category": "source_python",
          "purpose": "Adaptador de dados: Define classes: DuckDBAdapter",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "DuckDBAdapter",
                "docstring": "Adapter for querying Parquet files using DuckDB.\nSingleton with Connection Pool + Prepared Statements.\nBleeding Edge 2025: Zero-Copy, Metadata Cache, SIMD-optimized queries.",
                "methods": [
                  {
                    "name": "__new__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_initialize",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_setup_macros",
                    "docstring": "Setup reusable macros and advanced CONFIGURATION.",
                    "is_async": false
                  },
                  {
                    "name": "_get_parquet_path",
                    "docstring": "Resolve absolute path to parquet file",
                    "is_async": false
                  },
                  {
                    "name": "release_pooled_connection",
                    "docstring": "Release connection back to pool.",
                    "is_async": false
                  },
                  {
                    "name": "get_cursor",
                    "docstring": "Returns a thread-local cursor (sync fallback).",
                    "is_async": false
                  },
                  {
                    "name": "query",
                    "docstring": "Execute raw SQL query and return Pandas DataFrame.",
                    "is_async": false
                  },
                  {
                    "name": "query_arrow",
                    "docstring": "Execute raw SQL and return PyArrow Table (Zero-Copy).",
                    "is_async": false
                  },
                  {
                    "name": "load_data",
                    "docstring": "Optimized data loader that builds SQL dynamically.\nReplaces 'pd.read_parquet' with predicate pushdown.\n\nSECURITY: Enforces RLS via app.core.context",
                    "is_async": false
                  },
                  {
                    "name": "execute_aggregation",
                    "docstring": "Perform fast aggregation directly in DuckDB.",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "duckdb",
              "os",
              "pandas",
              "logging",
              "pathlib",
              "typing",
              "pyarrow",
              "asyncio",
              "threading",
              "app.core.context",
              "multiprocessing",
              "pyarrow"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\hybrid_adapter.py",
          "name": "hybrid_adapter.py",
          "extension": ".py",
          "size": 5144,
          "category": "source_python",
          "purpose": "Adaptador de dados: HybridDataAdapter: Adaptador híbrido com fallback automático e inteligente.",
          "details": {
            "type": "python",
            "docstring": "HybridDataAdapter: Adaptador híbrido com fallback automático e inteligente.\nVersão Async para FastAPI.\n\nPrioridade:\n1. SQL Server (se USE_SQL_SERVER=true e conexão OK)\n2. Parquet (fallback sempre disponível)",
            "classes": [
              {
                "name": "HybridDataAdapter",
                "docstring": "Adapter híbrido com fallback automático.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa adapter com configurações do settings.py",
                    "is_async": false
                  },
                  {
                    "name": "_init_adapters",
                    "docstring": "Inicializa adapters.",
                    "is_async": false
                  }
                ],
                "bases": [
                  "DatabaseAdapter"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "os",
              "asyncio",
              "typing",
              "app.infrastructure.data.base",
              "app.infrastructure.data.sql_server_adapter",
              "app.infrastructure.data.parquet_adapter",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\parquet_adapter.py",
          "name": "parquet_adapter.py",
          "extension": ".py",
          "size": 1210,
          "category": "source_python",
          "purpose": "Adaptador de dados: ParquetAdapter: Adaptador para arquivos Parquet.",
          "details": {
            "type": "python",
            "docstring": "ParquetAdapter: Adaptador para arquivos Parquet.\nVersão Async para FastAPI.",
            "classes": [
              {
                "name": "ParquetAdapter",
                "docstring": "Adapter for Parquet files usando PolarsDaskAdapter (híbrido Polars+Dask).\nAsync wrapper.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "DatabaseAdapter"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "typing",
              "app.infrastructure.data.base",
              "app.infrastructure.data.polars_dask_adapter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\polars_dask_adapter.py",
          "name": "polars_dask_adapter.py",
          "extension": ".py",
          "size": 14150,
          "category": "source_python",
          "purpose": "Adaptador de dados: PolarsDaskAdapter: Adaptador inteligente que escolhe automaticamente entre Polars e Dask.",
          "details": {
            "type": "python",
            "docstring": "PolarsDaskAdapter: Adaptador inteligente que escolhe automaticamente entre Polars e Dask.\nAdaptado para Backend FastAPI (Async).\n\nDecisão automática baseada em tamanho do arquivo:\n- Arquivos < 500MB: Polars (8.1x mais rápido)\n- Arquivos >= 500MB: Dask (escalável, out-of-core)\n\nRecursos:\n- Fallback automático Polars → Dask em caso de erro\n- Validação de integridade de dados\n- Logging detalhado de decisões\n- Feature flag para desabilitar Polars (POLARS_ENABLED=false)\n- Execução assíncrona (run_in_executor) para não bloquear event loop\n\nAutor: Claude Code\nData: 2025-10-20 (Portado para Backend em 2025-11-23)",
            "classes": [
              {
                "name": "PolarsDaskAdapter",
                "docstring": "Adaptador híbrido que escolhe automaticamente entre Polars (rápido) e Dask (escalável).\nVersão Async para FastAPI.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": "Inicializa o PolarsDaskAdapter.\n\nArgs:\n    file_path: Caminho para arquivo(s) Parquet (suporta wildcards)",
                    "is_async": false
                  },
                  {
                    "name": "_get_file_size_mb",
                    "docstring": "Calcula tamanho total do(s) arquivo(s) em MB.",
                    "is_async": false
                  },
                  {
                    "name": "_select_engine",
                    "docstring": "Seleciona engine automaticamente.",
                    "is_async": false
                  },
                  {
                    "name": "_execute_sync",
                    "docstring": "Implementação síncrona da query (executada no threadpool).",
                    "is_async": false
                  },
                  {
                    "name": "_execute_polars",
                    "docstring": "Executa query usando Polars.",
                    "is_async": false
                  },
                  {
                    "name": "_execute_dask",
                    "docstring": "Executa query usando Dask.",
                    "is_async": false
                  },
                  {
                    "name": "_get_schema_sync",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "DatabaseAdapter"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "os",
              "re",
              "time",
              "asyncio",
              "concurrent.futures",
              "typing",
              "pandas",
              "dask.dataframe",
              "app.infrastructure.data.base",
              "app.infrastructure.data.utils.column_validator",
              "polars",
              "glob",
              "pyarrow.parquet",
              "app.infrastructure.data.utils.query_optimizer"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\sql_server_adapter.py",
          "name": "sql_server_adapter.py",
          "extension": ".py",
          "size": 5430,
          "category": "source_python",
          "purpose": "Adaptador de dados: SQLServerAdapter: Adaptador para Microsoft SQL Server usando aioodbc (Async).",
          "details": {
            "type": "python",
            "docstring": "SQLServerAdapter: Adaptador para Microsoft SQL Server usando aioodbc (Async).",
            "classes": [
              {
                "name": "SQLServerAdapter",
                "docstring": "Concrete implementation of the adapter for Microsoft SQL Server (Async).",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "DatabaseAdapter"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "logging",
              "aioodbc",
              "typing",
              "app.infrastructure.data.base",
              "app.core.utils.serializers"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\utils\\column_validator.py",
          "name": "column_validator.py",
          "extension": ".py",
          "size": 11315,
          "category": "source_python",
          "purpose": "Sistema Robusto de Validação e Auto-Correção de Colunas",
          "details": {
            "type": "python",
            "docstring": "Sistema Robusto de Validação e Auto-Correção de Colunas\n========================================================\n\nPrevine erros como ColumnNotFoundError do Polars antes da execução de queries.\n\nFuncionalidades:\n1. Validação preditiva de colunas antes da execução\n2. Auto-correção de nomes de colunas (fuzzy matching)\n3. Sugestões inteligentes para erros\n4. Cache de validações para performance\n5. Integração com column_mapping.py e Polars exceptions\n\nAutor: Claude Code + Context7 Docs\nData: 2025-10-27",
            "classes": [
              {
                "name": "ColumnValidationError",
                "docstring": "Erro de validação de coluna com sugestões.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Exception"
                ]
              }
            ],
            "functions": [
              {
                "name": "get_available_columns_cached",
                "docstring": "Retorna colunas disponíveis no Parquet (com cache).\n\nArgs:\n    file_path: Caminho do arquivo Parquet\n\nReturns:\n    Tupla com nomes das colunas (imutável para cache)",
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B0A5C0>"
                ]
              },
              {
                "name": "validate_column",
                "docstring": "Valida se uma coluna existe no DataFrame.\n\nArgs:\n    column: Nome da coluna a validar\n    available_columns: Lista de colunas disponíveis no DataFrame\n    auto_correct: Se True, tenta corrigir automaticamente\n    raise_on_error: Se True, levanta exceção em vez de retornar erro\n\nReturns:\n    Tupla (is_valid, corrected_name, suggestions)\n    - is_valid: True se coluna é válida/corrigível\n    - corrected_name: Nome corrigido (ou None se não encontrado)\n    - suggestions: Lista de sugestões alternativas\n\nRaises:\n    ColumnValidationError: Se raise_on_error=True e coluna inválida",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validate_columns",
                "docstring": "Valida múltiplas colunas de uma vez.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "safe_select_columns",
                "docstring": "Versão segura de df.select() que valida e corrige colunas antes.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "extract_columns_from_query",
                "docstring": "Extrai nomes de colunas de código Python/Polars.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "validate_query_code",
                "docstring": "Valida código de query antes da execução.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "clear_validation_cache",
                "docstring": "Limpa cache de validações (útil para testes).",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "re",
              "typing",
              "difflib",
              "functools",
              "app.infrastructure.data.config.column_mapping",
              "polars"
            ],
            "constants": [
              "SIMILARITY_THRESHOLD",
              "MAX_SUGGESTIONS",
              "VALIDATION_CACHE"
            ]
          }
        },
        {
          "path": "backend\\app\\infrastructure\\data\\utils\\query_optimizer.py",
          "name": "query_optimizer.py",
          "extension": ".py",
          "size": 9335,
          "category": "source_python",
          "purpose": "Query Optimizer: Otimizador cirúrgico de queries para evitar saturação de buffer.",
          "details": {
            "type": "python",
            "docstring": "Query Optimizer: Otimizador cirúrgico de queries para evitar saturação de buffer.\n\nSoluções implementadas:\n1. Seleção inteligente de colunas (retorna apenas colunas necessárias)\n2. Suporte a lazy loading no Streamlit (height parameter)\n3. Streaming de dados grandes (chunking automático)\n\nPrincípios:\n- NÃO quebra funcionalidade existente\n- NÃO limita dados do usuário\n- Reduz uso de memória em 60-80%\n- Compatível com todo código existente\n\nAutor: Claude Code\nData: 2025-10-26",
            "classes": [],
            "functions": [
              {
                "name": "detect_query_intent",
                "docstring": "Detecta intenção da query para selecionar colunas relevantes.\n\nArgs:\n    query: Pergunta do usuário\n\nReturns:\n    Lista de categorias de colunas necessárias",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_optimized_columns",
                "docstring": "Retorna lista otimizada de colunas baseada na intenção da query.\n\nArgs:\n    available_columns: Todas as colunas disponíveis no dataset\n    query: Pergunta do usuário (opcional, usado para detectar intenção)\n    intent_categories: Categorias de intenção (se já conhecidas)\n\nReturns:\n    Lista de colunas otimizadas (apenas as necessárias)",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "should_use_column_optimization",
                "docstring": "Decide se deve aplicar otimização de colunas baseado no tamanho do resultado.\n\nArgs:\n    num_rows: Número de linhas no resultado\n    num_columns: Número de colunas no resultado\n\nReturns:\n    True se deve otimizar, False caso contrário",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "get_streamlit_height_param",
                "docstring": "Calcula parâmetro height ideal para st.dataframe() baseado no número de linhas.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "optimize_query_result",
                "docstring": "Otimiza resultado de query antes de retornar ao usuário.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "typing"
            ],
            "constants": [
              "ESSENTIAL_COLUMNS",
              "RARELY_USED_COLUMNS"
            ]
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\migrations\\env.py",
          "name": "env.py",
          "extension": ".py",
          "size": 1884,
          "category": "source_python",
          "purpose": "Funções: run_migrations_offline, run_migrations_online",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "run_migrations_offline",
                "docstring": "Run migrations in 'offline' mode.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "run_migrations_online",
                "docstring": "Run migrations in 'online' mode.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging.config",
              "urllib.parse",
              "sqlalchemy",
              "sqlalchemy",
              "alembic",
              "app.config.settings",
              "app.infrastructure.database.models"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\migrations\\script.py.mako",
          "name": "script.py.mako",
          "extension": ".mako",
          "size": 661,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\app\\infrastructure\\database\\migrations\\versions\\fresh_start_migration.py",
          "name": "fresh_start_migration.py",
          "extension": ".py",
          "size": 3423,
          "category": "source_python",
          "purpose": "Criar tabelas do zero",
          "details": {
            "type": "python",
            "docstring": "Criar tabelas do zero\n\nRevision ID: fresh_start\nRevises: \nCreate Date: 2025-11-23 16:35:00",
            "classes": [],
            "functions": [
              {
                "name": "upgrade",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "downgrade",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "typing",
              "alembic",
              "sqlalchemy"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 626,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": "Database Models\nExport all models for easy imports",
            "classes": [],
            "functions": [],
            "imports": [
              "app.config.database",
              "app.infrastructure.database.models.audit_log",
              "app.infrastructure.database.models.report",
              "app.infrastructure.database.models.user",
              "app.infrastructure.database.models.admmatao",
              "app.infrastructure.database.models.shared_conversation",
              "app.infrastructure.database.models.user_preference"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\admmatao.py",
          "name": "admmatao.py",
          "extension": ".py",
          "size": 4340,
          "category": "source_python",
          "purpose": "Define classes: Admmatao",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "Admmatao",
                "docstring": null,
                "methods": [
                  {
                    "name": "__repr__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Base"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "sqlalchemy",
              "sqlalchemy.sql",
              "app.config.database"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\audit_log.py",
          "name": "audit_log.py",
          "extension": ".py",
          "size": 1276,
          "category": "source_python",
          "purpose": "Audit Log Model",
          "details": {
            "type": "python",
            "docstring": "Audit Log Model\nSQLAlchemy model for audit_logs table",
            "classes": [
              {
                "name": "AuditLog",
                "docstring": "Audit log database model",
                "methods": [
                  {
                    "name": "__repr__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Base"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "sqlalchemy",
              "sqlalchemy.orm",
              "sqlalchemy.sql",
              "app.config.database"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\report.py",
          "name": "report.py",
          "extension": ".py",
          "size": 1459,
          "category": "source_python",
          "purpose": "Report Model",
          "details": {
            "type": "python",
            "docstring": "Report Model\nSQLAlchemy model for reports table",
            "classes": [
              {
                "name": "Report",
                "docstring": "Report database model",
                "methods": [
                  {
                    "name": "__repr__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Base"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "sqlalchemy",
              "sqlalchemy.orm",
              "sqlalchemy.sql",
              "app.config.database"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\shared_conversation.py",
          "name": "shared_conversation.py",
          "extension": ".py",
          "size": 2637,
          "category": "source_python",
          "purpose": "Shared Conversation Model",
          "details": {
            "type": "python",
            "docstring": "Shared Conversation Model\nSQLAlchemy model for shared conversations",
            "classes": [
              {
                "name": "SharedConversation",
                "docstring": "Shared conversation database model for public conversation links",
                "methods": [
                  {
                    "name": "__repr__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "messages_list",
                    "docstring": "Converte a string JSON de messages para uma lista Python.",
                    "is_async": false
                  },
                  {
                    "name": "messages_list",
                    "docstring": "Define messages a partir de uma lista Python, convertendo para string JSON.",
                    "is_async": false
                  },
                  {
                    "name": "is_expired",
                    "docstring": "Check if the shared conversation has expired.",
                    "is_async": false
                  },
                  {
                    "name": "increment_view_count",
                    "docstring": "Increment the view counter.",
                    "is_async": false
                  }
                ],
                "bases": [
                  "Base"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "json",
              "sqlalchemy",
              "sqlalchemy.orm",
              "sqlalchemy.sql",
              "app.config.database"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\user.py",
          "name": "user.py",
          "extension": ".py",
          "size": 2212,
          "category": "source_python",
          "purpose": "User Model",
          "details": {
            "type": "python",
            "docstring": "User Model\nSQLAlchemy model for users table",
            "classes": [
              {
                "name": "User",
                "docstring": "User database model",
                "methods": [
                  {
                    "name": "__repr__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "segments_list",
                    "docstring": "Converte a string JSON de allowed_segments para uma lista Python.",
                    "is_async": false
                  },
                  {
                    "name": "segments_list",
                    "docstring": "Define allowed_segments a partir de uma lista Python, convertendo para string JSON.",
                    "is_async": false
                  }
                ],
                "bases": [
                  "Base"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "json",
              "sqlalchemy",
              "sqlalchemy.orm",
              "sqlalchemy.sql",
              "app.config.database"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\infrastructure\\database\\models\\user_preference.py",
          "name": "user_preference.py",
          "extension": ".py",
          "size": 1899,
          "category": "source_python",
          "purpose": "User Preference Model",
          "details": {
            "type": "python",
            "docstring": "User Preference Model\nSQLAlchemy model for user preferences and memory",
            "classes": [
              {
                "name": "UserPreference",
                "docstring": "User preference model for storing user-specific preferences and memory",
                "methods": [
                  {
                    "name": "__repr__",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "Base"
                ]
              },
              {
                "name": "Keys",
                "docstring": "Common preference key constants",
                "methods": [],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "sqlalchemy",
              "sqlalchemy.orm",
              "sqlalchemy.sql",
              "app.config.database"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\schemas\\analytics.py",
          "name": "analytics.py",
          "extension": ".py",
          "size": 1201,
          "category": "source_python",
          "purpose": "Analytics Schemas",
          "details": {
            "type": "python",
            "docstring": "Analytics Schemas\nPydantic schemas for Analytics API",
            "classes": [
              {
                "name": "AnalyticsFilter",
                "docstring": "Analytics filter parameters",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "AnalyticsData",
                "docstring": "Analytics data point",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "AnalyticsMetric",
                "docstring": "Analytics metric",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ExportRequest",
                "docstring": "Export request schema",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "CustomQueryRequest",
                "docstring": "Custom query request",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "datetime",
              "typing",
              "pydantic"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\schemas\\auth.py",
          "name": "auth.py",
          "extension": ".py",
          "size": 815,
          "category": "source_python",
          "purpose": "Auth Schemas",
          "details": {
            "type": "python",
            "docstring": "Auth Schemas\nPydantic schemas for Authentication",
            "classes": [
              {
                "name": "Token",
                "docstring": "Token response schema",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "TokenData",
                "docstring": "Token payload data",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "LoginRequest",
                "docstring": "Login request schema",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "RefreshTokenRequest",
                "docstring": "Refresh token request schema",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "pydantic"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\schemas\\report.py",
          "name": "report.py",
          "extension": ".py",
          "size": 1414,
          "category": "source_python",
          "purpose": "Report Schemas",
          "details": {
            "type": "python",
            "docstring": "Report Schemas\nPydantic schemas for Report API",
            "classes": [
              {
                "name": "ReportBase",
                "docstring": "Base report schema",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ReportCreate",
                "docstring": "Schema for creating a report",
                "methods": [],
                "bases": [
                  "ReportBase"
                ]
              },
              {
                "name": "ReportUpdate",
                "docstring": "Schema for updating a report",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ReportResponse",
                "docstring": "Schema for report response",
                "methods": [],
                "bases": [
                  "ReportBase"
                ]
              },
              {
                "name": "ReportListResponse",
                "docstring": "Schema for report list response",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "pydantic"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\schemas\\user.py",
          "name": "user.py",
          "extension": ".py",
          "size": 2915,
          "category": "source_python",
          "purpose": "User Schemas",
          "details": {
            "type": "python",
            "docstring": "User Schemas\nPydantic schemas for User API",
            "classes": [
              {
                "name": "UserBase",
                "docstring": "Base user schema",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "UserCreate",
                "docstring": "Schema for creating a user",
                "methods": [],
                "bases": [
                  "UserBase"
                ]
              },
              {
                "name": "UserUpdate",
                "docstring": "Schema for updating a user",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "UserResponse",
                "docstring": "Schema for user response",
                "methods": [
                  {
                    "name": "model_validate",
                    "docstring": "Custom validation to handle allowed_segments conversion from JSON string.\nFIXED: Use segments_list property from User model if available (handles parsing automatically).",
                    "is_async": false
                  }
                ],
                "bases": [
                  "UserBase"
                ]
              },
              {
                "name": "UserInDB",
                "docstring": "Schema for user in database (includes hashed password)",
                "methods": [],
                "bases": [
                  "UserResponse"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "datetime",
              "pydantic",
              "json"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\templates\\login.html",
          "name": "login.html",
          "extension": ".html",
          "size": 1118,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\CONTINUOUS_LEARNING_GUIDE.md",
          "name": "CONTINUOUS_LEARNING_GUIDE.md",
          "extension": ".md",
          "size": 14912,
          "category": "docs",
          "purpose": "Documentação: Guia de Continuous Learning - Agent BI (2025)",
          "details": {
            "type": "markdown",
            "title": "Guia de Continuous Learning - Agent BI (2025)",
            "sections": [
              "📋 Visão Geral",
              "🚀 Setup Rápido",
              "📚 Arquitetura",
              "🔧 API Reference",
              "💡 Como Usar",
              "📊 Métricas e Monitoramento",
              "🔄 Workflow de Melhoria Contínua",
              "🎯 Best Practices",
              "🐛 Troubleshooting",
              "📈 Roadmap de Melhoria"
            ],
            "preview": "# Guia de Continuous Learning - Agent BI (2025)\n\n## 📋 Visão Geral\n\nEste sistema implementa **Continuous Learning** moderno para LLMs, transformando feedback passivo em melhoria ativa do modelo através de:"
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\1af96ff6522dab74ed93ee0bc381f2bc.json",
          "name": "1af96ff6522dab74ed93ee0bc381f2bc.json",
          "extension": ".json",
          "size": 1745,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\22153012b73bcb1f40c70dd5fcd466bd.json",
          "name": "22153012b73bcb1f40c70dd5fcd466bd.json",
          "extension": ".json",
          "size": 39,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\24758a433ecd09604de2b51b7f880c40.json",
          "name": "24758a433ecd09604de2b51b7f880c40.json",
          "extension": ".json",
          "size": 224,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\25767916627907e8f7d274ae0afc0fc8.json",
          "name": "25767916627907e8f7d274ae0afc0fc8.json",
          "extension": ".json",
          "size": 9504,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result",
              "chart_spec"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\2e3c9a63fffb52f97299883eeddcaa1e.json",
          "name": "2e3c9a63fffb52f97299883eeddcaa1e.json",
          "extension": ".json",
          "size": 144,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\3070057a28f8ee68d1fdf381a97341aa.json",
          "name": "3070057a28f8ee68d1fdf381a97341aa.json",
          "extension": ".json",
          "size": 331,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\30b85e0c920ef58a145e421522e1d320.json",
          "name": "30b85e0c920ef58a145e421522e1d320.json",
          "extension": ".json",
          "size": 1311,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\34e9d20e2057865814feb72f09871385.json",
          "name": "34e9d20e2057865814feb72f09871385.json",
          "extension": ".json",
          "size": 1914,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\38a9f8390c4525a049f90e66b77853af.json",
          "name": "38a9f8390c4525a049f90e66b77853af.json",
          "extension": ".json",
          "size": 507,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\40df51f64b3e2d39580faf89c7d54be0.json",
          "name": "40df51f64b3e2d39580faf89c7d54be0.json",
          "extension": ".json",
          "size": 1778,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\42855106065dc471b5a91887187f1bac.json",
          "name": "42855106065dc471b5a91887187f1bac.json",
          "extension": ".json",
          "size": 1800,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\43fa78def25e84fac067b8fb288e9e2e.json",
          "name": "43fa78def25e84fac067b8fb288e9e2e.json",
          "extension": ".json",
          "size": 39,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\49b65803b8bd245937e20d6e97be37f2.json",
          "name": "49b65803b8bd245937e20d6e97be37f2.json",
          "extension": ".json",
          "size": 557,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\4ae3b266361e3b75ba3db6bbdb23502d.json",
          "name": "4ae3b266361e3b75ba3db6bbdb23502d.json",
          "extension": ".json",
          "size": 460,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\50f970ddb739f3bccf489574d5e9f52c.json",
          "name": "50f970ddb739f3bccf489574d5e9f52c.json",
          "extension": ".json",
          "size": 441,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\5348653381fa50634b2ee8dd001954bc.json",
          "name": "5348653381fa50634b2ee8dd001954bc.json",
          "extension": ".json",
          "size": 434,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\5a74b6b99cd2592d468c14cc2bc97985.json",
          "name": "5a74b6b99cd2592d468c14cc2bc97985.json",
          "extension": ".json",
          "size": 298,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\66d11dacffcc933c743c2ae1f15f5a6c.json",
          "name": "66d11dacffcc933c743c2ae1f15f5a6c.json",
          "extension": ".json",
          "size": 2195,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\6c8b56b3fed46216805ed78f30cf704d.json",
          "name": "6c8b56b3fed46216805ed78f30cf704d.json",
          "extension": ".json",
          "size": 174,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\6dcba9a072715735fde48bac4d242334.json",
          "name": "6dcba9a072715735fde48bac4d242334.json",
          "extension": ".json",
          "size": 2352,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\6fdf9cc4149f5eb2d96671b101fcc68e.json",
          "name": "6fdf9cc4149f5eb2d96671b101fcc68e.json",
          "extension": ".json",
          "size": 135,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\7c7a36596e4c53fe03a7a105c0c4b7f6.json",
          "name": "7c7a36596e4c53fe03a7a105c0c4b7f6.json",
          "extension": ".json",
          "size": 205,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\7df39b2e37a393c80f5747b55483e204.json",
          "name": "7df39b2e37a393c80f5747b55483e204.json",
          "extension": ".json",
          "size": 471,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\810199084a94a86aa58b3a4b781154f2.json",
          "name": "810199084a94a86aa58b3a4b781154f2.json",
          "extension": ".json",
          "size": 441,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\8a03571643a8c08a45b0cca61485d720.json",
          "name": "8a03571643a8c08a45b0cca61485d720.json",
          "extension": ".json",
          "size": 5601,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result",
              "chart_spec"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\8bab08c1b014ec512c97e71311829c37.json",
          "name": "8bab08c1b014ec512c97e71311829c37.json",
          "extension": ".json",
          "size": 1896,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\8e5c349b3e270b3704520127be33fa65.json",
          "name": "8e5c349b3e270b3704520127be33fa65.json",
          "extension": ".json",
          "size": 1260,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\95ec80d9464c5051aec255043444bb57.json",
          "name": "95ec80d9464c5051aec255043444bb57.json",
          "extension": ".json",
          "size": 520,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\96828792686798e29666234032ded85d.json",
          "name": "96828792686798e29666234032ded85d.json",
          "extension": ".json",
          "size": 1929,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\987e4691d1096173ce5fa33386242e60.json",
          "name": "987e4691d1096173ce5fa33386242e60.json",
          "extension": ".json",
          "size": 39,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\9e49cb43bdc537a363dcaea074917292.json",
          "name": "9e49cb43bdc537a363dcaea074917292.json",
          "extension": ".json",
          "size": 5601,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result",
              "chart_spec"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\a8373de016f153ce0c67f037e080b642.json",
          "name": "a8373de016f153ce0c67f037e080b642.json",
          "extension": ".json",
          "size": 943,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result",
              "chart_spec"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\ab20561f0e7cf8533c3a5962bdd8010f.json",
          "name": "ab20561f0e7cf8533c3a5962bdd8010f.json",
          "extension": ".json",
          "size": 39,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\b7bb7c15be6d0d34f747db4ca1a18381.json",
          "name": "b7bb7c15be6d0d34f747db4ca1a18381.json",
          "extension": ".json",
          "size": 2284,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\ba6dd1e8424534cc960b62ce9cb6ad95.json",
          "name": "ba6dd1e8424534cc960b62ce9cb6ad95.json",
          "extension": ".json",
          "size": 360,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\c0d8285d1c57552e23e3bfddf40716a0.json",
          "name": "c0d8285d1c57552e23e3bfddf40716a0.json",
          "extension": ".json",
          "size": 280,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\cache_files.txt",
          "name": "cache_files.txt",
          "extension": ".txt",
          "size": 0,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\data\\cache\\semantic\\cc57f8346af46448819d7e2fa325154e.json",
          "name": "cc57f8346af46448819d7e2fa325154e.json",
          "extension": ".json",
          "size": 1384,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\d3fad6791c9660e38a2f45cd008d4a34.json",
          "name": "d3fad6791c9660e38a2f45cd008d4a34.json",
          "extension": ".json",
          "size": 2140,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\d9b7294e98179dc8e496ac32f933006a.json",
          "name": "d9b7294e98179dc8e496ac32f933006a.json",
          "extension": ".json",
          "size": 9980,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result",
              "chart_spec"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\dfb55e042df58956f554a0e8f36d467a.json",
          "name": "dfb55e042df58956f554a0e8f36d467a.json",
          "extension": ".json",
          "size": 572,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\e1d62205f6ca070d6a8cf5af653bccc2.json",
          "name": "e1d62205f6ca070d6a8cf5af653bccc2.json",
          "extension": ".json",
          "size": 591,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\e499cc4d23451f05c823b77cc22f91bf.json",
          "name": "e499cc4d23451f05c823b77cc22f91bf.json",
          "extension": ".json",
          "size": 477,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\eff06dfeca50cc20a09ec8dcc2a3061c.json",
          "name": "eff06dfeca50cc20a09ec8dcc2a3061c.json",
          "extension": ".json",
          "size": 1856,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\ffe54fd058c60c46606515b6ff81d2f3.json",
          "name": "ffe54fd058c60c46606515b6ff81d2f3.json",
          "extension": ".json",
          "size": 1609,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "type",
              "result"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\semantic\\index.json",
          "name": "index.json",
          "extension": ".json",
          "size": 14004,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": [
              "8e5c349b3e270b3704520127be33fa65",
              "30b85e0c920ef58a145e421522e1d320",
              "810199084a94a86aa58b3a4b781154f2",
              "50f970ddb739f3bccf489574d5e9f52c",
              "43fa78def25e84fac067b8fb288e9e2e",
              "d3fad6791c9660e38a2f45cd008d4a34",
              "6754a149174668fa433aa956f20bbfc4",
              "e1d62205f6ca070d6a8cf5af653bccc2",
              "40df51f64b3e2d39580faf89c7d54be0",
              "6dcba9a072715735fde48bac4d242334",
              "3d5008de9076b3ec11b619f8220288e2",
              "42855106065dc471b5a91887187f1bac",
              "cc57f8346af46448819d7e2fa325154e",
              "34e9d20e2057865814feb72f09871385",
              "c1b3f04a75f3fb05db2ca121d576e22c",
              "4835859d6237f0e5c4872856ed83a9a6",
              "e357ee777e1edb11a0db3f54c1b5d46c",
              "987e4691d1096173ce5fa33386242e60",
              "ecba6a400e1bbd276239529c6ccb3058",
              "49b65803b8bd245937e20d6e97be37f2",
              "789ac87dfe4c43efc4031b09f1875ab7",
              "d058f40d4c4b146b5b4de12e4e17fe81",
              "71cba9b24acf25a2e0e7342407565648",
              "95748cde41d3b6cc66cc0b8fae47fa86",
              "5348653381fa50634b2ee8dd001954bc",
              "e499cc4d23451f05c823b77cc22f91bf",
              "95ec80d9464c5051aec255043444bb57",
              "d9b7294e98179dc8e496ac32f933006a",
              "8a03571643a8c08a45b0cca61485d720",
              "9e49cb43bdc537a363dcaea074917292",
              "dfb55e042df58956f554a0e8f36d467a",
              "7df39b2e37a393c80f5747b55483e204",
              "38a9f8390c4525a049f90e66b77853af",
              "4ae3b266361e3b75ba3db6bbdb23502d",
              "24758a433ecd09604de2b51b7f880c40",
              "6c8b56b3fed46216805ed78f30cf704d",
              "a865aeae97a831c7e57b0e19176f28b2",
              "25767916627907e8f7d274ae0afc0fc8",
              "c0d8285d1c57552e23e3bfddf40716a0",
              "ba6dd1e8424534cc960b62ce9cb6ad95",
              "5a74b6b99cd2592d468c14cc2bc97985",
              "3070057a28f8ee68d1fdf381a97341aa",
              "a8373de016f153ce0c67f037e080b642",
              "eff06dfeca50cc20a09ec8dcc2a3061c",
              "96828792686798e29666234032ded85d",
              "66d11dacffcc933c743c2ae1f15f5a6c",
              "1af96ff6522dab74ed93ee0bc381f2bc",
              "8bab08c1b014ec512c97e71311829c37",
              "b7bb7c15be6d0d34f747db4ca1a18381",
              "ab20561f0e7cf8533c3a5962bdd8010f",
              "ffe54fd058c60c46606515b6ff81d2f3",
              "011b21d8372d76ba7afd7c2cca042f2a",
              "7d09111971bed181f4c204dc940c61c3",
              "c09f0d62a9b7a6487121f46bc5b6e46d",
              "2e3c9a63fffb52f97299883eeddcaa1e",
              "0136f3e258716108312f7528dc328c09",
              "6fdf9cc4149f5eb2d96671b101fcc68e",
              "7c7a36596e4c53fe03a7a105c0c4b7f6"
            ]
          }
        },
        {
          "path": "backend\\data\\cache\\test_semantic\\index.json",
          "name": "index.json",
          "extension": ".json",
          "size": 2,
          "category": "data",
          "purpose": "Cache de dados",
          "details": {
            "type": "json",
            "keys": []
          }
        },
        {
          "path": "backend\\data\\learning\\golden_dataset\\positive\\golden_20251227_152604_013930.json",
          "name": "golden_20251227_152604_013930.json",
          "extension": ".json",
          "size": 297,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "timestamp",
              "query",
              "response",
              "user_id",
              "confidence_score",
              "tags"
            ]
          }
        },
        {
          "path": "backend\\data\\learning\\golden_dataset\\review\\review_20251227_152604_013930.json",
          "name": "review_20251227_152604_013930.json",
          "extension": ".json",
          "size": 327,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "timestamp",
              "query",
              "response",
              "feedback_type",
              "user_comment",
              "confidence_score",
              "review_status",
              "priority"
            ]
          }
        },
        {
          "path": "backend\\data\\learning\\golden_dataset\\review\\review_20251227_152604_018362.json",
          "name": "review_20251227_152604_018362.json",
          "extension": ".json",
          "size": 316,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "timestamp",
              "query",
              "response",
              "feedback_type",
              "user_comment",
              "confidence_score",
              "review_status",
              "priority"
            ]
          }
        },
        {
          "path": "backend\\data\\parquet\\admmat.parquet",
          "name": "admmat.parquet",
          "extension": ".parquet",
          "size": 63132216,
          "category": "data",
          "purpose": "Dataset Parquet (análise rápida com Polars)",
          "details": {}
        },
        {
          "path": "backend\\data\\parquet\\users.parquet",
          "name": "users.parquet",
          "extension": ".parquet",
          "size": 5024,
          "category": "data",
          "purpose": "Dataset Parquet (análise rápida com Polars)",
          "details": {}
        },
        {
          "path": "backend\\data\\transferencias\\batch_20251208221533042604.json",
          "name": "batch_20251208221533042604.json",
          "extension": ".json",
          "size": 1368,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "batch_id",
              "modo",
              "solicitante_id",
              "timestamp",
              "total_transferencias",
              "transferencias"
            ]
          }
        },
        {
          "path": "backend\\data\\transferencias\\batch_20251214134747282728.json",
          "name": "batch_20251214134747282728.json",
          "extension": ".json",
          "size": 796,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "batch_id",
              "modo",
              "solicitante_id",
              "timestamp",
              "total_transferencias",
              "transferencias"
            ]
          }
        },
        {
          "path": "backend\\data\\transferencias\\transfer_20251207223105055653.json",
          "name": "transfer_20251207223105055653.json",
          "extension": ".json",
          "size": 180,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "produto_id",
              "une_origem",
              "une_destino",
              "quantidade",
              "solicitante_id",
              "timestamp"
            ]
          }
        },
        {
          "path": "backend\\data\\transferencias\\transfer_past.json",
          "name": "transfer_past.json",
          "extension": ".json",
          "size": 146,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "produto_id",
              "une_origem",
              "une_destino",
              "quantidade",
              "solicitante_id",
              "timestamp"
            ]
          }
        },
        {
          "path": "backend\\DEPENDENCY_ANALYSIS_REPORT.md",
          "name": "DEPENDENCY_ANALYSIS_REPORT.md",
          "extension": ".md",
          "size": 15300,
          "category": "docs",
          "purpose": "Documentação: Relatório de Análise de Dependências - Agent Solution BI Backend",
          "details": {
            "type": "markdown",
            "title": "Relatório de Análise de Dependências - Agent Solution BI Backend",
            "sections": [
              "Resumo Executivo",
              "✅ Dependências Instaladas (32 pacotes)",
              "❌ Dependências FALTANDO (5 pacotes CRÍTICOS)",
              "🔍 Análise Detalhada: Imports por Arquivo",
              "📦 Comparação: pyproject.toml vs requirements.txt",
              "🔧 Solução Recomendada",
              "📊 Versões Compatíveis Recomendadas",
              "⚠️ Conflitos de Versão Identificados",
              "🐳 Correção para Docker",
              "📝 Checklist de Ações"
            ],
            "preview": "# Relatório de Análise de Dependências - Agent Solution BI Backend\n\n**Data**: 26/11/2025\n**Python**: 3.11.0\n**Projeto**: Agent Solution BI (FastAPI + LangChain + Gemini)"
          }
        },
        {
          "path": "backend\\fix_admin_role.py",
          "name": "fix_admin_role.py",
          "extension": ".py",
          "size": 1939,
          "category": "source_python",
          "purpose": "Não identificado",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "polars",
              "pathlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\fix_supabase_admin.py",
          "name": "fix_supabase_admin.py",
          "extension": ".py",
          "size": 6513,
          "category": "source_python",
          "purpose": "Script para verificar e corrigir usuário admin no Supabase",
          "details": {
            "type": "python",
            "docstring": "Script para verificar e corrigir usuário admin no Supabase",
            "classes": [],
            "functions": [
              {
                "name": "main",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "sys",
              "asyncio",
              "app.config.settings",
              "app.core.supabase_client",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\fix_supabase_admin_clean.py",
          "name": "fix_supabase_admin_clean.py",
          "extension": ".py",
          "size": 6555,
          "category": "source_python",
          "purpose": "Script para verificar e corrigir usuário admin no Supabase",
          "details": {
            "type": "python",
            "docstring": "Script para verificar e corrigir usuário admin no Supabase",
            "classes": [],
            "functions": [
              {
                "name": "main",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "sys",
              "asyncio",
              "app.config.settings",
              "app.core.supabase_client",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\install_missing_deps.bat",
          "name": "install_missing_deps.bat",
          "extension": ".bat",
          "size": 3834,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\logs\\api\\api.log",
          "name": "api.log",
          "extension": ".log",
          "size": 3075297,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\logs\\app\\app.log",
          "name": "app.log",
          "extension": ".log",
          "size": 664958,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\logs\\audit\\audit.log",
          "name": "audit.log",
          "extension": ".log",
          "size": 151715,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\logs\\chat\\chat.log",
          "name": "chat.log",
          "extension": ".log",
          "size": 0,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\logs\\errors\\critical.log",
          "name": "critical.log",
          "extension": ".log",
          "size": 409507,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\logs\\errors\\errors.log",
          "name": "errors.log",
          "extension": ".log",
          "size": 496016,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\logs\\security\\security.log",
          "name": "security.log",
          "extension": ".log",
          "size": 114595,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\migrations\\create_new_tables.sql",
          "name": "create_new_tables.sql",
          "extension": ".sql",
          "size": 2350,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\MODERNIZATION_COMPLETE.md",
          "name": "MODERNIZATION_COMPLETE.md",
          "extension": ".md",
          "size": 13707,
          "category": "docs",
          "purpose": "Documentação: Modernização do Agent BI - Implementação Completa",
          "details": {
            "type": "markdown",
            "title": "Modernização do Agent BI - Implementação Completa",
            "sections": [
              "Resumo Executivo",
              "Ação 1: Consolidar System Prompt",
              "Ação 2: Consolidar Ferramentas (Remover Recursivas)",
              "Ação 3: Integrar RAG (Retrieval-Augmented Generation)",
              "Ação 4: Melhorar Context7 Storytelling",
              "Arquivos Modificados",
              "Testes Recomendados",
              "Próximos Passos (Recomendações P1)",
              "Changelog",
              "Métricas de Impacto"
            ],
            "preview": "# Modernização do Agent BI - Implementação Completa\n**Data:** 2025-12-27\n**Prioridade:** P0 (Crítico)\n\n---"
          }
        },
        {
          "path": "backend\\PRODUCT_ANALYSIS_FIX.md",
          "name": "PRODUCT_ANALYSIS_FIX.md",
          "extension": ".md",
          "size": 11746,
          "category": "docs",
          "purpose": "Documentação: Correção: Análise de Produto Individual",
          "details": {
            "type": "markdown",
            "title": "Correção: Análise de Produto Individual",
            "sections": [
              "📋 Problema Reportado",
              "🔍 Causa Raiz Identificada",
              "✅ Soluções Implementadas",
              "🧪 Validação (Todos os Testes Passaram)",
              "📊 Resumo das Mudanças",
              "🎯 Fluxo Correto (Após Correção)",
              "🚀 Como Usar (Exemplos)",
              "📝 Notas Técnicas",
              "🎉 Conclusão"
            ],
            "preview": "# Correção: Análise de Produto Individual\n\n**Data:** 2025-12-27\n**Status:** ✅ CONCLUÍDO E TESTADO\n"
          }
        },
        {
          "path": "backend\\pyproject.toml",
          "name": "pyproject.toml",
          "extension": ".toml",
          "size": 2089,
          "category": "config",
          "purpose": "Configuração do projeto Python",
          "details": {}
        },
        {
          "path": "backend\\QUICKSTART.md",
          "name": "QUICKSTART.md",
          "extension": ".md",
          "size": 1698,
          "category": "docs",
          "purpose": "Documentação: 🚀 Quick Start - Backend FastAPI",
          "details": {
            "type": "markdown",
            "title": "🚀 Quick Start - Backend FastAPI",
            "sections": [
              "Início Rápido (5 minutos)",
              "✅ Pronto!",
              "📝 Credenciais Padrão"
            ],
            "preview": "# 🚀 Quick Start - Backend FastAPI\n\n## Início Rápido (5 minutos)\n\n### 1. Clonar e Navegar"
          }
        },
        {
          "path": "backend\\README.md",
          "name": "README.md",
          "extension": ".md",
          "size": 2390,
          "category": "docs",
          "purpose": "Documentação: Agent BI Backend",
          "details": {
            "type": "markdown",
            "title": "Agent BI Backend",
            "sections": [
              "🚀 Quick Start",
              "📚 Documentação",
              "🏗️ Arquitetura",
              "🔐 Autenticação",
              "🧪 Testes",
              "📦 Dependências Principais",
              "🔧 Desenvolvimento",
              "🚢 Deploy",
              "📝 License"
            ],
            "preview": "# Agent BI Backend\n\nBackend FastAPI moderno para Agent Solution BI.\n\n## 🚀 Quick Start"
          }
        },
        {
          "path": "backend\\requirements-code-chat.txt",
          "name": "requirements-code-chat.txt",
          "extension": ".txt",
          "size": 517,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\requirements-docker.txt",
          "name": "requirements-docker.txt",
          "extension": ".txt",
          "size": 4162,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\requirements.txt",
          "name": "requirements.txt",
          "extension": ".txt",
          "size": 11517,
          "category": "config",
          "purpose": "Dependências Python",
          "details": {}
        },
        {
          "path": "backend\\scripts\\analyze_parquet.py",
          "name": "analyze_parquet.py",
          "extension": ".py",
          "size": 3904,
          "category": "source_python",
          "purpose": "Script para analisar a estrutura do admmat.parquet",
          "details": {
            "type": "python",
            "docstring": "Script para analisar a estrutura do admmat.parquet\ne gerar documentação para o ChatBI",
            "classes": [],
            "functions": [
              {
                "name": "analyze_parquet_structure",
                "docstring": "Analisa estrutura do arquivo Parquet",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pandas",
              "pyarrow.parquet",
              "pathlib",
              "json"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\backend\\data\\parquet\\admmat.parquet",
          "name": "admmat.parquet",
          "extension": ".parquet",
          "size": 12933,
          "category": "data",
          "purpose": "Dataset Parquet (análise rápida com Polars)",
          "details": {}
        },
        {
          "path": "backend\\scripts\\check_admin.py",
          "name": "check_admin.py",
          "extension": ".py",
          "size": 1802,
          "category": "source_python",
          "purpose": "Verificar se usuário admin existe",
          "details": {
            "type": "python",
            "docstring": "Verificar se usuário admin existe",
            "classes": [],
            "functions": [],
            "imports": [
              "asyncio",
              "sys",
              "pathlib",
              "app.config.database",
              "app.infrastructure.database.models",
              "sqlalchemy",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\check_config.py",
          "name": "check_config.py",
          "extension": ".py",
          "size": 1501,
          "category": "source_python",
          "purpose": "Script Simples de Verificação - Configurações",
          "details": {
            "type": "python",
            "docstring": "Script Simples de Verificação - Configurações",
            "classes": [],
            "functions": [],
            "imports": [
              "sys",
              "pathlib",
              "app.config.settings",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\check_specific_users.py",
          "name": "check_specific_users.py",
          "extension": ".py",
          "size": 1687,
          "category": "source_python",
          "purpose": "Funções: check_sql, check_parquet",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "check_sql",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "check_parquet",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pyodbc",
              "polars",
              "pathlib"
            ],
            "constants": [
              "CONN_STR",
              "PARQUET_PATH",
              "USERS_TO_CHECK"
            ]
          }
        },
        {
          "path": "backend\\scripts\\check_supabase_users.py",
          "name": "check_supabase_users.py",
          "extension": ".py",
          "size": 2064,
          "category": "source_python",
          "purpose": "Funções: check_supabase",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "check_supabase",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "sys",
              "pathlib",
              "app.config.settings",
              "supabase"
            ],
            "constants": [
              "USERS_TO_CHECK"
            ]
          }
        },
        {
          "path": "backend\\scripts\\clean_corrupted_cache.py",
          "name": "clean_corrupted_cache.py",
          "extension": ".py",
          "size": 1666,
          "category": "source_python",
          "purpose": "Script para limpar cache semantic corrompido com erros \"Maximum conversation turns exceeded\"",
          "details": {
            "type": "python",
            "docstring": "Script para limpar cache semantic corrompido com erros \"Maximum conversation turns exceeded\"",
            "classes": [],
            "functions": [
              {
                "name": "clean_corrupted_cache",
                "docstring": "Remove arquivos de cache que contem erros de max turns",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "json",
              "os",
              "pathlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\create_dummy_parquet.py",
          "name": "create_dummy_parquet.py",
          "extension": ".py",
          "size": 3607,
          "category": "source_python",
          "purpose": "Funções: create_dummy_data",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "create_dummy_data",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "polars",
              "numpy",
              "pathlib",
              "datetime",
              "random"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\create_parquet_users.py",
          "name": "create_parquet_users.py",
          "extension": ".py",
          "size": 1858,
          "category": "source_python",
          "purpose": "Create users.parquet file for authentication when SQL Server is not available",
          "details": {
            "type": "python",
            "docstring": "Create users.parquet file for authentication when SQL Server is not available\n\nPassword: Admin@2024\nPre-generated hash using bcrypt",
            "classes": [],
            "functions": [],
            "imports": [
              "polars",
              "uuid",
              "pathlib",
              "datetime",
              "json"
            ],
            "constants": [
              "ADMIN_PASSWORD_HASH",
              "USER_PASSWORD_HASH"
            ]
          }
        },
        {
          "path": "backend\\scripts\\create_users.py",
          "name": "create_users.py",
          "extension": ".py",
          "size": 1697,
          "category": "source_python",
          "purpose": "Create users.parquet file for authentication",
          "details": {
            "type": "python",
            "docstring": "Create users.parquet file for authentication",
            "classes": [],
            "functions": [],
            "imports": [
              "polars",
              "uuid",
              "pathlib",
              "datetime",
              "json",
              "passlib.context"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\data\\parquet\\admmat.parquet",
          "name": "admmat.parquet",
          "extension": ".parquet",
          "size": 12933,
          "category": "data",
          "purpose": "Dataset Parquet (análise rápida com Polars)",
          "details": {}
        },
        {
          "path": "backend\\scripts\\diagnostico_auth.py",
          "name": "diagnostico_auth.py",
          "extension": ".py",
          "size": 11762,
          "category": "source_python",
          "purpose": "Script de Diagnóstico - Autenticação Backend",
          "details": {
            "type": "python",
            "docstring": "Script de Diagnóstico - Autenticação Backend\nVerifica todas as configurações necessárias para o login funcionar",
            "classes": [],
            "functions": [
              {
                "name": "print_header",
                "docstring": "Print formatted header",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "print_check",
                "docstring": "Print check result",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "asyncio",
              "sys",
              "pathlib",
              "app.config.settings",
              "app.config.security",
              "app.config.database",
              "sqlalchemy",
              "app.config.database",
              "app.infrastructure.database.models",
              "sqlalchemy",
              "app.config.security",
              "app.config.database",
              "app.infrastructure.database.models",
              "app.config.security",
              "sqlalchemy",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\init_db.py",
          "name": "init_db.py",
          "extension": ".py",
          "size": 1745,
          "category": "source_python",
          "purpose": "Script to initialize SQL Server database.",
          "details": {
            "type": "python",
            "docstring": "Script to initialize SQL Server database.\nCreates the database if it doesn't exist.",
            "classes": [],
            "functions": [
              {
                "name": "create_database",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "sys",
              "pyodbc",
              "dotenv",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\inspect_parquet.py",
          "name": "inspect_parquet.py",
          "extension": ".py",
          "size": 832,
          "category": "source_python",
          "purpose": "Inspect Parquet Schema",
          "details": {
            "type": "python",
            "docstring": "Inspect Parquet Schema",
            "classes": [],
            "functions": [],
            "imports": [
              "pandas",
              "pyarrow.parquet"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\list_segments.py",
          "name": "list_segments.py",
          "extension": ".py",
          "size": 1078,
          "category": "source_python",
          "purpose": "Funções: list_segments",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "list_segments",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "polars",
              "sys",
              "time",
              "pathlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\load_data.py",
          "name": "load_data.py",
          "extension": ".py",
          "size": 3562,
          "category": "source_python",
          "purpose": "Load data from Parquet to SQL Server",
          "details": {
            "type": "python",
            "docstring": "Load data from Parquet to SQL Server",
            "classes": [],
            "functions": [],
            "imports": [
              "pandas",
              "pyodbc",
              "sys",
              "time",
              "numpy",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\seed_admin.py",
          "name": "seed_admin.py",
          "extension": ".py",
          "size": 1950,
          "category": "source_python",
          "purpose": "Seed Admin User Script",
          "details": {
            "type": "python",
            "docstring": "Seed Admin User Script\nCreates initial admin user for the system",
            "classes": [],
            "functions": [],
            "imports": [
              "asyncio",
              "sys",
              "pathlib",
              "app.config.database",
              "app.config.security",
              "app.infrastructure.database.models",
              "sqlalchemy"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\seed_test_user.py",
          "name": "seed_test_user.py",
          "extension": ".py",
          "size": 2149,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Seed Test User Script\nCreates a test user for specific segment access",
            "classes": [],
            "functions": [],
            "imports": [
              "asyncio",
              "sys",
              "pathlib",
              "json",
              "app.config.database",
              "app.config.security",
              "app.infrastructure.database.models",
              "sqlalchemy"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\sync_admmat.py",
          "name": "sync_admmat.py",
          "extension": ".py",
          "size": 4335,
          "category": "source_python",
          "purpose": "Script de Migração: SQL Server -> Parquet (admmat.parquet)",
          "details": {
            "type": "python",
            "docstring": "Script de Migração: SQL Server -> Parquet (admmat.parquet)\n----------------------------------------------------------\nEste script sincroniza os dados da tabela 'admmatao' do SQL Server para o arquivo\n'admmat.parquet', fornecendo uma interface visual de progresso.\n\nFuncionalidades:\n- Conexão segura via ODBC\n- Leitura em chunks para eficiência de memória\n- Barra de progresso visual (tqdm)\n- Estatísticas finais de migração",
            "classes": [],
            "functions": [
              {
                "name": "get_row_count",
                "docstring": "Obtém o número total de linhas na tabela para a barra de progresso.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "sync_data",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pandas",
              "pyodbc",
              "sys",
              "time",
              "os",
              "pathlib",
              "tqdm",
              "sqlalchemy",
              "warnings",
              "codecs"
            ],
            "constants": [
              "PARQUET_FILE",
              "SERVER",
              "DATABASE",
              "USERNAME",
              "PASSWORD",
              "DRIVER",
              "TABLE_NAME",
              "CONNECTION_STRING"
            ]
          }
        },
        {
          "path": "backend\\scripts\\sync_sql_to_parquet.py",
          "name": "sync_sql_to_parquet.py",
          "extension": ".py",
          "size": 2029,
          "category": "source_python",
          "purpose": "Sync SQL Server to Parquet (Ajustado)",
          "details": {
            "type": "python",
            "docstring": "Sync SQL Server to Parquet (Ajustado)\nExtrai dados do SQL Server (tabela admmatao) e gera o arquivo admmat.parquet.\nGarante que o Agente BI tenha dados atualizados e performantes.",
            "classes": [],
            "functions": [
              {
                "name": "sync_data",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pandas",
              "pyodbc",
              "sys",
              "time",
              "os",
              "pathlib"
            ],
            "constants": [
              "SERVER",
              "DATABASE",
              "USERNAME",
              "PASSWORD",
              "DRIVER",
              "CONNECTION_STRING",
              "TARGET_PATHS"
            ]
          }
        },
        {
          "path": "backend\\scripts\\sync_sql_to_parquet_batch.py",
          "name": "sync_sql_to_parquet_batch.py",
          "extension": ".py",
          "size": 3056,
          "category": "source_python",
          "purpose": "Sync SQL Server to Parquet - OTIMIZADO COM BATCHES",
          "details": {
            "type": "python",
            "docstring": "Sync SQL Server to Parquet - OTIMIZADO COM BATCHES\nExtrai 1.1M+ linhas da tabela admmatao em batches para evitar timeout",
            "classes": [],
            "functions": [
              {
                "name": "sync_data",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pyodbc",
              "polars",
              "pathlib",
              "time",
              "traceback"
            ],
            "constants": [
              "SERVER",
              "DATABASE",
              "USERNAME",
              "PASSWORD",
              "DRIVER",
              "BATCH_SIZE",
              "CONNECTION_STRING",
              "TARGET_PATHS"
            ]
          }
        },
        {
          "path": "backend\\scripts\\sync_supabase_to_sql.py",
          "name": "sync_supabase_to_sql.py",
          "extension": ".py",
          "size": 2867,
          "category": "source_python",
          "purpose": "Funções: sync_users",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "sync_users",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "sys",
              "pyodbc",
              "pathlib",
              "app.config.settings",
              "supabase"
            ],
            "constants": [
              "CONN_STR"
            ]
          }
        },
        {
          "path": "backend\\scripts\\test_continuous_learning.py",
          "name": "test_continuous_learning.py",
          "extension": ".py",
          "size": 7898,
          "category": "test",
          "purpose": "Testes unitários (1 testes)",
          "details": {
            "type": "python",
            "docstring": "Script de Teste - Sistema de Continuous Learning\n=================================================\n\nTesta todos os componentes do sistema de aprendizado contínuo:\n- ContinuousLearner\n- HybridRetriever\n- ConfidenceScorer\n\nExecute: python scripts/test_continuous_learning.py",
            "classes": [],
            "functions": [
              {
                "name": "print_section",
                "docstring": "Helper para imprimir seções.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "asyncio",
              "sys",
              "pathlib",
              "app.core.learning.continuous_learner",
              "app.core.rag.hybrid_retriever",
              "app.core.utils.confidence_scorer",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\test_db_connection_headless.py",
          "name": "test_db_connection_headless.py",
          "extension": ".py",
          "size": 3660,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Script de Teste de Conexão SQL Server (Headless/Sem Navegador)\n--------------------------------------------------------------\nEste script testa a conexão com o banco de dados SQL Server utilizando\nas configurações definidas em app.config.settings, carregadas do arquivo .env.\n\nNão abre browser. Executa apenas no terminal.",
            "classes": [],
            "functions": [],
            "imports": [
              "sys",
              "os",
              "asyncio",
              "sqlalchemy.ext.asyncio",
              "sqlalchemy",
              "pathlib",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\test_graph_fix.py",
          "name": "test_graph_fix.py",
          "extension": ".py",
          "size": 3178,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "asyncio",
              "os",
              "sys",
              "json",
              "dotenv",
              "app.config.settings",
              "app.core.llm_gemini_adapter",
              "app.core.utils.field_mapper",
              "app.core.rag.query_retriever",
              "app.core.learning.pattern_matcher",
              "app.core.utils.response_cache",
              "app.core.utils.query_history",
              "app.core.agents.code_gen_agent",
              "app.core.agents.caculinha_bi_agent",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\test_integration.py",
          "name": "test_integration.py",
          "extension": ".py",
          "size": 4658,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Teste de Integração do Sistema\n------------------------------\nEste script simula o comportamento da aplicação carregando o \nHybridDataAdapter e executando consultas reais. Isso garante que\na aplicação (backend) conseguirá acessar os dados migrados corretamente.",
            "classes": [],
            "functions": [],
            "imports": [
              "sys",
              "os",
              "asyncio",
              "pathlib",
              "app.infrastructure.data.hybrid_adapter",
              "codecs",
              "traceback"
            ],
            "constants": [
              "ROOT_DIR"
            ]
          }
        },
        {
          "path": "backend\\scripts\\test_login.py",
          "name": "test_login.py",
          "extension": ".py",
          "size": 947,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Testar login via API",
            "classes": [],
            "functions": [],
            "imports": [
              "requests",
              "json"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\test_product_analysis_fix.py",
          "name": "test_product_analysis_fix.py",
          "extension": ".py",
          "size": 4373,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Script de teste para validar a correção de análise de produto individual.\n\nTesta:\n1. consultar_dados_flexivel com filtro de PRODUTO\n2. gerar_grafico_universal_v2 com filtro_produto\n3. buscar_produtos_inteligente (RAG)",
            "classes": [],
            "functions": [],
            "imports": [
              "sys",
              "os",
              "app.core.tools.flexible_query_tool",
              "app.core.tools.universal_chart_generator",
              "app.core.tools.semantic_search_tool",
              "traceback",
              "traceback",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\test_windows_auth.py",
          "name": "test_windows_auth.py",
          "extension": ".py",
          "size": 1770,
          "category": "test",
          "purpose": "Testes unitários (1 testes)",
          "details": {
            "type": "python",
            "docstring": "Test SQL Server Connection - Windows Auth\nTests connection using Trusted_Connection=yes",
            "classes": [],
            "functions": [
              {
                "name": "test_windows_auth",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pyodbc"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\update_env.py",
          "name": "update_env.py",
          "extension": ".py",
          "size": 3531,
          "category": "source_python",
          "purpose": "Atualizar DATABASE_URL no arquivo .env do backend",
          "details": {
            "type": "python",
            "docstring": "Atualizar DATABASE_URL no arquivo .env do backend",
            "classes": [],
            "functions": [],
            "imports": [
              "os",
              "pathlib",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\validate_modernization.py",
          "name": "validate_modernization.py",
          "extension": ".py",
          "size": 4447,
          "category": "source_python",
          "purpose": "Script de validação rápida das melhorias de modernização.",
          "details": {
            "type": "python",
            "docstring": "Script de validação rápida das melhorias de modernização.\nExecuta testes manuais sem depender do pytest.",
            "classes": [
              {
                "name": "DummyTool",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_run",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseTool"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "sys",
              "os",
              "app.core.tools.chart_tools",
              "app.core.tools.semantic_search_tool",
              "app.core.utils.tool_scoping",
              "langchain_core.tools",
              "app.core.agents",
              "traceback",
              "traceback",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\scripts\\verify_parquet_data.py",
          "name": "verify_parquet_data.py",
          "extension": ".py",
          "size": 4083,
          "category": "source_python",
          "purpose": "Script de Verificação de Dados (Data Integrity Check)",
          "details": {
            "type": "python",
            "docstring": "Script de Verificação de Dados (Data Integrity Check)\n---------------------------------------------------\nEste script carrega o arquivo admmat.parquet gerado e executa\numa série de consultas analíticas para validar os dados.",
            "classes": [],
            "functions": [
              {
                "name": "verify_data",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pandas",
              "pathlib",
              "sys",
              "codecs"
            ],
            "constants": [
              "PARQUET_FILE"
            ]
          }
        },
        {
          "path": "backend\\test_chart_tools.py",
          "name": "test_chart_tools.py",
          "extension": ".py",
          "size": 1720,
          "category": "test",
          "purpose": "Ferramentas: Testes unitários (1 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "test_chart_tool",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "sys",
              "json",
              "dotenv",
              "app.core.tools.chart_tools",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\test_login_debug.log",
          "name": "test_login_debug.log",
          "extension": ".log",
          "size": 570,
          "category": "temp",
          "purpose": "Arquivo temporário (pode ser excluído)",
          "details": {}
        },
        {
          "path": "backend\\test_supabase_login.py",
          "name": "test_supabase_login.py",
          "extension": ".py",
          "size": 4037,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Script para testar login do admin via Supabase",
            "classes": [],
            "functions": [],
            "imports": [
              "asyncio",
              "app.core.auth_service",
              "app.config.security",
              "jwt",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\conftest.py",
          "name": "conftest.py",
          "extension": ".py",
          "size": 923,
          "category": "test",
          "purpose": "Testes unitários (2 testes)",
          "details": {
            "type": "python",
            "docstring": "Test configuration",
            "classes": [],
            "functions": [
              {
                "name": "admin_token",
                "docstring": "Admin JWT token for testing",
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "user_token",
                "docstring": "User JWT token for testing",
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              }
            ],
            "imports": [
              "pytest",
              "sys",
              "os",
              "httpx",
              "main",
              "app.config.security",
              "app.config.security"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\integration\\test_auth.py",
          "name": "test_auth.py",
          "extension": ".py",
          "size": 1642,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Test Auth Endpoints\nUnit tests for authentication",
            "classes": [],
            "functions": [],
            "imports": [
              "pytest",
              "httpx",
              "app.config.security",
              "main"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\integration\\test_chat_endpoint.py",
          "name": "test_chat_endpoint.py",
          "extension": ".py",
          "size": 8914,
          "category": "test",
          "purpose": "Endpoints API: Testes unitários (1 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "mock_dependencies",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F57280>"
                ]
              }
            ],
            "imports": [
              "pytest",
              "fastapi.testclient",
              "unittest.mock",
              "json",
              "asyncio",
              "main",
              "app.config.settings",
              "app.core.utils.response_cache",
              "app.core.utils.query_history",
              "app.core.utils.field_mapper",
              "app.core.rag.query_retriever",
              "app.core.learning.pattern_matcher",
              "app.core.agents.code_gen_agent",
              "app.core.agents.caculinha_bi_agent",
              "app.core.llm_gemini_adapter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\integration\\test_transfers_endpoint.py",
          "name": "test_transfers_endpoint.py",
          "extension": ".py",
          "size": 7577,
          "category": "test",
          "purpose": "Endpoints API: Testes unitários (9 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "mock_auth_and_tools",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87A6FFD0>"
                ]
              },
              {
                "name": "clean_transfer_requests_dir",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "test_validate_transfer_success",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_validate_transfer_invalid_payload",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfer_suggestions_success",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfer_suggestions_with_params",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_create_transfer_request_success",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfers_report_success",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfers_report_with_date_filter",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pytest",
              "fastapi.testclient",
              "unittest.mock",
              "json",
              "os",
              "pathlib",
              "datetime",
              "main",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\manual\\test_filters.py",
          "name": "test_filters.py",
          "extension": ".py",
          "size": 5440,
          "category": "test",
          "purpose": "Testes unitários (1 testes)",
          "details": {
            "type": "python",
            "docstring": "Script de teste para verificar funcionamento dos filtros de Analytics",
            "classes": [],
            "functions": [
              {
                "name": "test_filters",
                "docstring": "Testa o novo sistema de filtros",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "requests",
              "json",
              "traceback"
            ],
            "constants": [
              "BASE_URL",
              "USERNAME",
              "PASSWORD"
            ]
          }
        },
        {
          "path": "backend\\tests\\manual_benchmark.py",
          "name": "manual_benchmark.py",
          "extension": ".py",
          "size": 6182,
          "category": "source_python",
          "purpose": "Não identificado",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "sys",
              "os",
              "asyncio",
              "time",
              "json",
              "datetime",
              "app.config.settings",
              "app.core.agents.caculinha_bi_agent",
              "app.core.llm_gemini_adapter_v2",
              "app.core.utils.field_mapper",
              "app.core.rag.query_retriever",
              "app.core.learning.pattern_matcher",
              "app.core.utils.response_cache",
              "app.core.utils.query_history",
              "app.core.agents.code_gen_agent",
              "app.core.utils.session_manager",
              "logging",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\test_all_phases.py",
          "name": "test_all_phases.py",
          "extension": ".py",
          "size": 11850,
          "category": "test",
          "purpose": "Testes unitários (2 testes)",
          "details": {
            "type": "python",
            "docstring": "Testes Robustos - Todas as 5 Fases de Implementação\nExecuta testes completos de cada módulo implementado",
            "classes": [
              {
                "name": "TestRunner",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "add_result",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "test_fase1_thinking_mode",
                    "docstring": "Testa Fase 1: Gemini Thinking Mode",
                    "is_async": false
                  },
                  {
                    "name": "test_fase2_semantic_cache",
                    "docstring": "Testa Fase 2: Semantic Caching",
                    "is_async": false
                  },
                  {
                    "name": "test_fase3_response_validator",
                    "docstring": "Testa Fase 3: Response Validator",
                    "is_async": false
                  },
                  {
                    "name": "test_fase4_multi_step_agent",
                    "docstring": "Testa Fase 4: LangGraph Multi-Step",
                    "is_async": false
                  },
                  {
                    "name": "test_fase5_code_interpreter",
                    "docstring": "Testa Fase 5: Code Interpreter",
                    "is_async": false
                  },
                  {
                    "name": "run_all_tests",
                    "docstring": "Executa todos os testes",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "MockAgent",
                "docstring": null,
                "methods": [
                  {
                    "name": "run",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "print_header",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "print_result",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "sys",
              "os",
              "json",
              "pathlib",
              "app.config.settings",
              "app.core.llm_gemini_adapter",
              "google.generativeai",
              "app.core.utils.semantic_cache",
              "app.core.utils.response_validator",
              "app.core.agents.multi_step_agent",
              "app.core.tools.code_interpreter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\test_changes.py",
          "name": "test_changes.py",
          "extension": ".py",
          "size": 9176,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "TestTransferFiltersUI",
                "docstring": "Testes para validar que a página de transferências:\n- Apresenta seleção de UNE origem/destino no topo\n- Suporta 3 modos: 1→1, 1→N, N→N\n- Permite múltiplas seleções no modo apropriado",
                "methods": [
                  {
                    "name": "test_filter_mode_selection",
                    "docstring": "Verifica se os 3 modos de transferência estão disponíveis",
                    "is_async": false
                  },
                  {
                    "name": "test_origin_destination_selection_logic",
                    "docstring": "Testa a lógica de seleção origem/destino:\n- 1→1: Uma origem, Uma destino (seleção única)\n- 1→N: Uma origem, Múltiplos destinos\n- N→N: Múltiplos origens, Múltiplos destinos",
                    "is_async": false
                  },
                  {
                    "name": "test_destination_cannot_be_origin",
                    "docstring": "Verifica que UNE destino não pode ser igual a origem",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "TestChatBIResponses",
                "docstring": "Testes para validar que o ChatBI:\n- Nunca retorna respostas vazias\n- Sempre tem um fallback quando há erro\n- Processa queries corretamente",
                "methods": [
                  {
                    "name": "test_endpoint_handles_empty_agent_response",
                    "docstring": "Valida que o endpoint /chat/stream trata adequadamente\ncaso o agente retorne resposta vazia",
                    "is_async": false
                  },
                  {
                    "name": "test_response_text_never_empty_in_stream",
                    "docstring": "Valida que o texto streamado nunca é vazio",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "TestIntegration",
                "docstring": "Testes de integração simples para validar que:\n- Transferências funcionam com múltiplas UNEs\n- ChatBI responde a queries",
                "methods": [
                  {
                    "name": "test_transfer_with_multiple_destinations",
                    "docstring": "Simula uma transferência 1→N: \n1 UNE origem, múltiplas UNEs destino",
                    "is_async": false
                  },
                  {
                    "name": "test_transfer_with_multiple_origins_destinations",
                    "docstring": "Simula uma transferência N→N:\nMúltiplas UNEs origem, múltiplas UNEs destino",
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [],
            "imports": [
              "pytest",
              "unittest.mock",
              "asyncio",
              "app.core.agents.caculinha_bi_agent",
              "unittest.mock",
              "app.core.agents.caculinha_bi_agent",
              "unittest.mock"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\test_chatbi_complete.py",
          "name": "test_chatbi_complete.py",
          "extension": ".py",
          "size": 5910,
          "category": "test",
          "purpose": "Testes unitários (6 testes)",
          "details": {
            "type": "python",
            "docstring": "Script de teste completo para validar ChatBI modernizado\nTesta: Gemini 2.0, ferramenta flexível, integração com agente",
            "classes": [],
            "functions": [
              {
                "name": "test_1_imports",
                "docstring": "Teste 1: Verificar imports",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_2_model_config",
                "docstring": "Teste 2: Verificar configuração do modelo",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_3_flexible_tool",
                "docstring": "Teste 3: Testar ferramenta flexível",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_4_agent_tools",
                "docstring": "Teste 4: Verificar ferramentas do agente",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_5_parquet_config",
                "docstring": "Teste 5: Verificar configuração do Parquet",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "main",
                "docstring": "Executar todos os testes",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "sys",
              "os",
              "app.core.tools.flexible_query_tool",
              "app.core.agents.caculinha_bi_agent",
              "app.config.settings",
              "app.config.settings",
              "app.core.tools.flexible_query_tool",
              "app.core.agents.caculinha_bi_agent",
              "app.core.llm_gemini_adapter",
              "app.core.utils.field_mapper",
              "app.config.settings",
              "os",
              "traceback",
              "traceback"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\test_system.py",
          "name": "test_system.py",
          "extension": ".py",
          "size": 10428,
          "category": "test",
          "purpose": "Testes unitários (11 testes)",
          "details": {
            "type": "python",
            "docstring": "Script de teste robusto para verificar o sistema Agent BI\nTesta backend, frontend e integração",
            "classes": [],
            "functions": [
              {
                "name": "print_header",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "print_success",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "print_error",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "print_warning",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_backend_health",
                "docstring": "Testa se o backend está rodando e saudável",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_frontend_accessibility",
                "docstring": "Testa se o frontend está acessível",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_api_login",
                "docstring": "Testa o endpoint de login da API",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_authenticated_endpoint",
                "docstring": "Testa um endpoint autenticado",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_database_connection",
                "docstring": "Testa se a conexão com o banco de dados está funcionando",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_chat_endpoint",
                "docstring": "Testa o endpoint de chat",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "run_all_tests",
                "docstring": "Executa todos os testes",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "requests",
              "time",
              "sys",
              "io",
              "typing"
            ],
            "constants": [
              "GREEN",
              "RED",
              "YELLOW",
              "BLUE",
              "RESET"
            ]
          }
        },
        {
          "path": "backend\\tests\\test_tool_modernization.py",
          "name": "test_tool_modernization.py",
          "extension": ".py",
          "size": 8720,
          "category": "test",
          "purpose": "Ferramentas: Testes unitários (2 testes)",
          "details": {
            "type": "python",
            "docstring": "Testes para as melhorias de modernização das tools (2025-12-27).\n\nTesta:\n1. Consolidação de chart tools\n2. RAG semantic search\n3. Tool scoping por role",
            "classes": [
              {
                "name": "TestChartToolsConsolidation",
                "docstring": "Testa consolidação das chart tools",
                "methods": [
                  {
                    "name": "test_listar_graficos_disponiveis_returns_only_active_tools",
                    "docstring": "listar_graficos_disponiveis deve retornar apenas 4 ferramentas ativas",
                    "is_async": false
                  },
                  {
                    "name": "test_deprecated_tools_have_warnings",
                    "docstring": "Verifica que tools deprecated têm comentários de warning",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "TestSemanticSearch",
                "docstring": "Testa funcionalidade de RAG semantic search",
                "methods": [
                  {
                    "name": "test_semantic_search_tool_exists",
                    "docstring": "Verifica que a tool de semantic search foi criada",
                    "is_async": false
                  },
                  {
                    "name": "test_semantic_search_tool_has_correct_schema",
                    "docstring": "Verifica schema da tool de semantic search",
                    "is_async": false
                  },
                  {
                    "name": "test_semantic_search_integration",
                    "docstring": "Teste de integração real (requer API key)",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "TestToolScoping",
                "docstring": "Testa tool scoping por role",
                "methods": [
                  {
                    "name": "create_dummy_tools",
                    "docstring": "Cria tools dummy para testes",
                    "is_async": false
                  },
                  {
                    "name": "test_admin_has_all_tools",
                    "docstring": "Admin deve ter acesso a todas as tools",
                    "is_async": false
                  },
                  {
                    "name": "test_analyst_has_limited_tools",
                    "docstring": "Analyst não deve ter acesso a calcular_preco_final_une",
                    "is_async": false
                  },
                  {
                    "name": "test_viewer_has_minimal_tools",
                    "docstring": "Viewer deve ter acesso mínimo",
                    "is_async": false
                  },
                  {
                    "name": "test_unknown_role_defaults_to_viewer",
                    "docstring": "Role desconhecido deve usar 'viewer' como fallback",
                    "is_async": false
                  },
                  {
                    "name": "test_is_tool_allowed_works",
                    "docstring": "Testa método is_tool_allowed",
                    "is_async": false
                  },
                  {
                    "name": "test_get_role_description",
                    "docstring": "Testa descrição dos roles",
                    "is_async": false
                  },
                  {
                    "name": "test_list_available_tools",
                    "docstring": "Testa listagem de tools disponíveis",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "TestAgentIntegration",
                "docstring": "Testa integração das melhorias no agent",
                "methods": [
                  {
                    "name": "test_agent_applies_tool_scoping",
                    "docstring": "Verifica que o agent aplica tool scoping no __init__",
                    "is_async": false
                  },
                  {
                    "name": "test_agent_imports_new_tools",
                    "docstring": "Verifica que o agent importa as novas ferramentas",
                    "is_async": false
                  }
                ],
                "bases": []
              },
              {
                "name": "DummyTool",
                "docstring": null,
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "name",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "_run",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "BaseTool"
                ]
              }
            ],
            "functions": [
              {
                "name": "pytest_addoption",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "pytest_configure",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pytest",
              "unittest.mock",
              "langchain_core.tools",
              "app.core.utils.tool_scoping",
              "app.core.tools.chart_tools",
              "inspect",
              "app.core.tools",
              "app.core.tools.semantic_search_tool",
              "app.core.tools.semantic_search_tool",
              "app.core.tools.semantic_search_tool",
              "app.core.agents.caculinha_bi_agent",
              "app.core.utils.field_mapper",
              "app.core.agents"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_agent_graph_cache.py",
          "name": "test_agent_graph_cache.py",
          "extension": ".py",
          "size": 5246,
          "category": "test",
          "purpose": "Agente BI: Testes unitários (10 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "temp_agent_graph_cache_dir",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_settings",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "test_agent_graph_cache_init",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_current_version",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_set_and_get_cache_hit",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_cache_miss_expired",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_cache_miss_version_mismatch",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_clear_specific_key",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_clear_all",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_corrupt_file_handling",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pytest",
              "os",
              "json",
              "datetime",
              "unittest.mock",
              "app.core.cache",
              "app.config.settings",
              "time"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_caculinha_bi_agent.py",
          "name": "test_caculinha_bi_agent.py",
          "extension": ".py",
          "size": 7293,
          "category": "test",
          "purpose": "Agente BI: Testes unitários (4 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "MockLLM",
                "docstring": "A mock LLM that can simulate responses.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "invoke",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "mock_llm",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_field_mapper",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_code_gen_agent",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "caculinha_bi_agent",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              }
            ],
            "imports": [
              "pytest",
              "unittest.mock",
              "app.core.agents.caculinha_bi_agent",
              "app.core.tools.une_tools",
              "app.core.utils.error_handler"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_code_gen_agent.py",
          "name": "test_code_gen_agent.py",
          "extension": ".py",
          "size": 9300,
          "category": "test",
          "purpose": "Agente BI: Testes unitários (7 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "MockLLM",
                "docstring": "A mock LLM that can simulate responses for code generation.",
                "methods": [
                  {
                    "name": "__init__",
                    "docstring": null,
                    "is_async": false
                  },
                  {
                    "name": "invoke",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "mock_llm",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_field_mapper",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_query_retriever",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_pattern_matcher",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_response_cache",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_query_history",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "code_gen_agent",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              }
            ],
            "imports": [
              "pytest",
              "unittest.mock",
              "app.core.agents.code_gen_agent",
              "app.core.utils.response_cache",
              "app.core.utils.query_history",
              "app.core.utils.error_handler"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_learning.py",
          "name": "test_learning.py",
          "extension": ".py",
          "size": 2026,
          "category": "test",
          "purpose": "Testes unitários (4 testes)",
          "details": {
            "type": "python",
            "docstring": "Testes unitários para o endpoint de Learning",
            "classes": [],
            "functions": [
              {
                "name": "test_get_insights_success",
                "docstring": "Testa se o endpoint de insights retorna dados válidos",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_insights_unauthorized",
                "docstring": "Testa se o endpoint rejeita requisições sem autenticação",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_insights_types",
                "docstring": "Testa se os tipos de insights são válidos",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_insights_with_admin",
                "docstring": "Testa se admin tem acesso aos insights",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pytest",
              "fastapi.testclient",
              "app.infrastructure.database.models"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_response_cache.py",
          "name": "test_response_cache.py",
          "extension": ".py",
          "size": 4038,
          "category": "test",
          "purpose": "Testes unitários (10 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [
              {
                "name": "temp_cache_dir",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "mock_settings",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "test_response_cache_init",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_generate_key",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_normalize_query",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_set_and_get_cache_hit",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_set_and_get_cache_miss_expired",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_cache_miss_file_not_found",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_cache_miss_corrupt_file",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_clean_expired_cache",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pytest",
              "os",
              "json",
              "datetime",
              "unittest.mock",
              "app.core.utils.response_cache",
              "app.config.settings",
              "time",
              "time"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_transfers.py",
          "name": "test_transfers.py",
          "extension": ".py",
          "size": 2714,
          "category": "test",
          "purpose": "Testes unitários (5 testes)",
          "details": {
            "type": "python",
            "docstring": "Testes unitários para o endpoint de Transfers",
            "classes": [],
            "functions": [
              {
                "name": "test_get_transfers_success",
                "docstring": "Testa se o endpoint de transferências retorna dados válidos",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfers_with_limit",
                "docstring": "Testa se o parâmetro limit funciona corretamente",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfers_unauthorized",
                "docstring": "Testa se o endpoint rejeita requisições sem autenticação",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfers_data_quality",
                "docstring": "Testa a qualidade dos dados retornados",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_get_transfers_with_admin",
                "docstring": "Testa se admin tem acesso às transferências",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "pytest",
              "fastapi.testclient"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\unit\\test_une_tools.py",
          "name": "test_une_tools.py",
          "extension": ".py",
          "size": 9189,
          "category": "test",
          "purpose": "Ferramentas: Testes unitários (16 testes)",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "MockHybridAdapter",
                "docstring": null,
                "methods": [
                  {
                    "name": "fetch_data",
                    "docstring": null,
                    "is_async": false
                  }
                ],
                "bases": [
                  "HybridDataAdapter"
                ]
              }
            ],
            "functions": [
              {
                "name": "mock_hybrid_adapter",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "pytest.fixture"
                ]
              },
              {
                "name": "test_normalize_dataframe",
                "docstring": null,
                "is_async": false,
                "decorators": []
              },
              {
                "name": "test_load_data_basic_filter",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F672E0>"
                ]
              },
              {
                "name": "test_load_data_with_columns",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F64640>"
                ]
              },
              {
                "name": "test_calcular_abastecimento_une_urgente",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F66B30>"
                ]
              },
              {
                "name": "test_calcular_abastecimento_une_normal",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B08340>"
                ]
              },
              {
                "name": "test_calcular_mc_produto_found",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B08580>"
                ]
              },
              {
                "name": "test_calcular_mc_produto_not_found",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B0ADD0>"
                ]
              },
              {
                "name": "test_calcular_preco_final_une_found",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B0B2E0>"
                ]
              },
              {
                "name": "test_calcular_preco_final_une_not_found",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B08880>"
                ]
              },
              {
                "name": "test_validar_transferencia_produto_sucesso",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B09F60>"
                ]
              },
              {
                "name": "test_validar_transferencia_produto_estoque_insuficiente",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B0A320>"
                ]
              },
              {
                "name": "test_validar_transferencia_produto_excede_lv_alerta",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87B0A950>"
                ]
              },
              {
                "name": "test_encontrar_rupturas_criticas_urgente",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F78850>"
                ]
              },
              {
                "name": "test_encontrar_rupturas_criticas_alta",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F7A560>"
                ]
              },
              {
                "name": "test_sugerir_transferencias_automaticas_basic",
                "docstring": null,
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87A6E470>"
                ]
              }
            ],
            "imports": [
              "pytest",
              "app.core.tools.une_tools",
              "app.infrastructure.data.hybrid_adapter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\tests\\validate_implementation.py",
          "name": "validate_implementation.py",
          "extension": ".py",
          "size": 5395,
          "category": "source_python",
          "purpose": "Validation script - checks that all files were created correctly",
          "details": {
            "type": "python",
            "docstring": "Validation script - checks that all files were created correctly",
            "classes": [],
            "functions": [
              {
                "name": "check_file",
                "docstring": "Check if file exists",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "main",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "os",
              "pathlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\TOOL_MODERNIZATION_ANALYSIS.md",
          "name": "TOOL_MODERNIZATION_ANALYSIS.md",
          "extension": ".md",
          "size": 18269,
          "category": "docs",
          "purpose": "Documentação: Análise de Modernização de Tools LLM - 2025",
          "details": {
            "type": "markdown",
            "title": "Análise de Modernização de Tools LLM - 2025",
            "sections": [
              "📊 Executive Summary",
              "🔍 Ferramentas Atuais (Inventário Completo)",
              "🚀 Melhores Práticas 2025 (Pesquisa)",
              "📋 Recomendações Priorizadas",
              "🎯 Roadmap Sugerido",
              "📊 Métricas de Sucesso",
              "🔗 Fontes de Pesquisa",
              "✅ Conclusão"
            ],
            "preview": "# Análise de Modernização de Tools LLM - 2025\n\n**Data:** 2025-12-27\n**Projeto:** Agent Solution BI - Lojas Caçula\n**Status Atual:** Gemini 3.0 Flash com Native Function Calling"
          }
        }
      ],
      "endpoints": [
        {
          "path": "backend\\app\\api\\v1\\endpoints\\__init__.py",
          "name": "__init__.py",
          "extension": ".py",
          "size": 148,
          "category": "source_python",
          "purpose": "Inicializador de pacote Python",
          "details": {
            "type": "python",
            "docstring": "Endpoints package",
            "classes": [],
            "functions": [],
            "imports": [
              "app.api.v1.endpoints"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\admin.py",
          "name": "admin.py",
          "extension": ".py",
          "size": 15512,
          "category": "source_python",
          "purpose": "Admin Endpoints",
          "details": {
            "type": "python",
            "docstring": "Admin Endpoints\nUser management, audit logs, and system settings",
            "classes": [
              {
                "name": "AdminStats",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "uuid",
              "json",
              "typing",
              "fastapi",
              "sqlalchemy",
              "sqlalchemy.ext.asyncio",
              "pydantic",
              "app.api.dependencies",
              "app.config.security",
              "app.infrastructure.database.models",
              "app.schemas.user",
              "app.core.parquet_cache",
              "app.core.sync_service",
              "app.core.supabase_user_service",
              "polars",
              "logging",
              "app.config.settings",
              "app.config.settings",
              "app.config.settings",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\analytics.py",
          "name": "analytics.py",
          "extension": ".py",
          "size": 20324,
          "category": "source_python",
          "purpose": "Analytics Endpoints",
          "details": {
            "type": "python",
            "docstring": "Analytics Endpoints\nData analysis, metrics, export and custom queries",
            "classes": [
              {
                "name": "MetricsSummary",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ErrorTrendItem",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "TopQueryItem",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ABCDetailItem",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [
              {
                "name": "_initialize_metrics_dashboard",
                "docstring": null,
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "typing",
              "datetime",
              "json",
              "logging",
              "fastapi",
              "pydantic",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.core.monitoring.metrics_dashboard",
              "app.config.settings",
              "polars",
              "app.core.data_scope_service",
              "polars",
              "app.core.data_scope_service",
              "polars",
              "app.core.data_scope_service"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\auth.py",
          "name": "auth.py",
          "extension": ".py",
          "size": 10378,
          "category": "source_python",
          "purpose": "Authentication Endpoints",
          "details": {
            "type": "python",
            "docstring": "Authentication Endpoints\nLogin, logout, refresh token, and current user",
            "classes": [],
            "functions": [],
            "imports": [
              "datetime",
              "typing",
              "logging",
              "fastapi",
              "sqlalchemy",
              "sqlalchemy.ext.asyncio",
              "app.api.dependencies",
              "app.config.database",
              "app.config.security",
              "app.infrastructure.database.models",
              "app.schemas.auth",
              "app.schemas.user",
              "app.core.auth_service",
              "app.config.settings",
              "app.core.auth_service",
              "app.config.settings",
              "polars",
              "pathlib"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\auth_alt.py",
          "name": "auth_alt.py",
          "extension": ".py",
          "size": 3565,
          "category": "source_python",
          "purpose": "ENDPOINT DE LOGIN ALTERNATIVO - USA PYODBC DIRETO (SÍNCRONO)",
          "details": {
            "type": "python",
            "docstring": "ENDPOINT DE LOGIN ALTERNATIVO - USA PYODBC DIRETO (SÍNCRONO)\nBypass do problema com aioodbc",
            "classes": [
              {
                "name": "LoginRequest",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "UserData",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "Token",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [
              {
                "name": "login_alt",
                "docstring": "Login alternativo usando pyodbc síncrono",
                "is_async": false,
                "decorators": [
                  "<ast.Call object at 0x000001FA87F7A020>"
                ]
              }
            ],
            "imports": [
              "fastapi",
              "pydantic",
              "pyodbc",
              "bcrypt",
              "app.config.security"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\chat.py",
          "name": "chat.py",
          "extension": ".py",
          "size": 26003,
          "category": "source_python",
          "purpose": "Chat Endpoints",
          "details": {
            "type": "python",
            "docstring": "Chat Endpoints\nBI Chat with AI assistant",
            "classes": [
              {
                "name": "ChatRequest",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "FeedbackRequest",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ChatResponse",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [
              {
                "name": "safe_json_dumps",
                "docstring": "Safely serialize any Python object to JSON string.\nHandles MapComposite, numpy types, pandas types, datetime, and other non-serializable objects.",
                "is_async": false,
                "decorators": []
              },
              {
                "name": "_initialize_agents_and_llm",
                "docstring": "Lazy initialization: Executado apenas no primeiro request ao invés de no startup.\nReduz tempo de inicialização do backend de ~15s para <3s.",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "typing",
              "fastapi",
              "fastapi.responses",
              "pydantic",
              "pathlib",
              "json",
              "asyncio",
              "logging",
              "sys",
              "numpy",
              "pandas",
              "decimal",
              "datetime",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.config.settings",
              "app.core.utils.response_cache",
              "app.core.utils.query_history",
              "app.core.utils.field_mapper",
              "app.core.rag.query_retriever",
              "app.core.learning.pattern_matcher",
              "app.core.agents.code_gen_agent",
              "app.core.agents.caculinha_bi_agent",
              "app.core.llm_gemini_adapter",
              "app.core.utils.error_handler",
              "app.core.utils.session_manager",
              "app.core.utils.semantic_cache",
              "app.core.utils.response_validator",
              "app.api.dependencies",
              "asyncio",
              "json"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\chat.py.backup",
          "name": "chat.py.backup",
          "extension": ".backup",
          "size": 8203,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\code_chat.py",
          "name": "code_chat.py",
          "extension": ".py",
          "size": 4455,
          "category": "source_python",
          "purpose": "Code Chat API Endpoints",
          "details": {
            "type": "python",
            "docstring": "Code Chat API Endpoints\n=======================\n\nProvides REST API for semantic code search and analysis.\n\nEndpoints:\n- GET  /api/v1/code-chat/stats - Get index statistics\n- POST /api/v1/code-chat/query - Query the codebase\n\nAuthor: Antigravity AI\nDate: 2025-12-15",
            "classes": [
              {
                "name": "ChatMessage",
                "docstring": "Chat message model.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "CodeChatRequest",
                "docstring": "Request model for code chat queries.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "CodeReference",
                "docstring": "Code reference model.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "CodeChatResponse",
                "docstring": "Response model for code chat queries.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "IndexStats",
                "docstring": "Index statistics model.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "datetime",
              "logging",
              "fastapi",
              "pydantic",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.core.code_rag_service"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\diagnostics.py",
          "name": "diagnostics.py",
          "extension": ".py",
          "size": 7040,
          "category": "source_python",
          "purpose": "Define classes: DBConfig, ConnectionTestResult",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "DBConfig",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ConnectionTestResult",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "pathlib",
              "logging",
              "fastapi",
              "pydantic",
              "app.api.dependencies",
              "app.config.settings",
              "app.infrastructure.database.models",
              "aioodbc",
              "asyncio"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\frontend_logs.py",
          "name": "frontend_logs.py",
          "extension": ".py",
          "size": 5084,
          "category": "source_python",
          "purpose": "Endpoint para receber logs do frontend",
          "details": {
            "type": "python",
            "docstring": "Endpoint para receber logs do frontend\nPermite que o frontend envie logs importantes para análise",
            "classes": [
              {
                "name": "FrontendLogEntry",
                "docstring": "Modelo para entrada de log do frontend",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "FrontendLogsRequest",
                "docstring": "Request contendo múltiplos logs do frontend",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "Config",
                "docstring": null,
                "methods": [],
                "bases": []
              }
            ],
            "functions": [
              {
                "name": "map_frontend_log_level",
                "docstring": "Mapeia níveis de log do frontend para níveis do Python logging\nFrontend: DEBUG=0, INFO=1, WARN=2, ERROR=3, CRITICAL=4\nPython: DEBUG=10, INFO=20, WARNING=30, ERROR=40, CRITICAL=50",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "logging",
              "typing",
              "datetime",
              "fastapi",
              "pydantic",
              "app.core.logging_config"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\health.py",
          "name": "health.py",
          "extension": ".py",
          "size": 7727,
          "category": "source_python",
          "purpose": "Health Check Endpoint with Timeout",
          "details": {
            "type": "python",
            "docstring": "Health Check Endpoint with Timeout\nProvides system health status with configurable timeout",
            "classes": [],
            "functions": [
              {
                "name": "check_environment",
                "docstring": "Check critical environment variables\n\nReturns:\n    Status dictionary for environment configuration",
                "is_async": false,
                "decorators": []
              }
            ],
            "imports": [
              "asyncio",
              "time",
              "datetime",
              "typing",
              "fastapi",
              "structlog",
              "app.config.settings",
              "app.config.database",
              "pathlib"
            ],
            "constants": [
              "HEALTH_CHECK_TIMEOUT",
              "DEPENDENCY_CHECK_INTERVAL"
            ]
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\insights.py",
          "name": "insights.py",
          "extension": ".py",
          "size": 11462,
          "category": "source_python",
          "purpose": "AI Insights Endpoints",
          "details": {
            "type": "python",
            "docstring": "AI Insights Endpoints\nProactive AI-powered business insights",
            "classes": [
              {
                "name": "InsightResponse",
                "docstring": "AI-generated insight",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "InsightsListResponse",
                "docstring": "List of insights",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "datetime",
              "logging",
              "json",
              "re",
              "polars",
              "fastapi",
              "pydantic",
              "sqlalchemy.ext.asyncio",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.core.llm_gemini_adapter_v2",
              "app.infrastructure.data.hybrid_adapter",
              "app.core.data_scope_service",
              "app.config.settings"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\learning.py",
          "name": "learning.py",
          "extension": ".py",
          "size": 17562,
          "category": "source_python",
          "purpose": "Define classes: FeedbackSubmission, RetrievalQuery",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "FeedbackSubmission",
                "docstring": "Modelo para submissão de feedback com continuous learning.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "RetrievalQuery",
                "docstring": "Modelo para query de retrieval.",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "pathlib",
              "json",
              "os",
              "logging",
              "polars",
              "fastapi",
              "pydantic",
              "app.api.dependencies",
              "app.core.data_scope_service",
              "app.infrastructure.database.models",
              "app.config.settings",
              "app.core.learning.continuous_learner",
              "app.core.rag.hybrid_retriever"
            ],
            "constants": [
              "FEEDBACK_PATH",
              "PATTERNS_PATH"
            ]
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\metrics.py",
          "name": "metrics.py",
          "extension": ".py",
          "size": 14302,
          "category": "source_python",
          "purpose": "Metrics Endpoints",
          "details": {
            "type": "python",
            "docstring": "Metrics Endpoints\nDashboard metrics and summary data",
            "classes": [
              {
                "name": "MetricsSummary",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "SaleItem",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "TopProduct",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "BusinessKPIs",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "fastapi",
              "pydantic",
              "sqlalchemy.ext.asyncio",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.core.data_scope_service",
              "polars",
              "logging",
              "polars",
              "logging",
              "polars",
              "logging",
              "polars",
              "logging"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\playground.py",
          "name": "playground.py",
          "extension": ".py",
          "size": 5671,
          "category": "source_python",
          "purpose": "Define classes: QueryRequest, ChatMessage, PlaygroundChatRequest",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "QueryRequest",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ChatMessage",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "PlaygroundChatRequest",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "datetime",
              "json",
              "logging",
              "polars",
              "fastapi",
              "pydantic",
              "app.api.dependencies",
              "app.core.data_scope_service",
              "app.infrastructure.database.models",
              "app.config.settings",
              "app.core.llm_gemini_adapter"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\preferences.py",
          "name": "preferences.py",
          "extension": ".py",
          "size": 8229,
          "category": "source_python",
          "purpose": "User Preferences Endpoints",
          "details": {
            "type": "python",
            "docstring": "User Preferences Endpoints\nHandles user preferences and persistent memory",
            "classes": [
              {
                "name": "PreferenceCreate",
                "docstring": "Request to create or update a preference",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "PreferenceResponse",
                "docstring": "Preference response",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "PreferenceListResponse",
                "docstring": "List of preferences",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "uuid",
              "fastapi",
              "pydantic",
              "sqlalchemy",
              "sqlalchemy.ext.asyncio",
              "app.api.dependencies",
              "app.infrastructure.database.models"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\reports.py",
          "name": "reports.py",
          "extension": ".py",
          "size": 6738,
          "category": "source_python",
          "purpose": "Reports Endpoints",
          "details": {
            "type": "python",
            "docstring": "Reports Endpoints\nCRUD operations for reports",
            "classes": [],
            "functions": [],
            "imports": [
              "uuid",
              "typing",
              "fastapi",
              "sqlalchemy",
              "sqlalchemy.ext.asyncio",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.schemas.report"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\rupturas.py",
          "name": "rupturas.py",
          "extension": ".py",
          "size": 8019,
          "category": "source_python",
          "purpose": "Não identificado",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [],
            "functions": [],
            "imports": [
              "typing",
              "polars",
              "fastapi",
              "app.api.dependencies",
              "app.core.data_scope_service",
              "app.infrastructure.database.models",
              "logging"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\shared.py",
          "name": "shared.py",
          "extension": ".py",
          "size": 5774,
          "category": "source_python",
          "purpose": "Shared Conversations Endpoints",
          "details": {
            "type": "python",
            "docstring": "Shared Conversations Endpoints\nHandles sharing and viewing shared conversations",
            "classes": [
              {
                "name": "ShareConversationRequest",
                "docstring": "Request to share a conversation",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ShareConversationResponse",
                "docstring": "Response with share URL",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "SharedConversationView",
                "docstring": "Shared conversation data for viewing",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "secrets",
              "datetime",
              "typing",
              "uuid",
              "fastapi",
              "pydantic",
              "sqlalchemy",
              "sqlalchemy.ext.asyncio",
              "app.api.dependencies",
              "app.infrastructure.database.models"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\test.py",
          "name": "test.py",
          "extension": ".py",
          "size": 450,
          "category": "test",
          "purpose": "Testes unitários (0 testes)",
          "details": {
            "type": "python",
            "docstring": "Endpoint de teste SEM banco para verificar se backend funciona",
            "classes": [],
            "functions": [],
            "imports": [
              "fastapi"
            ],
            "constants": []
          }
        },
        {
          "path": "backend\\app\\api\\v1\\endpoints\\transfers.py",
          "name": "transfers.py",
          "extension": ".py",
          "size": 16176,
          "category": "source_python",
          "purpose": "Define classes: TransferRequestPayload, TransferReportQuery, ProductSearchRequest",
          "details": {
            "type": "python",
            "docstring": null,
            "classes": [
              {
                "name": "TransferRequestPayload",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "TransferReportQuery",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "ProductSearchRequest",
                "docstring": null,
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              },
              {
                "name": "BulkTransferRequestPayload",
                "docstring": "Payload para transferências múltiplas (1→N ou N→N)",
                "methods": [],
                "bases": [
                  "BaseModel"
                ]
              }
            ],
            "functions": [],
            "imports": [
              "typing",
              "datetime",
              "json",
              "os",
              "pathlib",
              "fastapi",
              "pydantic",
              "app.api.dependencies",
              "app.infrastructure.database.models",
              "app.core.tools.une_tools",
              "app.core.utils.error_handler",
              "polars",
              "app.core.data_scope_service",
              "polars",
              "app.core.data_scope_service",
              "polars",
              "app.core.data_scope_service",
              "polars",
              "app.core.data_scope_service"
            ],
            "constants": [
              "TRANSFER_REQUESTS_DIR"
            ]
          }
        }
      ],
      "entry_point": {
        "path": "backend\\main.py",
        "name": "main.py",
        "extension": ".py",
        "size": 5703,
        "category": "config",
        "purpose": "Ponto de entrada da aplicação FastAPI",
        "details": {}
      }
    },
    "frontend": {
      "other": [
        {
          "path": "frontend-solid\\DASHBOARDS_INTERATIVOS_IMPLEMENTACAO.md",
          "name": "DASHBOARDS_INTERATIVOS_IMPLEMENTACAO.md",
          "extension": ".md",
          "size": 10277,
          "category": "docs",
          "purpose": "Documentação: 🎯 Dashboards Interativos - Implementação Completa",
          "details": {
            "type": "markdown",
            "title": "🎯 Dashboards Interativos - Implementação Completa",
            "sections": [
              "✅ Implementado com Sucesso",
              "🚀 Novos Recursos Implementados",
              "📈 Páginas Atualizadas",
              "🎨 Recursos de Interatividade",
              "📥 Funcionalidades de Download",
              "🎯 Gráficos por Página - Resumo",
              "💡 Principais Benefícios",
              "🔧 Detalhes Técnicos",
              "📝 Como Usar",
              "🚀 Próximos Passos (Sugestões)"
            ],
            "preview": "# 🎯 Dashboards Interativos - Implementação Completa\n\n## ✅ Implementado com Sucesso\n\nData: 2025-12-07"
          }
        },
        {
          "path": "frontend-solid\\eslint.config.mjs",
          "name": "eslint.config.mjs",
          "extension": ".mjs",
          "size": 318,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\index.html",
          "name": "index.html",
          "extension": ".html",
          "size": 317,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\INTEGRATION_TESTS.md",
          "name": "INTEGRATION_TESTS.md",
          "extension": ".md",
          "size": 3408,
          "category": "docs",
          "purpose": "Documentação: Plano de Testes de Integração - Aplicação SolidJS",
          "details": {
            "type": "markdown",
            "title": "Plano de Testes de Integração - Aplicação SolidJS",
            "sections": [
              "🎯 Objetivo",
              "📋 Checklist de Testes",
              "🚀 Comandos de Teste",
              "✅ Critérios de Sucesso",
              "📝 Registro de Testes",
              "🐛 Bugs Encontrados",
              "📊 Resultado Final"
            ],
            "preview": "# Plano de Testes de Integração - Aplicação SolidJS\n\n## 🎯 Objetivo\nValidar integração completa entre backend FastAPI e frontend SolidJS após migração 100%.\n"
          }
        },
        {
          "path": "frontend-solid\\package-lock.json",
          "name": "package-lock.json",
          "extension": ".json",
          "size": 73041,
          "category": "data",
          "purpose": "Não identificado",
          "details": {
            "type": "json",
            "keys": [
              "name",
              "version",
              "lockfileVersion",
              "requires",
              "packages"
            ]
          }
        },
        {
          "path": "frontend-solid\\package.json",
          "name": "package.json",
          "extension": ".json",
          "size": 1489,
          "category": "config",
          "purpose": "Configuração de dependências Node.js",
          "details": {}
        },
        {
          "path": "frontend-solid\\pnpm-lock.yaml",
          "name": "pnpm-lock.yaml",
          "extension": ".yaml",
          "size": 152449,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\postcss.config.js",
          "name": "postcss.config.js",
          "extension": ".js",
          "size": 86,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\postcss.config.mjs",
          "name": "postcss.config.mjs",
          "extension": ".mjs",
          "size": 75,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\public\\banner-cacula.png",
          "name": "banner-cacula.png",
          "extension": ".png",
          "size": 8706,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\public\\clear-cache.html",
          "name": "clear-cache.html",
          "extension": ".html",
          "size": 7700,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\public\\clear-session.html",
          "name": "clear-session.html",
          "extension": ".html",
          "size": 4178,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\public\\diagnostico.html",
          "name": "diagnostico.html",
          "extension": ".html",
          "size": 11993,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\public\\logo-cacula.svg",
          "name": "logo-cacula.svg",
          "extension": ".svg",
          "size": 14716,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\src\\__tests__\\App.test.tsx",
          "name": "App.test.tsx",
          "extension": ".tsx",
          "size": 808,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/testing-library",
              "vitest",
              "@solidjs/router",
              "../pages/Login",
              "../pages/Dashboard",
              "../pages/Chat"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\__tests__\\ErrorBoundary.test.tsx",
          "name": "ErrorBoundary.test.tsx",
          "extension": ".tsx",
          "size": 816,
          "category": "source_javascript",
          "purpose": "Componentes React/Solid: ThrowError",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/testing-library",
              "vitest",
              "../components/ErrorBoundary"
            ],
            "exports": [],
            "components": [
              "ThrowError"
            ],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\__tests__\\Layout.test.tsx",
          "name": "Layout.test.tsx",
          "extension": ".tsx",
          "size": 841,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/testing-library",
              "vitest",
              "@solidjs/router",
              "../Layout"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\examples\\ComponentsDemo.tsx",
          "name": "ComponentsDemo.tsx",
          "extension": ".tsx",
          "size": 6825,
          "category": "source_javascript",
          "purpose": "* Demo page for migrated UI components\n * Showcases Skeleton, Badge, and Button components",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "./migrated-components/components/ui"
            ],
            "exports": [
              "ComponentsDemo"
            ],
            "components": [],
            "functions": [
              "ComponentsDemo"
            ],
            "description": "* Demo page for migrated UI components\n * Showcases Skeleton, Badge, and Button components"
          }
        },
        {
          "path": "frontend-solid\\src\\examples\\MinimalLogin.tsx",
          "name": "MinimalLogin.tsx",
          "extension": ".tsx",
          "size": 853,
          "category": "source_javascript",
          "purpose": "Exporta: MinimalLogin",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [
              "MinimalLogin"
            ],
            "components": [],
            "functions": [
              "MinimalLogin"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\examples\\README.md",
          "name": "README.md",
          "extension": ".md",
          "size": 1594,
          "category": "docs",
          "purpose": "Documentação: Exemplos e Demonstrações",
          "details": {
            "type": "markdown",
            "title": "Exemplos e Demonstrações",
            "sections": [
              "📁 Arquivos",
              "🎯 Propósito",
              "⚠️ Nota",
              "🚀 Como Usar"
            ],
            "preview": "# Exemplos e Demonstrações\n\nEsta pasta contém páginas de exemplo e demonstração criadas durante a migração para SolidJS.\n\n## 📁 Arquivos"
          }
        },
        {
          "path": "frontend-solid\\src\\examples\\SkeletonDemo.tsx",
          "name": "SkeletonDemo.tsx",
          "extension": ".tsx",
          "size": 3092,
          "category": "source_javascript",
          "purpose": "* Demo page for Skeleton component\n * Tests visual rendering and different use cases",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "./migrated-components/components/ui/Skeleton"
            ],
            "exports": [
              "SkeletonDemo"
            ],
            "components": [],
            "functions": [
              "SkeletonDemo"
            ],
            "description": "* Demo page for Skeleton component\n * Tests visual rendering and different use cases"
          }
        },
        {
          "path": "frontend-solid\\src\\hooks\\useAdmin.ts",
          "name": "useAdmin.ts",
          "extension": ".ts",
          "size": 2971,
          "category": "source_javascript",
          "purpose": "* useAdmin Hook - SolidJS\n * Hook para gerenciar operações administrativas",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@tanstack/solid-query",
              "@/services/admin.service",
              "@/migrated-components/components/ui/Sonner",
              "@/types/admin"
            ],
            "exports": [
              "useAdmin"
            ],
            "components": [],
            "functions": [
              "useAdmin"
            ],
            "description": "* useAdmin Hook - SolidJS\n * Hook para gerenciar operações administrativas"
          }
        },
        {
          "path": "frontend-solid\\src\\hooks\\useAnalytics.ts",
          "name": "useAnalytics.ts",
          "extension": ".ts",
          "size": 2223,
          "category": "source_javascript",
          "purpose": "* useAnalytics Hook - SolidJS\n * Hook customizado para gerenciar estado e operações de analytics",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@tanstack/solid-query",
              "@/services/analytics.service",
              "@/migrated-components/components/ui/Sonner",
              "@/types/analytics"
            ],
            "exports": [
              "useAnalytics"
            ],
            "components": [],
            "functions": [
              "useAnalytics"
            ],
            "description": "* useAnalytics Hook - SolidJS\n * Hook customizado para gerenciar estado e operações de analytics"
          }
        },
        {
          "path": "frontend-solid\\src\\hooks\\useMediaQuery.ts",
          "name": "useMediaQuery.ts",
          "extension": ".ts",
          "size": 970,
          "category": "source_javascript",
          "purpose": "* useMediaQuery Hook - SolidJS\n * Hook para detectar breakpoints responsivos",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "useMediaQuery",
              "useIsMobile",
              "useIsTablet",
              "useIsDesktop"
            ],
            "components": [
              "listener",
              "useIsMobile",
              "useIsTablet",
              "useIsDesktop"
            ],
            "functions": [
              "useMediaQuery"
            ],
            "description": "* useMediaQuery Hook - SolidJS\n * Hook para detectar breakpoints responsivos"
          }
        },
        {
          "path": "frontend-solid\\src\\hooks\\useReports.ts",
          "name": "useReports.ts",
          "extension": ".ts",
          "size": 2892,
          "category": "source_javascript",
          "purpose": "* useReports Hook - SolidJS\n * Hook para gerenciar estado e operações de relatórios",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@tanstack/solid-query",
              "@/services/reports.service",
              "@/migrated-components/components/ui/Sonner",
              "@solidjs/router",
              "@/types/reports"
            ],
            "exports": [
              "useReports",
              "useReport"
            ],
            "components": [],
            "functions": [
              "useReports",
              "useReport"
            ],
            "description": "* useReports Hook - SolidJS\n * Hook para gerenciar estado e operações de relatórios"
          }
        },
        {
          "path": "frontend-solid\\src\\index.css",
          "name": "index.css",
          "extension": ".css",
          "size": 8076,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\src\\index.tsx",
          "name": "index.tsx",
          "extension": ".tsx",
          "size": 5959,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js/web",
              "@solidjs/router",
              "solid-js",
              "@tanstack/solid-query",
              "./Layout",
              "./pages/Login",
              "./pages/Dashboard",
              "./pages/Chat",
              "./pages/Analytics",
              "./pages/Reports",
              "./pages/Learning",
              "./pages/Playground",
              "./pages/Profile",
              "./pages/Admin",
              "./pages/Rupturas",
              "./pages/Transfers",
              "./pages/Diagnostics",
              "./pages/Examples",
              "./pages/Help",
              "./pages/SharedConversation",
              "./pages/CodeChat",
              "./pages/About",
              "./store/auth"
            ],
            "exports": [],
            "components": [],
            "functions": [
              "PrivateRoute",
              "RoleRoute",
              "App"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\index.tsx.backup",
          "name": "index.tsx.backup",
          "extension": ".backup",
          "size": 5755,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\src\\index_minimal_test.tsx",
          "name": "index_minimal_test.tsx",
          "extension": ".tsx",
          "size": 401,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\Layout.tsx",
          "name": "Layout.tsx",
          "extension": ".tsx",
          "size": 5727,
          "category": "source_javascript",
          "purpose": "Componentes React/Solid: userRole, NavItem",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/router",
              "@/store/auth",
              "solid-js",
              "./components/ErrorBoundary",
              "@/components"
            ],
            "exports": [
              "Layout"
            ],
            "components": [
              "userRole",
              "NavItem"
            ],
            "functions": [
              "Layout"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\lib\\api\\client.ts",
          "name": "client.ts",
          "extension": ".ts",
          "size": 1923,
          "category": "source_javascript",
          "purpose": "Exporta: apiClient",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "axios",
              "@/store/auth.store"
            ],
            "exports": [
              "apiClient"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\lib\\api.ts",
          "name": "api.ts",
          "extension": ".ts",
          "size": 6872,
          "category": "source_javascript",
          "purpose": "Exporta: KpiMetrics, ErrorTrendItem, TopQueryItem",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "axios"
            ],
            "exports": [
              "KpiMetrics",
              "ErrorTrendItem",
              "TopQueryItem",
              "Report",
              "LearningResponse",
              "TransferValidationPayload",
              "TransferValidationResponse",
              "TransferSuggestion",
              "TransferRequestPayload",
              "TransferReportQuery",
              "Transfer",
              "Ruptura",
              "RupturasSummary",
              "ABCDetailItem",
              "analyticsApi",
              "reportsApi",
              "UserData",
              "CreateUserPayload",
              "UpdateUserPayload",
              "adminApi",
              "learningApi",
              "transfersApi",
              "rupturasApi"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\lib\\export.ts",
          "name": "export.ts",
          "extension": ".ts",
          "size": 926,
          "category": "source_javascript",
          "purpose": "* Exports an array of objects to a CSV file.\n * @param data The array of objects to export.\n * @param filename The name of the CSV file.",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "date-fns",
              "date-fns/locale"
            ],
            "exports": [
              "exportToCsv"
            ],
            "components": [
              "exportToCsv"
            ],
            "functions": [],
            "description": "* Exports an array of objects to a CSV file.\n * @param data The array of objects to export.\n * @param filename The name of the CSV file."
          }
        },
        {
          "path": "frontend-solid\\src\\lib\\formatters.ts",
          "name": "formatters.ts",
          "extension": ".ts",
          "size": 688,
          "category": "source_javascript",
          "purpose": "Exporta: formatTimestamp, formatCurrency, formatNumber",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [
              "formatTimestamp",
              "formatCurrency",
              "formatNumber",
              "formatDate"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\lib\\supabase.ts",
          "name": "supabase.ts",
          "extension": ".ts",
          "size": 485,
          "category": "source_javascript",
          "purpose": "* Supabase Client Configuration for Frontend",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@supabase/supabase-js"
            ],
            "exports": [
              "supabase"
            ],
            "components": [],
            "functions": [],
            "description": "* Supabase Client Configuration for Frontend"
          }
        },
        {
          "path": "frontend-solid\\src\\services\\admin.service.ts",
          "name": "admin.service.ts",
          "extension": ".ts",
          "size": 2059,
          "category": "source_javascript",
          "purpose": "Exporta: adminService",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@/lib/api/client"
            ],
            "exports": [
              "adminService"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\services\\analytics.service.ts",
          "name": "analytics.service.ts",
          "extension": ".ts",
          "size": 1933,
          "category": "source_javascript",
          "purpose": "* Analytics Service\n * Serviço para comunicação com API de analytics",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@/lib/api/client"
            ],
            "exports": [
              "analyticsService",
              "response"
            ],
            "components": [],
            "functions": [],
            "description": "* Analytics Service\n * Serviço para comunicação com API de analytics"
          }
        },
        {
          "path": "frontend-solid\\src\\services\\auth.service.ts",
          "name": "auth.service.ts",
          "extension": ".ts",
          "size": 1099,
          "category": "source_javascript",
          "purpose": "Exporta: LoginCredentials, AuthResponse, authService",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@/lib/api/client",
              "@/store/auth.store"
            ],
            "exports": [
              "LoginCredentials",
              "AuthResponse",
              "authService"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\services\\logger.service.ts",
          "name": "logger.service.ts",
          "extension": ".ts",
          "size": 12647,
          "category": "source_javascript",
          "purpose": "* Sistema de Logging para Frontend\n * Gerencia logs no browser e envia logs importantes para o backend",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [
              "LogEntry",
              "LoggerConfig",
              "getLogger",
              "logger",
              "log"
            ],
            "components": [],
            "functions": [
              "getLogger"
            ],
            "description": "* Sistema de Logging para Frontend\n * Gerencia logs no browser e envia logs importantes para o backend"
          }
        },
        {
          "path": "frontend-solid\\src\\services\\reports.service.ts",
          "name": "reports.service.ts",
          "extension": ".ts",
          "size": 2119,
          "category": "source_javascript",
          "purpose": "Exporta: reportsService",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@/lib/api/client"
            ],
            "exports": [
              "reportsService"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\store\\auth.ts",
          "name": "auth.ts",
          "extension": ".ts",
          "size": 5642,
          "category": "source_javascript",
          "purpose": "Componentes React/Solid: initializeAuth, logout",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@/lib/api"
            ],
            "exports": [
              "User"
            ],
            "components": [
              "initializeAuth",
              "logout"
            ],
            "functions": [
              "createAuthStore"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\store\\dashboard.ts",
          "name": "dashboard.ts",
          "extension": ".ts",
          "size": 2489,
          "category": "source_javascript",
          "purpose": "Componentes React/Solid: startPolling, stopPolling, togglePolling",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "solid-js/store",
              "@/lib/api"
            ],
            "exports": [],
            "components": [
              "startPolling",
              "stopPolling",
              "togglePolling"
            ],
            "functions": [
              "createDashboardStore"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\tailwind.config.js",
          "name": "tailwind.config.js",
          "extension": ".js",
          "size": 1532,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\test.html",
          "name": "test.html",
          "extension": ".html",
          "size": 2725,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\TESTING_GUIDE.md",
          "name": "TESTING_GUIDE.md",
          "extension": ".md",
          "size": 7822,
          "category": "docs",
          "purpose": "Documentação: Guia de Testes - Componentes Migrados SolidJS",
          "details": {
            "type": "markdown",
            "title": "Guia de Testes - Componentes Migrados SolidJS",
            "sections": [
              "🧪 Como Testar os Componentes Migrados",
              "✅ Critérios de Sucesso",
              "🐛 Se Encontrar Problemas",
              "📝 Após Validação"
            ],
            "preview": "# Guia de Testes - Componentes Migrados SolidJS\n\n## 🧪 Como Testar os Componentes Migrados\n\n### 1. Executar o Projeto SolidJS"
          }
        },
        {
          "path": "frontend-solid\\tsconfig.json",
          "name": "tsconfig.json",
          "extension": ".json",
          "size": 422,
          "category": "config",
          "purpose": "Configuração do compilador TypeScript",
          "details": {}
        },
        {
          "path": "frontend-solid\\vite.config.ts",
          "name": "vite.config.ts",
          "extension": ".ts",
          "size": 1044,
          "category": "config",
          "purpose": "Configuração do bundler Vite",
          "details": {}
        },
        {
          "path": "frontend-solid\\vitest.setup.ts",
          "name": "vitest.setup.ts",
          "extension": ".ts",
          "size": 37,
          "category": "source_javascript",
          "purpose": "Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        }
      ],
      "components": [
        {
          "path": "frontend-solid\\src\\components\\__tests__\\Chat.test.tsx",
          "name": "Chat.test.tsx",
          "extension": ".tsx",
          "size": 9278,
          "category": "source_javascript",
          "purpose": "Componente: Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-testing-library",
              "solid-js",
              "vitest",
              "../../pages/Chat",
              "@/store/auth"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\AIInsightsPanel.tsx",
          "name": "AIInsightsPanel.tsx",
          "extension": ".tsx",
          "size": 8242,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: getCategoryIcon, getCategoryColor, getSeverityBadge",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "@/store/auth"
            ],
            "exports": [
              "AIInsightsPanel"
            ],
            "components": [
              "getCategoryIcon",
              "getCategoryColor",
              "getSeverityBadge"
            ],
            "functions": [
              "AIInsightsPanel"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\ChartDownloadButton.tsx",
          "name": "ChartDownloadButton.tsx",
          "extension": ".tsx",
          "size": 3463,
          "category": "source_javascript",
          "purpose": "Componente: Exporta: ChartDownloadButton, MultiFormatDownload",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "plotly.js-dist-min"
            ],
            "exports": [
              "ChartDownloadButton",
              "MultiFormatDownload"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\DataTable.tsx",
          "name": "DataTable.tsx",
          "extension": ".tsx",
          "size": 4698,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: DataTable, tableData, headers",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "DataTable"
            ],
            "components": [
              "DataTable",
              "tableData",
              "headers",
              "paginatedData",
              "totalPages",
              "goToPage",
              "canGoPrev",
              "canGoNext"
            ],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\DownloadButton.tsx",
          "name": "DownloadButton.tsx",
          "extension": ".tsx",
          "size": 1316,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: handleDownload",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "DownloadButton"
            ],
            "components": [
              "handleDownload"
            ],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\ErrorBoundary.tsx",
          "name": "ErrorBoundary.tsx",
          "extension": ".tsx",
          "size": 1409,
          "category": "source_javascript",
          "purpose": "Componente: Exporta: ErrorBoundary",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "ErrorBoundary"
            ],
            "components": [],
            "functions": [
              "ErrorBoundary"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\ExportMenu.tsx",
          "name": "ExportMenu.tsx",
          "extension": ".tsx",
          "size": 4276,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: downloadFile, exportAsJSON, exportAsMarkdown",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid"
            ],
            "exports": [
              "ExportMenu"
            ],
            "components": [
              "downloadFile",
              "exportAsJSON",
              "exportAsMarkdown",
              "exportAsText"
            ],
            "functions": [
              "ExportMenu"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\FeedbackButtons.tsx",
          "name": "FeedbackButtons.tsx",
          "extension": ".tsx",
          "size": 1202,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: handleFeedbackClick",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "FeedbackButtons"
            ],
            "components": [
              "handleFeedbackClick"
            ],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\index.ts",
          "name": "index.ts",
          "extension": ".ts",
          "size": 370,
          "category": "source_javascript",
          "purpose": "Componente: * Components Index\n * Central export for all reusable components",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [],
            "components": [],
            "functions": [],
            "description": "* Components Index\n * Central export for all reusable components"
          }
        },
        {
          "path": "frontend-solid\\src\\components\\Logo.tsx",
          "name": "Logo.tsx",
          "extension": ".tsx",
          "size": 686,
          "category": "source_javascript",
          "purpose": "Componente: Exporta: Logo",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "Logo"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\MessageActions.tsx",
          "name": "MessageActions.tsx",
          "extension": ".tsx",
          "size": 1540,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: copyToClipboard",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid"
            ],
            "exports": [
              "MessageActions"
            ],
            "components": [
              "copyToClipboard"
            ],
            "functions": [
              "MessageActions"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\PlotlyChart.tsx",
          "name": "PlotlyChart.tsx",
          "extension": ".tsx",
          "size": 5654,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: PlotlyChart, toggleExpand, handleEsc",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "plotly.js-dist-min",
              "lucide-solid"
            ],
            "exports": [
              "PlotlyChart"
            ],
            "components": [
              "PlotlyChart",
              "toggleExpand",
              "handleEsc",
              "renderPlot"
            ],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\ShareButton.tsx",
          "name": "ShareButton.tsx",
          "extension": ".tsx",
          "size": 6227,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: openModal, closeModal",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "@/store/auth"
            ],
            "exports": [
              "ShareButton"
            ],
            "components": [
              "openModal",
              "closeModal"
            ],
            "functions": [
              "ShareButton"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\Typewriter.tsx",
          "name": "Typewriter.tsx",
          "extension": ".tsx",
          "size": 3485,
          "category": "source_javascript",
          "purpose": "Componente: * Componente Typewriter - Efeito de digitação ChatGPT-like\n *\n * Renderiza texto com efeito de digitação suave, caractere por caractere.\n * Perfeito para respostas de chat/IA que chegam via streaming.",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "Typewriter",
              "createTypewriter"
            ],
            "components": [],
            "functions": [
              "Typewriter",
              "createTypewriter"
            ],
            "description": "* Componente Typewriter - Efeito de digitação ChatGPT-like\n *\n * Renderiza texto com efeito de digitação suave, caractere por caractere.\n * Perfeito para respostas de chat/IA que chegam via streaming.\n *\n * @example\n * ```tsx\n * <Typewriter\n *   text={message.text}\n *   speed={15}\n *   onComplete={() => console.log('Digitação concluída!')}\n * />\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\components\\TypingIndicator.css",
          "name": "TypingIndicator.css",
          "extension": ".css",
          "size": 681,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\src\\components\\TypingIndicator.tsx",
          "name": "TypingIndicator.tsx",
          "extension": ".tsx",
          "size": 294,
          "category": "source_javascript",
          "purpose": "Componente: Exporta: TypingIndicator",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [
              "TypingIndicator"
            ],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\components\\UserPreferences.tsx",
          "name": "UserPreferences.tsx",
          "extension": ".tsx",
          "size": 4378,
          "category": "source_javascript",
          "purpose": "Componente: Componentes React/Solid: updatePreference",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@/store/auth"
            ],
            "exports": [
              "UserPreferences"
            ],
            "components": [
              "updatePreference"
            ],
            "functions": [
              "UserPreferences"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Alert.tsx",
          "name": "Alert.tsx",
          "extension": ".tsx",
          "size": 2004,
          "category": "source_javascript",
          "purpose": "Componente: * Alert component - notification container\n * Migrated from React to SolidJS",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "class-variance-authority",
              "../../utils/cn"
            ],
            "exports": [
              "Alert",
              "AlertTitle",
              "AlertDescription"
            ],
            "components": [],
            "functions": [],
            "description": "* Alert component - notification container\n * Migrated from React to SolidJS"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Avatar.tsx",
          "name": "Avatar.tsx",
          "extension": ".tsx",
          "size": 1317,
          "category": "source_javascript",
          "purpose": "Componente: * Avatar component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Avatar",
              "AvatarImage",
              "AvatarFallback"
            ],
            "components": [],
            "functions": [
              "AvatarImage"
            ],
            "description": "* Avatar component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Badge.test.tsx",
          "name": "Badge.test.tsx",
          "extension": ".tsx",
          "size": 1986,
          "category": "source_javascript",
          "purpose": "Componente: Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/testing-library",
              "vitest",
              "./Badge"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Badge.tsx",
          "name": "Badge.tsx",
          "extension": ".tsx",
          "size": 1933,
          "category": "source_javascript",
          "purpose": "Componente: * Badge component for status indicators and labels\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Badge variant=\"default\">New</Badge>\n * <Badge variant=\"destructive\">Error</Badge>\n * ",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "class-variance-authority",
              "../../utils/cn"
            ],
            "exports": [
              "Badge"
            ],
            "components": [],
            "functions": [],
            "description": "* Badge component for status indicators and labels\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Badge variant=\"default\">New</Badge>\n * <Badge variant=\"destructive\">Error</Badge>\n * <Badge variant=\"outline\">Draft</Badge>\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Button.test.tsx",
          "name": "Button.test.tsx",
          "extension": ".tsx",
          "size": 2734,
          "category": "source_javascript",
          "purpose": "Componente: Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/testing-library",
              "vitest",
              "./Button"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Button.tsx",
          "name": "Button.tsx",
          "extension": ".tsx",
          "size": 2494,
          "category": "source_javascript",
          "purpose": "Componente: * Button component with multiple variants and sizes\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Button variant=\"default\">Click me</Button>\n * <Button variant=\"destructive\" size=\"sm",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "class-variance-authority",
              "../../utils/cn"
            ],
            "exports": [
              "Button"
            ],
            "components": [],
            "functions": [],
            "description": "* Button component with multiple variants and sizes\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Button variant=\"default\">Click me</Button>\n * <Button variant=\"destructive\" size=\"sm\">Delete</Button>\n * <Button variant=\"outline\" size=\"lg\">Cancel</Button>\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Card.tsx",
          "name": "Card.tsx",
          "extension": ".tsx",
          "size": 2617,
          "category": "source_javascript",
          "purpose": "Componente: * Card component - main container",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Card",
              "CardHeader",
              "CardTitle",
              "CardDescription",
              "CardAction",
              "CardContent",
              "CardFooter"
            ],
            "components": [],
            "functions": [],
            "description": "* Card component - main container"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Dialog.tsx",
          "name": "Dialog.tsx",
          "extension": ".tsx",
          "size": 2367,
          "category": "source_javascript",
          "purpose": "Componente: * Dialog component - modal dialog\n * Migrated from React to SolidJS (Radix UI removed, native implementation)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "solid-js/web",
              "../../utils/cn"
            ],
            "exports": [
              "Dialog",
              "DialogContent",
              "DialogHeader",
              "DialogTitle",
              "DialogDescription"
            ],
            "components": [
              "open",
              "setOpen"
            ],
            "functions": [],
            "description": "* Dialog component - modal dialog\n * Migrated from React to SolidJS (Radix UI removed, native implementation)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\DropdownMenu.tsx",
          "name": "DropdownMenu.tsx",
          "extension": ".tsx",
          "size": 1892,
          "category": "source_javascript",
          "purpose": "Componente: * DropdownMenu component - dropdown menu\n * Migrated from React to SolidJS (simplified native implementation)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "solid-js/web",
              "../../utils/cn"
            ],
            "exports": [
              "DropdownMenu",
              "DropdownMenuTrigger",
              "DropdownMenuContent",
              "DropdownMenuItem"
            ],
            "components": [
              "open",
              "setOpen"
            ],
            "functions": [],
            "description": "* DropdownMenu component - dropdown menu\n * Migrated from React to SolidJS (simplified native implementation)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\index.ts",
          "name": "index.ts",
          "extension": ".ts",
          "size": 1374,
          "category": "source_javascript",
          "purpose": "Componente: * UI Components - Migrated from React to SolidJS\n * \n * This barrel file exports all UI components for easy importing\n * \n * Total: 18 components migrated (100%)",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [],
            "components": [],
            "functions": [],
            "description": "* UI Components - Migrated from React to SolidJS\n * \n * This barrel file exports all UI components for easy importing\n * \n * Total: 18 components migrated (100%)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Input.tsx",
          "name": "Input.tsx",
          "extension": ".tsx",
          "size": 1251,
          "category": "source_javascript",
          "purpose": "Componente: * Input component for form fields\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Input type=\"text\" placeholder=\"Enter text...\" />\n * <Input type=\"email\" />\n * ```",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Input"
            ],
            "components": [],
            "functions": [
              "Input"
            ],
            "description": "* Input component for form fields\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Input type=\"text\" placeholder=\"Enter text...\" />\n * <Input type=\"email\" />\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Label.tsx",
          "name": "Label.tsx",
          "extension": ".tsx",
          "size": 852,
          "category": "source_javascript",
          "purpose": "Componente: * Label component for form fields\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Label for=\"email\">Email</Label>\n * ```",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Label"
            ],
            "components": [],
            "functions": [],
            "description": "* Label component for form fields\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Label for=\"email\">Email</Label>\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\LazyImage.tsx",
          "name": "LazyImage.tsx",
          "extension": ".tsx",
          "size": 1253,
          "category": "source_javascript",
          "purpose": "Componente: * LazyImage component - optimized image loading\n * Migrated from React to SolidJS (Next.js Image removed, native img)\n * \n * @example\n * ```tsx\n * <LazyImage src=\"/image.jpg\" alt=\"Description\" />\n * `",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "LazyImage"
            ],
            "components": [
              "fallbackSrc",
              "imageSrc"
            ],
            "functions": [
              "LazyImage"
            ],
            "description": "* LazyImage component - optimized image loading\n * Migrated from React to SolidJS (Next.js Image removed, native img)\n * \n * @example\n * ```tsx\n * <LazyImage src=\"/image.jpg\" alt=\"Description\" />\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Select.tsx",
          "name": "Select.tsx",
          "extension": ".tsx",
          "size": 960,
          "category": "source_javascript",
          "purpose": "Componente: * Select component - native select dropdown\n * Migrated from React to SolidJS (simplified, native select)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Select",
              "SelectOption"
            ],
            "components": [],
            "functions": [
              "Select",
              "SelectOption"
            ],
            "description": "* Select component - native select dropdown\n * Migrated from React to SolidJS (simplified, native select)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Separator.tsx",
          "name": "Separator.tsx",
          "extension": ".tsx",
          "size": 1051,
          "category": "source_javascript",
          "purpose": "Componente: * Separator component for visual division\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Separator />\n * <Separator orientation=\"vertical\" />",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Separator"
            ],
            "components": [
              "orientation",
              "decorative"
            ],
            "functions": [
              "Separator"
            ],
            "description": "* Separator component for visual division\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Separator />\n * <Separator orientation=\"vertical\" />\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Sheet.tsx",
          "name": "Sheet.tsx",
          "extension": ".tsx",
          "size": 2194,
          "category": "source_javascript",
          "purpose": "Componente: * Sheet component - side panel/drawer\n * Migrated from React to SolidJS (Radix UI removed, native implementation)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "solid-js/web",
              "../../utils/cn"
            ],
            "exports": [
              "Sheet",
              "SheetHeader",
              "SheetTitle"
            ],
            "components": [
              "side",
              "open",
              "setOpen",
              "sideClasses"
            ],
            "functions": [],
            "description": "* Sheet component - side panel/drawer\n * Migrated from React to SolidJS (Radix UI removed, native implementation)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Skeleton.test.tsx",
          "name": "Skeleton.test.tsx",
          "extension": ".tsx",
          "size": 1611,
          "category": "source_javascript",
          "purpose": "Componente: Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "@solidjs/testing-library",
              "vitest",
              "./Skeleton"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Skeleton.tsx",
          "name": "Skeleton.tsx",
          "extension": ".tsx",
          "size": 516,
          "category": "source_javascript",
          "purpose": "Componente: * Skeleton component for loading states\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Skeleton class=\"w-full h-20\" />\n * ```",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Skeleton"
            ],
            "components": [],
            "functions": [
              "Skeleton"
            ],
            "description": "* Skeleton component for loading states\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Skeleton class=\"w-full h-20\" />\n * ```"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\SkipLink.tsx",
          "name": "SkipLink.tsx",
          "extension": ".tsx",
          "size": 548,
          "category": "source_javascript",
          "purpose": "Componente: * SkipLink Component\n * Link de pular navegação para acessibilidade\n * Migrated from React to SolidJS (Next.js Link removed, native anchor)",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [
              "SkipLink"
            ],
            "components": [],
            "functions": [
              "SkipLink"
            ],
            "description": "* SkipLink Component\n * Link de pular navegação para acessibilidade\n * Migrated from React to SolidJS (Next.js Link removed, native anchor)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Sonner.tsx",
          "name": "Sonner.tsx",
          "extension": ".tsx",
          "size": 2004,
          "category": "source_javascript",
          "purpose": "Componente: * Toast notification system (Sonner alternative)\n * Migrated from React to SolidJS (native implementation)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "solid-js/web",
              "../../utils/cn"
            ],
            "exports": [
              "toast",
              "Toaster"
            ],
            "components": [
              "getToastClasses"
            ],
            "functions": [
              "toast",
              "Toaster"
            ],
            "description": "* Toast notification system (Sonner alternative)\n * Migrated from React to SolidJS (native implementation)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Table.tsx",
          "name": "Table.tsx",
          "extension": ".tsx",
          "size": 3418,
          "category": "source_javascript",
          "purpose": "Componente: * Table component - table container with scroll\n * Migrated from React to SolidJS",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Table",
              "TableHeader",
              "TableBody",
              "TableFooter",
              "TableRow",
              "TableHead",
              "TableCell",
              "TableCaption"
            ],
            "components": [],
            "functions": [],
            "description": "* Table component - table container with scroll\n * Migrated from React to SolidJS"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Tabs.tsx",
          "name": "Tabs.tsx",
          "extension": ".tsx",
          "size": 3929,
          "category": "source_javascript",
          "purpose": "Componente: * Tabs component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation with createSignal)",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "../../utils/cn"
            ],
            "exports": [
              "Tabs",
              "TabsList",
              "TabsTrigger",
              "TabsContent"
            ],
            "components": [
              "value",
              "setValue",
              "isActive",
              "isActive"
            ],
            "functions": [
              "TabsTrigger"
            ],
            "description": "* Tabs component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation with createSignal)"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\globals.css",
          "name": "globals.css",
          "extension": ".css",
          "size": 2055,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\README.md",
          "name": "README.md",
          "extension": ".md",
          "size": 3665,
          "category": "docs",
          "purpose": "Documentação: Componentes UI Migrados - React → SolidJS",
          "details": {
            "type": "markdown",
            "title": "Componentes UI Migrados - React → SolidJS",
            "sections": [
              "✅ Status da Migração: 100% COMPLETO",
              "📁 Estrutura",
              "🎯 Componentes Migrados (18)",
              "🚀 Como Usar",
              "🔑 Características Técnicas",
              "📊 Estatísticas",
              "🎓 Decisões Técnicas",
              "📝 Próximos Passos"
            ],
            "preview": "# Componentes UI Migrados - React → SolidJS\n\n## ✅ Status da Migração: 100% COMPLETO\n\n**18/18 componentes UI migrados com sucesso!**"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\USAGE_GUIDE.md",
          "name": "USAGE_GUIDE.md",
          "extension": ".md",
          "size": 4225,
          "category": "docs",
          "purpose": "Documentação: Guia de Uso - Componentes UI Migrados para SolidJS",
          "details": {
            "type": "markdown",
            "title": "Guia de Uso - Componentes UI Migrados para SolidJS",
            "sections": [
              "📚 Componentes Disponíveis",
              "🚀 Como Usar",
              "🎨 Componentes por Categoria",
              "⚙️ Características Técnicas",
              "📝 Notas Importantes",
              "🔗 Próximos Passos"
            ],
            "preview": "# Guia de Uso - Componentes UI Migrados para SolidJS\n\n## 📚 Componentes Disponíveis\n\nTodos os 18 componentes UI foram migrados do React para SolidJS e estão disponíveis para uso."
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\utils\\a11y.ts",
          "name": "a11y.ts",
          "extension": ".ts",
          "size": 2083,
          "category": "source_javascript",
          "purpose": "Componente: * Accessibility Utilities for SolidJS\n * Funções utilitárias para acessibilidade",
          "details": {
            "type": "javascript/typescript",
            "imports": [],
            "exports": [
              "generateAriaId",
              "announceToScreenReader",
              "isVisibleToScreenReader",
              "trapFocus"
            ],
            "components": [
              "handleTabKey"
            ],
            "functions": [
              "generateAriaId",
              "announceToScreenReader",
              "isVisibleToScreenReader",
              "trapFocus"
            ],
            "description": "* Accessibility Utilities for SolidJS\n * Funções utilitárias para acessibilidade"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\utils\\cn.ts",
          "name": "cn.ts",
          "extension": ".ts",
          "size": 276,
          "category": "source_javascript",
          "purpose": "Componente: * Combina classes CSS com suporte a Tailwind\n * Útil para mesclar classes condicionais",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "clsx",
              "tailwind-merge"
            ],
            "exports": [
              "cn"
            ],
            "components": [],
            "functions": [
              "cn"
            ],
            "description": "* Combina classes CSS com suporte a Tailwind\n * Útil para mesclar classes condicionais"
          }
        },
        {
          "path": "frontend-solid\\src\\migrated-components\\utils\\README.md",
          "name": "README.md",
          "extension": ".md",
          "size": 1161,
          "category": "docs",
          "purpose": "Documentação: Utilitários Migrados",
          "details": {
            "type": "markdown",
            "title": "Utilitários Migrados",
            "sections": [
              "Arquivos",
              "Compatibilidade"
            ],
            "preview": "# Utilitários Migrados\n\nUtilitários compartilhados migrados do frontend React para SolidJS.\n\n## Arquivos"
          }
        }
      ],
      "pages": [
        {
          "path": "frontend-solid\\src\\pages\\About.tsx",
          "name": "About.tsx",
          "extension": ".tsx",
          "size": 6366,
          "category": "source_javascript",
          "purpose": "Página: Não identificado",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js"
            ],
            "exports": [],
            "components": [],
            "functions": [],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Admin.tsx",
          "name": "Admin.tsx",
          "extension": ".tsx",
          "size": 19015,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: openCreateUserModal, openEditUserModal, closeUserModal",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "lucide-solid",
              "solid-js",
              "@/lib/api"
            ],
            "exports": [
              "Admin"
            ],
            "components": [
              "openCreateUserModal",
              "openEditUserModal",
              "closeUserModal"
            ],
            "functions": [
              "Admin"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Analytics.tsx",
          "name": "Analytics.tsx",
          "extension": ".tsx",
          "size": 32098,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: downloadABCCSV, generateCharts",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "../lib/api",
              "../components/PlotlyChart",
              "../components/ChartDownloadButton"
            ],
            "exports": [
              "Analytics"
            ],
            "components": [
              "downloadABCCSV",
              "generateCharts"
            ],
            "functions": [
              "Analytics"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\chat-markdown.css",
          "name": "chat-markdown.css",
          "extension": ".css",
          "size": 3363,
          "category": "unknown",
          "purpose": "Não identificado",
          "details": {}
        },
        {
          "path": "frontend-solid\\src\\pages\\Chat.tsx",
          "name": "Chat.tsx",
          "extension": ".tsx",
          "size": 22809,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: stopGeneration, clearConversation, regenerateLastResponse",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@/store/auth",
              "@/components",
              "@/components/PlotlyChart",
              "@/components/DataTable",
              "@/components/FeedbackButtons",
              "@/components/DownloadButton",
              "@/components/MessageActions",
              "@/components/ExportMenu",
              "@/components/ShareButton",
              "@/lib/formatters",
              "marked",
              "lucide-solid"
            ],
            "exports": [
              "Chat"
            ],
            "components": [
              "stopGeneration",
              "clearConversation",
              "regenerateLastResponse",
              "startEditMessage",
              "cancelEditMessage"
            ],
            "functions": [
              "Chat"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\CodeChat.tsx",
          "name": "CodeChat.tsx",
          "extension": ".tsx",
          "size": 15800,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: clearHistory, loadExample",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "../lib/api",
              "../components/MessageActions"
            ],
            "exports": [
              "CodeChat"
            ],
            "components": [
              "clearHistory",
              "loadExample"
            ],
            "functions": [
              "CodeChat"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Dashboard.tsx",
          "name": "Dashboard.tsx",
          "extension": ".tsx",
          "size": 19918,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: handleProductClick",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@solidjs/router",
              "lucide-solid",
              "../lib/api",
              "../components/PlotlyChart",
              "../components/ChartDownloadButton",
              "../components/AIInsightsPanel",
              "@/store/auth"
            ],
            "exports": [
              "Dashboard"
            ],
            "components": [
              "handleProductClick"
            ],
            "functions": [
              "Dashboard"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Diagnostics.tsx",
          "name": "Diagnostics.tsx",
          "extension": ".tsx",
          "size": 14849,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: getStatusColor, getStatusIcon, getStatusLabel",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid"
            ],
            "exports": [
              "Diagnostics"
            ],
            "components": [
              "getStatusColor",
              "getStatusIcon",
              "getStatusLabel"
            ],
            "functions": [
              "Diagnostics"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Examples.tsx",
          "name": "Examples.tsx",
          "extension": ".tsx",
          "size": 7487,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: perguntasFiltradas, handleTestarPergunta",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "@solidjs/router"
            ],
            "exports": [
              "Examples"
            ],
            "components": [
              "perguntasFiltradas",
              "handleTestarPergunta"
            ],
            "functions": [
              "Examples"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Help.tsx",
          "name": "Help.tsx",
          "extension": ".tsx",
          "size": 17733,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: isAdmin, filteredFAQ",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "@/store/auth"
            ],
            "exports": [
              "Help"
            ],
            "components": [
              "isAdmin",
              "filteredFAQ"
            ],
            "functions": [
              "Help"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Learning.tsx",
          "name": "Learning.tsx",
          "extension": ".tsx",
          "size": 19264,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: getSuccessRateColor",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "../lib/api",
              "../store/auth"
            ],
            "exports": [
              "Learning"
            ],
            "components": [
              "getSuccessRateColor"
            ],
            "functions": [
              "Learning"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Login.tsx",
          "name": "Login.tsx",
          "extension": ".tsx",
          "size": 6270,
          "category": "source_javascript",
          "purpose": "Página: Exporta: Login",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@solidjs/router",
              "@/store/auth",
              "lucide-solid",
              "@/components/Logo"
            ],
            "exports": [
              "Login"
            ],
            "components": [],
            "functions": [
              "Login"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Playground.tsx",
          "name": "Playground.tsx",
          "extension": ".tsx",
          "size": 21076,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: clearHistory, loadExample, generateCodeSnippet",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "../lib/api",
              "../components/MessageActions"
            ],
            "exports": [
              "Playground"
            ],
            "components": [
              "clearHistory",
              "loadExample",
              "generateCodeSnippet"
            ],
            "functions": [
              "Playground"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Profile.tsx",
          "name": "Profile.tsx",
          "extension": ".tsx",
          "size": 10182,
          "category": "source_javascript",
          "purpose": "Página: Exporta: Profile",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "@/store/auth",
              "@/components/UserPreferences"
            ],
            "exports": [
              "Profile"
            ],
            "components": [],
            "functions": [
              "Profile"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Reports.tsx",
          "name": "Reports.tsx",
          "extension": ".tsx",
          "size": 11691,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: downloadReport, downloadAllAsCSV, filteredReports",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "lucide-solid",
              "../lib/api"
            ],
            "exports": [
              "Reports"
            ],
            "components": [
              "downloadReport",
              "downloadAllAsCSV",
              "filteredReports",
              "setQuickFilter"
            ],
            "functions": [
              "Reports"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Rupturas.tsx",
          "name": "Rupturas.tsx",
          "extension": ".tsx",
          "size": 41152,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: generateCharts, handleChartClick, handleGroupClick",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@/lib/api",
              "lucide-solid",
              "@/components/PlotlyChart",
              "@/components/ChartDownloadButton"
            ],
            "exports": [
              "Rupturas"
            ],
            "components": [
              "generateCharts",
              "handleChartClick",
              "handleGroupClick",
              "getProductsByGroup",
              "clearFilters",
              "exportCSV",
              "exportPurchaseOrder",
              "getCriticidadeColor",
              "getCriticidadeLabel"
            ],
            "functions": [
              "Rupturas"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\SharedConversation.tsx",
          "name": "SharedConversation.tsx",
          "extension": ".tsx",
          "size": 5460,
          "category": "source_javascript",
          "purpose": "Página: Exporta: SharedConversation",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "@solidjs/router",
              "@/lib/formatters"
            ],
            "exports": [
              "SharedConversation"
            ],
            "components": [],
            "functions": [
              "SharedConversation"
            ],
            "description": null
          }
        },
        {
          "path": "frontend-solid\\src\\pages\\Transfers.tsx",
          "name": "Transfers.tsx",
          "extension": ".tsx",
          "size": 31522,
          "category": "source_javascript",
          "purpose": "Página: Componentes React/Solid: toggleProductSelection, removeFromCart, clearCart",
          "details": {
            "type": "javascript/typescript",
            "imports": [
              "solid-js",
              "solid-js/store",
              "lucide-solid",
              "../lib/api"
            ],
            "exports": [
              "Transfers"
            ],
            "components": [
              "toggleProductSelection",
              "removeFromCart",
              "clearCart",
              "getUrgencyColor",
              "isSelectedInMode",
              "toggleSelection",
              "isDisabledDestino",
              "isSelectedDestino",
              "toggleDestSelection",
              "isSelected"
            ],
            "functions": [
              "Transfers"
            ],
            "description": null
          }
        }
      ]
    },
    "config": {
      ".gitignore": {
        "path": ".gitignore",
        "name": ".gitignore",
        "extension": "",
        "size": 1425,
        "category": "config",
        "purpose": "Arquivos ignorados pelo Git",
        "details": {}
      },
      "analyze.bat": {
        "path": "analyze.bat",
        "name": "analyze.bat",
        "extension": ".bat",
        "size": 1073,
        "category": "config",
        "purpose": "Script de análise do projeto",
        "details": {}
      },
      "package.json": {
        "path": "package.json",
        "name": "package.json",
        "extension": ".json",
        "size": 1352,
        "category": "config",
        "purpose": "Configuração de dependências Node.js",
        "details": {}
      },
      "start.bat": {
        "path": "start.bat",
        "name": "start.bat",
        "extension": ".bat",
        "size": 3856,
        "category": "config",
        "purpose": "Script de inicialização Windows",
        "details": {}
      }
    },
    "docs": {
      "ANALISE_PROJETO_DETALHADA.md": {
        "path": "ANALISE_PROJETO_DETALHADA.md",
        "name": "ANALISE_PROJETO_DETALHADA.md",
        "extension": ".md",
        "size": 136520,
        "category": "docs",
        "purpose": "Documentação: Análise Detalhada do Projeto BI_Solution",
        "details": {
          "type": "markdown",
          "title": "Análise Detalhada do Projeto BI_Solution",
          "sections": [
            "Índice",
            "Visão Geral da Arquitetura",
            "Backend (FastAPI + Python)",
            "Frontend (SolidJS + TypeScript)",
            "Arquivos de Configuração",
            "Documentação",
            "Scripts e Utilitários",
            "Testes",
            "Dados",
            "Arquivos para Limpeza"
          ],
          "preview": "# Análise Detalhada do Projeto BI_Solution\n\n**Data da Análise:** 28/12/2025 15:06:46\n\n---"
        }
      },
      "CLAUDE.md": {
        "path": "CLAUDE.md",
        "name": "CLAUDE.md",
        "extension": ".md",
        "size": 10807,
        "category": "docs",
        "purpose": "Documentação: CLAUDE.md",
        "details": {
          "type": "markdown",
          "title": "CLAUDE.md",
          "sections": [
            "Project Overview",
            "Quick Start Commands",
            "Architecture Overview",
            "Important Architectural Decisions",
            "Authentication & Security",
            "Environment Variables",
            "Database Schema",
            "Code Style & Conventions",
            "Testing",
            "Important Notes"
          ],
          "preview": "# CLAUDE.md\n\nThis file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n## Project Overview"
        }
      },
      "API_DOCUMENTATION.md": {
        "path": "docs\\API_DOCUMENTATION.md",
        "name": "API_DOCUMENTATION.md",
        "extension": ".md",
        "size": 3185,
        "category": "docs",
        "purpose": "Documentação: Documentação da API - Agent Solution BI",
        "details": {
          "type": "markdown",
          "title": "Documentação da API - Agent Solution BI",
          "sections": [
            "Visão Geral",
            "🔐 Autenticação",
            "💬 Chat BI (Agente)",
            "📊 Analytics",
            "📦 Transferências (UNE)",
            "⚠️ Rupturas"
          ],
          "preview": "# Documentação da API - Agent Solution BI\n\n## Visão Geral\n\nA API segue o padrão RESTful e utiliza JSON para troca de dados."
        }
      },
      "CORRECOES_CRITICAS_IMPLEMENTADAS.md": {
        "path": "docs\\archive\\CORRECOES_CRITICAS_IMPLEMENTADAS.md",
        "name": "CORRECOES_CRITICAS_IMPLEMENTADAS.md",
        "extension": ".md",
        "size": 12510,
        "category": "docs",
        "purpose": "Documentação: RELATÓRIO DE CORREÇÕES CRÍTICAS IMPLEMENTADAS",
        "details": {
          "type": "markdown",
          "title": "RELATÓRIO DE CORREÇÕES CRÍTICAS IMPLEMENTADAS",
          "sections": [
            "📋 RESUMO EXECUTIVO",
            "🔧 CORREÇÃO 1: Validação de Query Vazia",
            "🔧 CORREÇÃO 2: Maximum Conversation Turns Exceeded",
            "🔧 CORREÇÃO 3: Cache Semântico",
            "📊 RESULTADO CONSOLIDADO DOS TESTES",
            "🎯 IMPACTO NO SISTEMA",
            "🚀 DEPLOYMENT",
            "📝 NOTAS ADICIONAIS",
            "✅ CONCLUSÃO"
          ],
          "preview": "# RELATÓRIO DE CORREÇÕES CRÍTICAS IMPLEMENTADAS\n\n**Data:** 21 de Dezembro de 2025\n**Sistema:** Agent Solution BI - Lojas Caçula\n**Versão:** 2.1.0 (Correções Críticas)"
        }
      },
      "DIAGNOSTICO_COMPLETO.md": {
        "path": "docs\\archive\\DIAGNOSTICO_COMPLETO.md",
        "name": "DIAGNOSTICO_COMPLETO.md",
        "extension": ".md",
        "size": 5853,
        "category": "docs",
        "purpose": "Documentação: Diagnóstico Completo - SQL Server e Sincronização Parquet",
        "details": {
          "type": "markdown",
          "title": "Diagnóstico Completo - SQL Server e Sincronização Parquet",
          "sections": [
            "📋 Resumo Executivo",
            "✅ Problemas Resolvidos (Código)",
            "⚠️ Problema Pendente (Configuração SQL Server)",
            "🔧 Ação Necessária",
            "📊 Configuração do Sistema",
            "🚀 Próximos Passos",
            "📁 Arquivos Modificados/Criados",
            "🎯 Resultado Esperado",
            "❓ FAQ",
            "📞 Suporte"
          ],
          "preview": "# Diagnóstico Completo - SQL Server e Sincronização Parquet\n\n## 📋 Resumo Executivo\n\nO sistema **Agent BI** precisa do SQL Server para sincronizar dados para o arquivo Parquet. Identificamos e corrigimos os problemas de código, mas existe uma **configuração pendente no SQL Server**."
        }
      },
      "DIAGNOSTICO_MAX_TURNS_FIX.md": {
        "path": "docs\\archive\\DIAGNOSTICO_MAX_TURNS_FIX.md",
        "name": "DIAGNOSTICO_MAX_TURNS_FIX.md",
        "extension": ".md",
        "size": 7741,
        "category": "docs",
        "purpose": "Documentação: DIAGNÓSTICO E CORREÇÃO: Maximum Conversation Turns Exceeded",
        "details": {
          "type": "markdown",
          "title": "DIAGNÓSTICO E CORREÇÃO: Maximum Conversation Turns Exceeded",
          "sections": [
            "CAUSA RAIZ IDENTIFICADA",
            "CORREÇÕES IMPLEMENTADAS",
            "VALIDAÇÃO",
            "ARQUIVOS ADICIONAIS COM EMOJIS (NÃO CRÍTICOS)",
            "PRÓXIMOS PASSOS",
            "IMPACTO ESPERADO",
            "CONCLUSÃO"
          ],
          "preview": "# DIAGNÓSTICO E CORREÇÃO: Maximum Conversation Turns Exceeded\n\n**Data:** 21 de Dezembro de 2025\n**Problema Reportado:** Agente não consegue responder \"quais são os grupos em queda de vendas na UNE 2365\"\n**Erro:** Maximum conversation turns exceeded"
        }
      },
      "README_NEW_SYSTEM.md": {
        "path": "docs\\archive\\README_NEW_SYSTEM.md",
        "name": "README_NEW_SYSTEM.md",
        "extension": ".md",
        "size": 2356,
        "category": "docs",
        "purpose": "Documentação: 🚀 Agent BI Solution - Quick Start",
        "details": {
          "type": "markdown",
          "title": "🚀 Agent BI Solution - Quick Start",
          "sections": [
            "Início Rápido",
            "📦 Comandos Principais",
            "⚙️ Configuração Inicial",
            "🏥 Health Checks",
            "🛠️ Troubleshooting",
            "📚 Documentação Completa",
            "🎯 Stack Tecnológica",
            "✅ Checklist Pré-Desenvolvimento"
          ],
          "preview": "# 🚀 Agent BI Solution - Quick Start\n\n## Início Rápido\n\n```bash"
        }
      },
      "RELATORIO_DIAGNOSTICO_COMPLETO.md": {
        "path": "docs\\archive\\RELATORIO_DIAGNOSTICO_COMPLETO.md",
        "name": "RELATORIO_DIAGNOSTICO_COMPLETO.md",
        "extension": ".md",
        "size": 9002,
        "category": "docs",
        "purpose": "Documentação: 🔍 Relatório de Diagnóstico Completo - Agent BI Solution",
        "details": {
          "type": "markdown",
          "title": "🔍 Relatório de Diagnóstico Completo - Agent BI Solution",
          "sections": [
            "📋 Resumo Executivo",
            "🔎 Páginas Analisadas",
            "🛠️ Problemas Identificados",
            "✅ Correções Aplicadas",
            "🚀 Solução Imediata",
            "📊 Resultados Esperados Após Restart",
            "📝 Recomendações de Longo Prazo",
            "🎯 Checklist de Verificação Pós-Restart",
            "📞 Próximos Passos"
          ],
          "preview": "# 🔍 Relatório de Diagnóstico Completo - Agent BI Solution\n\n**Data**: 2025-12-20\n**Analista**: Claude Code\n**Tipo**: Análise de Visibilidade de Dados nas Páginas Frontend"
        }
      },
      "SOLUCAO_FINAL.md": {
        "path": "docs\\archive\\SOLUCAO_FINAL.md",
        "name": "SOLUCAO_FINAL.md",
        "extension": ".md",
        "size": 2407,
        "category": "docs",
        "purpose": "Documentação: ✅ SOLUÇÃO FINAL - Dados Visíveis em Todas as Páginas",
        "details": {
          "type": "markdown",
          "title": "✅ SOLUÇÃO FINAL - Dados Visíveis em Todas as Páginas",
          "sections": [
            "PROBLEMA RESOLVIDO",
            "⚡ O QUE FOI CORRIGIDO",
            "📊 RESULTADOS (TESTADOS)",
            "🚀 BACKEND RODANDO",
            "📝 ARQUIVOS MODIFICADOS",
            "⚠️ IMPORTANTE"
          ],
          "preview": "# ✅ SOLUÇÃO FINAL - Dados Visíveis em Todas as Páginas\n\n## PROBLEMA RESOLVIDO\n\nTodas as páginas (Dashboard, Analytics, Rupturas, Transfers) agora exibem dados corretamente."
        }
      },
      "SQL_SERVER_STATUS_REPORT.md": {
        "path": "docs\\archive\\SQL_SERVER_STATUS_REPORT.md",
        "name": "SQL_SERVER_STATUS_REPORT.md",
        "extension": ".md",
        "size": 4642,
        "category": "docs",
        "purpose": "Documentação: SQL Server Diagnostics - Status Report",
        "details": {
          "type": "markdown",
          "title": "SQL Server Diagnostics - Status Report",
          "sections": [
            "Summary of Work Completed",
            "Current System Status",
            "Recommended Next Steps",
            "Testing Performed",
            "Files Modified",
            "Conclusion"
          ],
          "preview": "# SQL Server Diagnostics - Status Report\n\n## Summary of Work Completed\n\n### ✅ Code Fixes Applied"
        }
      },
      "SYSTEM_STATUS.md": {
        "path": "docs\\archive\\SYSTEM_STATUS.md",
        "name": "SYSTEM_STATUS.md",
        "extension": ".md",
        "size": 2973,
        "category": "docs",
        "purpose": "Documentação: Relatório de Status do Sistema - Agent BI Solution",
        "details": {
          "type": "markdown",
          "title": "Relatório de Status do Sistema - Agent BI Solution",
          "sections": [
            "✅ Resumo Executivo para a Diretoria",
            "✅ Status dos Componentes Core",
            "✅ Funcionalidades Certificadas",
            "✅ Dados e Governança",
            "✅ Credenciais de Demonstração (Seguras)",
            "📄 CERTIFICAÇÃO FINAL"
          ],
          "preview": "# Relatório de Status do Sistema - Agent BI Solution\n\n**Data:** 19 de Dezembro de 2025\n**Status Geral:** ✅ TOTALMENTE OPERACIONAL (PRONTO PARA APRESENTAÇÃO)\n"
        }
      },
      "ARQUITETURA.md": {
        "path": "docs\\ARQUITETURA.md",
        "name": "ARQUITETURA.md",
        "extension": ".md",
        "size": 5336,
        "category": "docs",
        "purpose": "Documentação: Arquitetura do Sistema Agent Solution BI",
        "details": {
          "type": "markdown",
          "title": "Arquitetura do Sistema Agent Solution BI",
          "sections": [
            "1. Visão Geral",
            "2. Componentes do Backend",
            "3. Componentes do Frontend",
            "4. Fluxos de Dados Principais",
            "5. Considerações de Segurança"
          ],
          "preview": "# Arquitetura do Sistema Agent Solution BI\n\nEste documento descreve a arquitetura técnica do sistema Agent Solution BI após a migração para a stack SolidJS + FastAPI.\n\n## 1. Visão Geral"
        }
      },
      "ARQUITETURA_VISUAL.md": {
        "path": "docs\\ARQUITETURA_VISUAL.md",
        "name": "ARQUITETURA_VISUAL.md",
        "extension": ".md",
        "size": 5197,
        "category": "docs",
        "purpose": "Documentação: Diagrama Visual da Arquitetura do Sistema",
        "details": {
          "type": "markdown",
          "title": "Diagrama Visual da Arquitetura do Sistema",
          "sections": [
            "Visão Geral (C4 Container Diagram)",
            "Legenda Técnica"
          ],
          "preview": "# Diagrama Visual da Arquitetura do Sistema\n\nEste documento apresenta a visão visual da arquitetura do sistema Agent Solution BI, detalhando os microserviços, agentes e fluxos de dados.\n\n## Visão Geral (C4 Container Diagram)"
        }
      },
      "CODE_CHAT_GUIDE.md": {
        "path": "docs\\CODE_CHAT_GUIDE.md",
        "name": "CODE_CHAT_GUIDE.md",
        "extension": ".md",
        "size": 7181,
        "category": "docs",
        "purpose": "Documentação: Code Chat - Agente Fullstack Completo",
        "details": {
          "type": "markdown",
          "title": "Code Chat - Agente Fullstack Completo",
          "sections": [
            "Visão Geral",
            "✨ Funcionalidades",
            "📦 Instalação",
            "🚀 Uso",
            "📊 Arquitetura",
            "💰 Custos",
            "🔧 Manutenção",
            "🐛 Troubleshooting",
            "📝 Próximas Melhorias",
            "🎓 Recursos"
          ],
          "preview": "# Code Chat - Agente Fullstack Completo\n\n## Visão Geral\nO Code Chat do Agente BI utiliza o modelo **Gemini 3.0 Flash** para responder perguntas sobre o código-fonte. O sistema usa RAG (Retrieval Augmented Generation) para injetar o contexto dos arquivos relevantes no prompt da IA.\n"
        }
      },
      "CORRECAO_DEFINITIVA_UNE.md": {
        "path": "docs\\CORRECAO_DEFINITIVA_UNE.md",
        "name": "CORRECAO_DEFINITIVA_UNE.md",
        "extension": ".md",
        "size": 6835,
        "category": "docs",
        "purpose": "Documentação: ✅ CORREÇÃO DEFINITIVAVA: Seleção UNE em Transferências",
        "details": {
          "type": "markdown",
          "title": "✅ CORREÇÃO DEFINITIVAVA: Seleção UNE em Transferências",
          "sections": [
            "📋 O Que Foi Consertado",
            "🧪 Como Testar",
            "🔧 Mudanças Técnicas",
            "✨ Por Que Isso Funciona Agora",
            "📊 Checklist de Implantação",
            "📌 Próximos Passos (User)",
            "🎯 Resolução da Solicitação Original"
          ],
          "preview": "# ✅ CORREÇÃO DEFINITIVAVA: Seleção UNE em Transferências\n\n**Data:** 2025  \n**Status:** ✅ IMPLEMENTADO  \n**Prioridade:** CRÍTICA  "
        }
      },
      "CREDENTIALS.md": {
        "path": "docs\\CREDENTIALS.md",
        "name": "CREDENTIALS.md",
        "extension": ".md",
        "size": 3044,
        "category": "docs",
        "purpose": "Documentação: Credenciais de Acesso - Agent Solution BI",
        "details": {
          "type": "markdown",
          "title": "Credenciais de Acesso - Agent Solution BI",
          "sections": [
            "Credenciais Padrão",
            "Como Fazer Login",
            "Troubleshooting",
            "Verificação do Sistema",
            "Alterando a Senha",
            "Suporte"
          ],
          "preview": "# Credenciais de Acesso - Agent Solution BI\n\n## Credenciais Padrão\n\n### Usuário Administrador"
        }
      },
      "FEATURE_CONTEXT7_ACCESS_CONTROL.md": {
        "path": "docs\\FEATURE_CONTEXT7_ACCESS_CONTROL.md",
        "name": "FEATURE_CONTEXT7_ACCESS_CONTROL.md",
        "extension": ".md",
        "size": 2961,
        "category": "docs",
        "purpose": "Documentação: Implementation Plan: User Segmentation & Dashboard Storytelling",
        "details": {
          "type": "markdown",
          "title": "Implementation Plan: User Segmentation & Dashboard Storytelling",
          "sections": [
            "Objective",
            "Phase 1: Backend Authentication Updates",
            "Phase 2: Frontend Authentication & Access Control",
            "Phase 3: Dashboard Storytelling (\"Context7\")",
            "Execution Strategy"
          ],
          "preview": "# Implementation Plan: User Segmentation & Dashboard Storytelling\n\n## Objective\nImplement role-based and segment-based access control for \"user\" level accounts and enhance the \"Monitoramento\" dashboard with storytelling elements (\"Context7\" philosophy).\n"
        }
      },
      "GAP_ANALYSIS_100_PERCENT.md": {
        "path": "docs\\GAP_ANALYSIS_100_PERCENT.md",
        "name": "GAP_ANALYSIS_100_PERCENT.md",
        "extension": ".md",
        "size": 4812,
        "category": "docs",
        "purpose": "Documentação: Gap Analysis: Caminho para 100% de Paridade Funcional",
        "details": {
          "type": "markdown",
          "title": "Gap Analysis: Caminho para 100% de Paridade Funcional",
          "sections": [
            "📊 Estado Atual: 85% de Paridade",
            "❌ O Que Falta para 100% (15%)",
            "🎯 Roadmap para 100%",
            "💡 Decisão Estratégica"
          ],
          "preview": "# Gap Analysis: Caminho para 100% de Paridade Funcional\n\n## 📊 Estado Atual: 85% de Paridade\n\n### O Que Temos (85%)"
        }
      },
      "GRAPH_GENERATION_FIX.md": {
        "path": "docs\\GRAPH_GENERATION_FIX.md",
        "name": "GRAPH_GENERATION_FIX.md",
        "extension": ".md",
        "size": 5285,
        "category": "docs",
        "purpose": "Documentação: Correção de Geração de Gráficos - Context7 Best Practices 2025",
        "details": {
          "type": "markdown",
          "title": "Correção de Geração de Gráficos - Context7 Best Practices 2025",
          "sections": [
            "Problemas Identificados",
            "Soluções Aplicadas",
            "Arquivos Modificados",
            "Como Testar",
            "Logs de Sucesso",
            "Performance",
            "Compatibilidade",
            "Próximos Passos (Opcional)"
          ],
          "preview": "# Correção de Geração de Gráficos - Context7 Best Practices 2025\n\n**Data:** 2025-12-27\n**Problema:** Timeout de 2 minutos + navegador fechando ao solicitar gráficos\n"
        }
      },
      "GUIA_GERENCIAMENTO_USUARIOS.md": {
        "path": "docs\\GUIA_GERENCIAMENTO_USUARIOS.md",
        "name": "GUIA_GERENCIAMENTO_USUARIOS.md",
        "extension": ".md",
        "size": 6052,
        "category": "docs",
        "purpose": "Documentação: Guia de Gerenciamento de Usuários - Agent Solution BI",
        "details": {
          "type": "markdown",
          "title": "Guia de Gerenciamento de Usuários - Agent Solution BI",
          "sections": [
            "🎉 Sistema Implementado com Sucesso!",
            "🚀 Como Usar",
            "🔧 Detalhes Técnicos",
            "🔐 Segurança",
            "📋 Estrutura de Dados",
            "🐛 Resolução de Problemas",
            "🎯 Próximos Passos (Opcional)",
            "📞 Suporte"
          ],
          "preview": "# Guia de Gerenciamento de Usuários - Agent Solution BI\n\n## 🎉 Sistema Implementado com Sucesso!\n\nO sistema de gerenciamento de usuários foi implementado com integração completa ao Supabase Auth."
        }
      },
      "GUIA_INICIALIZACAO.md": {
        "path": "docs\\GUIA_INICIALIZACAO.md",
        "name": "GUIA_INICIALIZACAO.md",
        "extension": ".md",
        "size": 8188,
        "category": "docs",
        "purpose": "Documentação: 🚀 Guia de Inicialização - AgentBI",
        "details": {
          "type": "markdown",
          "title": "🚀 Guia de Inicialização - AgentBI",
          "sections": [
            "🎯 Melhorias Implementadas",
            "📋 Opções de Inicialização",
            "🔧 Scripts NPM Disponíveis",
            "🎨 Cores dos Logs",
            "🛠️ Tecnologia Utilizada",
            "📁 Estrutura de Arquivos",
            "🚨 Troubleshooting",
            "💡 Dicas de Uso",
            "🔄 Comparação: Antes vs Depois",
            "📊 Benefícios Mensuráveis"
          ],
          "preview": "# 🚀 Guia de Inicialização - AgentBI\n\nSistema simplificado de inicialização usando **concurrently** para melhor experiência de desenvolvimento.\n\n---"
        }
      },
      "GUIA_TESTES.md": {
        "path": "docs\\GUIA_TESTES.md",
        "name": "GUIA_TESTES.md",
        "extension": ".md",
        "size": 4733,
        "category": "docs",
        "purpose": "Documentação: 🧪 Guia de Testes - Agent BI",
        "details": {
          "type": "markdown",
          "title": "🧪 Guia de Testes - Agent BI",
          "sections": [
            "📋 Testes Disponíveis",
            "🐛 Solucionando Tela Branca",
            "🚀 Teste Rápido",
            "📊 Interpretando Resultados",
            "🔍 Debug Avançado",
            "📞 Ainda com problemas?"
          ],
          "preview": "# 🧪 Guia de Testes - Agent BI\n\n## 📋 Testes Disponíveis\n\n### 1️⃣ Teste Robusto do Sistema (Python)"
        }
      },
      "HABILITAR_TCP_IP_SQL_SERVER.md": {
        "path": "docs\\guides\\HABILITAR_TCP_IP_SQL_SERVER.md",
        "name": "HABILITAR_TCP_IP_SQL_SERVER.md",
        "extension": ".md",
        "size": 4841,
        "category": "docs",
        "purpose": "Documentação: Como Habilitar TCP/IP no SQL Server",
        "details": {
          "type": "markdown",
          "title": "Como Habilitar TCP/IP no SQL Server",
          "sections": [
            "Problema Identificado",
            "Solução Passo a Passo",
            "Verificações Rápidas",
            "Troubleshooting",
            "Configuração Atual do Sistema",
            "Próximos Passos Após Habilitar TCP/IP"
          ],
          "preview": "# Como Habilitar TCP/IP no SQL Server\n\n## Problema Identificado\n\n```"
        }
      },
      "SQL_SERVER_SETUP.md": {
        "path": "docs\\guides\\SQL_SERVER_SETUP.md",
        "name": "SQL_SERVER_SETUP.md",
        "extension": ".md",
        "size": 4315,
        "category": "docs",
        "purpose": "Documentação: Configuração do SQL Server - Agent Solution BI",
        "details": {
          "type": "markdown",
          "title": "Configuração do SQL Server - Agent Solution BI",
          "sections": [
            "Problema Identificado",
            "Solução",
            "Modo Híbrido (Recomendado)",
            "Troubleshooting",
            "Alternativas"
          ],
          "preview": "# Configuração do SQL Server - Agent Solution BI\n\n## Problema Identificado\n\nO erro `Nome da fonte de dados não encontrado e nenhum driver padrão especificado` ocorre quando a connection string ODBC não está configurada corretamente."
        }
      },
      "LOGGING_QUICK_START.md": {
        "path": "docs\\LOGGING_QUICK_START.md",
        "name": "LOGGING_QUICK_START.md",
        "extension": ".md",
        "size": 2547,
        "category": "docs",
        "purpose": "Documentação: 🚀 Logging - Guia Rápido",
        "details": {
          "type": "markdown",
          "title": "🚀 Logging - Guia Rápido",
          "sections": [
            "Backend (FastAPI)",
            "Frontend (SolidJS)",
            "Estrutura de Logs",
            "Visualizar Logs",
            "Níveis de Log",
            "⚠️ Importante",
            "📚 Documentação Completa"
          ],
          "preview": "# 🚀 Logging - Guia Rápido\n\n## Backend (FastAPI)\n\n### Uso Básico"
        }
      },
      "MANUAL_TEST_CHECKLIST.md": {
        "path": "docs\\MANUAL_TEST_CHECKLIST.md",
        "name": "MANUAL_TEST_CHECKLIST.md",
        "extension": ".md",
        "size": 13706,
        "category": "docs",
        "purpose": "Documentação: MANUAL TEST CHECKLIST - Agent Solution BI (SolidJS + FastAPI)",
        "details": {
          "type": "markdown",
          "title": "MANUAL TEST CHECKLIST - Agent Solution BI (SolidJS + FastAPI)",
          "sections": [
            "🎯 OBJETIVO",
            "📝 INSTRUÇÕES",
            "✅ CHECKLIST DE TESTES",
            "🏁 CONCLUSÃO DO TESTE MANUAL"
          ],
          "preview": "# MANUAL TEST CHECKLIST - Agent Solution BI (SolidJS + FastAPI)\n\nEste checklist cobre os principais fluxos da aplicação para validação manual.\n\n---"
        }
      },
      "MIGRATION_GUIDE.md": {
        "path": "docs\\MIGRATION_GUIDE.md",
        "name": "MIGRATION_GUIDE.md",
        "extension": ".md",
        "size": 10076,
        "category": "docs",
        "purpose": "Documentação: Guia de Migração - Agent BI Solution",
        "details": {
          "type": "markdown",
          "title": "Guia de Migração - Agent BI Solution",
          "sections": [
            "📋 Resumo das Mudanças",
            "🎯 Principais Melhorias",
            "🚀 Como Usar",
            "📦 Scripts npm Disponíveis",
            "🔧 Taskfile (Opcional - Requer Instalação)",
            "🏥 Endpoints de Saúde",
            "⚙️ Variáveis de Ambiente (.env)",
            "🐛 Troubleshooting",
            "📊 Comparativo: Antes vs Depois",
            "🎓 Próximos Passos Recomendados"
          ],
          "preview": "# Guia de Migração - Agent BI Solution\n\n## 📋 Resumo das Mudanças\n\nO sistema de inicialização foi modernizado de scripts Python customizados (707 linhas) para ferramentas padrão da indústria com npm scripts e Taskfile.yml (~50 linhas)."
        }
      },
      "PARQUET_SCHEMA_REFERENCE.md": {
        "path": "docs\\PARQUET_SCHEMA_REFERENCE.md",
        "name": "PARQUET_SCHEMA_REFERENCE.md",
        "extension": ".md",
        "size": 10757,
        "category": "docs",
        "purpose": "Documentação: Referência de Esquema do Parquet - admmat.parquet",
        "details": {
          "type": "markdown",
          "title": "Referência de Esquema do Parquet - admmat.parquet",
          "sections": [
            "INSTRUÇÕES PARA EDIÇÃO:",
            "COLUNAS DE IDENTIFICAÇÃO",
            "COLUNAS DE CLASSIFICAÇÃO",
            "COLUNAS DE ESTOQUE",
            "COLUNAS DE PONTO DE PEDIDO E PARÂMETROS",
            "COLUNAS DE VENDAS - MENSAL",
            "COLUNAS DE VENDAS - SEMANAL",
            "COLUNAS DE VENDAS - PERÍODO",
            "COLUNAS DE CLASSIFICAÇÃO ABC",
            "COLUNAS DE ENTRADA/RECEBIMENTO - CD"
          ],
          "preview": "# Referência de Esquema do Parquet - admmat.parquet\n\n## INSTRUÇÕES PARA EDIÇÃO:\n1. **Edite as descrições** para refletir o uso real de cada coluna\n2. **Marque com ✓** as colunas que estão sendo usadas corretamente"
        }
      },
      "PERFORMANCE_OPTIMIZATION.md": {
        "path": "docs\\PERFORMANCE_OPTIMIZATION.md",
        "name": "PERFORMANCE_OPTIMIZATION.md",
        "extension": ".md",
        "size": 8488,
        "category": "docs",
        "purpose": "Documentação: Performance Optimization Guide - Agent BI",
        "details": {
          "type": "markdown",
          "title": "Performance Optimization Guide - Agent BI",
          "sections": [
            "📊 Executive Summary",
            "🎯 Problem Identification",
            "✅ Solutions Implemented",
            "📈 Performance Metrics",
            "🔧 Configuration",
            "🎨 Architecture Patterns",
            "📝 Future Optimizations",
            "🚨 Troubleshooting",
            "📚 References",
            "✅ Verification Checklist"
          ],
          "preview": "# Performance Optimization Guide - Agent BI\n**Context7 Documentation | Performance Engineering**\n\n---\n"
        }
      },
      "PIC_MAPPING.md": {
        "path": "docs\\PIC_MAPPING.md",
        "name": "PIC_MAPPING.md",
        "extension": ".md",
        "size": 5904,
        "category": "docs",
        "purpose": "Documentação: Mapeamento: Próximos Passos ↔ PIC (Plano de Implementação Cirúrgica)",
        "details": {
          "type": "markdown",
          "title": "Mapeamento: Próximos Passos ↔ PIC (Plano de Implementação Cirúrgica)",
          "sections": [
            "✅ Resposta Direta",
            "📊 Mapeamento Detalhado",
            "📝 Detalhamento das Seções Pendentes",
            "🎯 Resumo da Correspondência",
            "📋 Próximos Passos Detalhados (Seguindo o PIC)",
            "✅ Conclusão"
          ],
          "preview": "# Mapeamento: Próximos Passos ↔ PIC (Plano de Implementação Cirúrgica)\n\n**Data:** 22 de Novembro de 2025  \n**Documento de Referência:** `prompt_pic_agent_bi_implementation.md`\n"
        }
      },
      "PLANO_HIBRIDO_IMPLEMENTADO.md": {
        "path": "docs\\PLANO_HIBRIDO_IMPLEMENTADO.md",
        "name": "PLANO_HIBRIDO_IMPLEMENTADO.md",
        "extension": ".md",
        "size": 11558,
        "category": "docs",
        "purpose": "Documentação: 🎉 Plano Híbrido - IMPLEMENTAÇÃO COMPLETA",
        "details": {
          "type": "markdown",
          "title": "🎉 Plano Híbrido - IMPLEMENTAÇÃO COMPLETA",
          "sections": [
            "✅ **Status: 100% Concluído**",
            "📊 **O Que Foi Implementado**",
            "🏗️ **Arquitetura Implementada**",
            "📈 **Progresso de Paridade**",
            "🎯 **Diferenciais Competitivos**",
            "🚀 **Como Usar as Novas Features**",
            "🗄️ **Migração de Banco de Dados**",
            "🧪 **Como Testar**",
            "📝 **Checklist de Verificação**",
            "🐛 **Troubleshooting**"
          ],
          "preview": "# 🎉 Plano Híbrido - IMPLEMENTAÇÃO COMPLETA\n\n## ✅ **Status: 100% Concluído**\n\nData de implementação: 10 de dezembro de 2025"
        }
      },
      "PRD.md": {
        "path": "docs\\PRD.md",
        "name": "PRD.md",
        "extension": ".md",
        "size": 32083,
        "category": "docs",
        "purpose": "Documentação: Product Requirements Document (PRD)",
        "details": {
          "type": "markdown",
          "title": "Product Requirements Document (PRD)",
          "sections": [
            "1. Visão do Produto",
            "2. Objetivos do Negócio",
            "3. Usuários-Alvo e Personas",
            "4. Requisitos Funcionais",
            "5. Requisitos Não-Funcionais",
            "6. Casos de Uso Principais",
            "7. Stack Tecnológica",
            "8. Roadmap de Produto",
            "9. Métricas de Sucesso",
            "10. Riscos e Mitigações"
          ],
          "preview": "# Product Requirements Document (PRD)\n# Agent Solution BI - Lojas Caçula\n\n**Versão:** 2.0\n**Data:** 21 de Dezembro de 2025"
        }
      },
      "QUICK_START.md": {
        "path": "docs\\QUICK_START.md",
        "name": "QUICK_START.md",
        "extension": ".md",
        "size": 2716,
        "category": "docs",
        "purpose": "Documentação: Guia Rápido de Inicialização - Agent Solution BI",
        "details": {
          "type": "markdown",
          "title": "Guia Rápido de Inicialização - Agent Solution BI",
          "sections": [
            "✅ Status Atual do Sistema",
            "🚀 Como Iniciar o Frontend",
            "🔐 Credenciais de Login",
            "📋 Checklist de Inicialização",
            "🔧 Comandos Úteis",
            "⚡ Próximo Passo",
            "💡 Dicas",
            "❓ Problemas Comuns"
          ],
          "preview": "# Guia Rápido de Inicialização - Agent Solution BI\n\n## ✅ Status Atual do Sistema\n\n### Backend (Porta 8000)"
        }
      },
      "README.md": {
        "path": "README.md",
        "name": "README.md",
        "extension": ".md",
        "size": 3475,
        "category": "docs",
        "purpose": "Documentação: 🛒 Agent Solution BI - Lojas Caçula (Executive Edition)",
        "details": {
          "type": "markdown",
          "title": "🛒 Agent Solution BI - Lojas Caçula (Executive Edition)",
          "sections": [
            "💎 Diferenciais Estratégicos (Apresentação à Diretoria)",
            "🚀 Funcionalidades Principais",
            "🎨 Identidade Visual (Lojas Caçula - 40 Anos)",
            "🛠️ Tecnologias Utilizadas",
            "📁 Guia de Instalação Rápida",
            "👥 Contas de Demonstração"
          ],
          "preview": "# 🛒 Agent Solution BI - Lojas Caçula (Executive Edition)\n\n**Inteligência Artificial Generativa e Análise de Alta Performance para a Gestão de Varejo.**\n\nO **Agent Solution BI** é uma plataforma de decisão estratégica desenvolvida especificamente para a rede Lojas Caçula. Combinando o poder do **Google Gemini 3.0 Flash** com a velocidade do motor de dados **Polars**, o sistema transforma milhões de registros de venda e estoque em planos de ação imediatos."
        }
      },
      "regras_negocio_une.md": {
        "path": "docs\\regras_negocio_une.md",
        "name": "regras_negocio_une.md",
        "extension": ".md",
        "size": 4244,
        "category": "docs",
        "purpose": "Documentação: Regras de Negócio UNE (Unidade de Negócio)",
        "details": {
          "type": "markdown",
          "title": "Regras de Negócio UNE (Unidade de Negócio)",
          "sections": [
            "1. Glossário",
            "2. Cálculos e Métricas",
            "3. Classificação de Criticidade",
            "4. Regras de Transferência entre UNEs",
            "5. Implementação Técnica"
          ],
          "preview": "# Regras de Negócio UNE (Unidade de Negócio)\n\nEste documento detalha as regras de negócio implementadas no sistema Agent Solution BI, especificamente focadas nas operações de UNE (Unidade de Negócio), Abastecimento e Transferências.\n\n---"
        }
      },
      "RELATORIO_COMPARATIVO_CHATGPT_vs_CHATBI.md": {
        "path": "docs\\RELATORIO_COMPARATIVO_CHATGPT_vs_CHATBI.md",
        "name": "RELATORIO_COMPARATIVO_CHATGPT_vs_CHATBI.md",
        "extension": ".md",
        "size": 15369,
        "category": "docs",
        "purpose": "Documentação: Relatório Comparativo: ChatGPT vs ChatBI",
        "details": {
          "type": "markdown",
          "title": "Relatório Comparativo: ChatGPT vs ChatBI",
          "sections": [
            "📊 Sumário Executivo",
            "🔍 Metodologia de Análise",
            "📋 Análise Comparativa Detalhada",
            "🚀 Implementações Realizadas",
            "📈 Métricas de Melhoria",
            "🎯 Funcionalidades Exclusivas do ChatBI",
            "⚠️ Gaps Remanescentes (Não-Críticos)",
            "🧪 Testes Realizados",
            "📊 Comparação de Arquitetura",
            "🎓 Insights e Aprendizados"
          ],
          "preview": "# Relatório Comparativo: ChatGPT vs ChatBI\n**Data:** 10 de Dezembro de 2025\n**Tempo de Análise e Implementação:** 20 minutos\n**Versão ChatBI:** 1.0 (Pós-melhorias)\n"
        }
      },
      "RELATORIO_FINAL_IMPLEMENTACAO.md": {
        "path": "docs\\RELATORIO_FINAL_IMPLEMENTACAO.md",
        "name": "RELATORIO_FINAL_IMPLEMENTACAO.md",
        "extension": ".md",
        "size": 3148,
        "category": "docs",
        "purpose": "Documentação: 📊 SUMÁRIO EXECUTIVO: Agent BI Solution - Lojas Caçula",
        "details": {
          "type": "markdown",
          "title": "📊 SUMÁRIO EXECUTIVO: Agent BI Solution - Lojas Caçula",
          "sections": [
            "🚀 1. Visão Geral",
            "💡 2. Diferenciais Competitivos (O Valor da IA)",
            "⚡ 3. Engenharia de Alta Performance",
            "🔐 4. Governança e Segurança",
            "📈 5. Métricas de Impacto Estimadas",
            "🎯 6. Conclusão e Próximos Passos"
          ],
          "preview": "# 📊 SUMÁRIO EXECUTIVO: Agent BI Solution - Lojas Caçula\n\n**Data:** 19 de Dezembro de 2025\n**Objetivo:** Apresentação de Resultados e Capacidades Estratégicas à Diretoria\n"
        }
      },
      "RELATORIO_PERFORMANCE_CHAT_CONTEXT7.md": {
        "path": "docs\\RELATORIO_PERFORMANCE_CHAT_CONTEXT7.md",
        "name": "RELATORIO_PERFORMANCE_CHAT_CONTEXT7.md",
        "extension": ".md",
        "size": 3468,
        "category": "docs",
        "purpose": "Documentação: Relatório Context7: Análise de Performance do Chat",
        "details": {
          "type": "markdown",
          "title": "Relatório Context7: Análise de Performance do Chat",
          "sections": [
            "1. Sumário Executivo",
            "2. Diagnóstico Técnico",
            "3. Recomendações (Plano de Ação)",
            "4. Conclusão"
          ],
          "preview": "# Relatório Context7: Análise de Performance do Chat\n\nEste relatório apresenta uma análise técnica da latência percebida no ChatBI, seguindo a metodologia Context7 de diagnóstico e arquitetura.\n\n## 1. Sumário Executivo"
        }
      },
      "RELATORIO_VERIFICACAO.md": {
        "path": "docs\\RELATORIO_VERIFICACAO.md",
        "name": "RELATORIO_VERIFICACAO.md",
        "extension": ".md",
        "size": 7150,
        "category": "docs",
        "purpose": "Documentação: 📊 Relatório de Verificação - Agent BI",
        "details": {
          "type": "markdown",
          "title": "📊 Relatório de Verificação - Agent BI",
          "sections": [
            "✅ Testes Realizados",
            "🔍 Diagnóstico da Tela Branca",
            "🛠️ Ferramentas de Diagnóstico Criadas",
            "📋 Checklist para Resolver Tela Branca",
            "🎯 Conclusão",
            "📞 Suporte Adicional"
          ],
          "preview": "# 📊 Relatório de Verificação - Agent BI\n\n**Data:** 2025-12-11\n**Objetivo:** Verificar se o sistema está abrindo corretamente e diagnosticar tela branca\n"
        }
      },
      "SISTEMA_LOGGING.md": {
        "path": "docs\\SISTEMA_LOGGING.md",
        "name": "SISTEMA_LOGGING.md",
        "extension": ".md",
        "size": 16058,
        "category": "docs",
        "purpose": "Documentação: Sistema de Logging - AgentBI",
        "details": {
          "type": "markdown",
          "title": "Sistema de Logging - AgentBI",
          "sections": [
            "📋 Índice",
            "Visão Geral",
            "Backend - Configuração",
            "Backend - Uso",
            "Frontend - Configuração",
            "Frontend - Uso",
            "Estrutura de Logs",
            "Visualização e Análise",
            "Boas Práticas",
            "Troubleshooting"
          ],
          "preview": "# Sistema de Logging - AgentBI\n\nSistema completo de logging para backend (FastAPI) e frontend (SolidJS) com integração entre ambos.\n\n## 📋 Índice"
        }
      },
      "SOLUCAO_FILTROS_ANALYTICS.md": {
        "path": "docs\\SOLUCAO_FILTROS_ANALYTICS.md",
        "name": "SOLUCAO_FILTROS_ANALYTICS.md",
        "extension": ".md",
        "size": 10815,
        "category": "docs",
        "purpose": "Documentação: Solução: Filtros da Página Analytics",
        "details": {
          "type": "markdown",
          "title": "Solução: Filtros da Página Analytics",
          "sections": [
            "🎯 Problema Identificado",
            "✅ Solução Implementada",
            "📚 Melhores Práticas Aplicadas",
            "🧪 Como Testar",
            "🎨 Melhorias de UX Implementadas",
            "🔄 Fluxo Completo",
            "📦 Arquivos Modificados",
            "🚀 Próximos Passos (Opcionais)",
            "📖 Referências"
          ],
          "preview": "# Solução: Filtros da Página Analytics\n\n## 🎯 Problema Identificado\n\nA página Analytics Avançado apresentava filtros não funcionais devido a:"
        }
      },
      "sql-queries-top-vendas.md": {
        "path": "docs\\sql-queries-top-vendas.md",
        "name": "sql-queries-top-vendas.md",
        "extension": ".md",
        "size": 5263,
        "category": "docs",
        "purpose": "Documentação: Consultas SQL - Top 10 Vendas por Categoria",
        "details": {
          "type": "markdown",
          "title": "Consultas SQL - Top 10 Vendas por Categoria",
          "sections": [
            "📊 Consulta 1: Top 10 Categorias por Valor Total",
            "📊 Consulta 2: Top 10 Produtos por Categoria",
            "📊 Consulta 3: Top 10 Produtos Globais",
            "📊 Consulta 4: Top 10 com Percentual do Total",
            "📊 Consulta 5: Top 10 por Período",
            "🔧 Adaptação para Parquet (Polars)",
            "💡 Dicas de Performance",
            "📝 Notas"
          ],
          "preview": "# Consultas SQL - Top 10 Vendas por Categoria\n\n## 📊 Consulta 1: Top 10 Categorias por Valor Total\n\n```sql"
        }
      },
      "AGENT_JSON_OUTPUT.md": {
        "path": "docs\\troubleshooting\\AGENT_JSON_OUTPUT.md",
        "name": "AGENT_JSON_OUTPUT.md",
        "extension": ".md",
        "size": 2288,
        "category": "docs",
        "purpose": "Documentação: Troubleshooting: Agent Returning Raw JSON (Context7 Violation)",
        "details": {
          "type": "markdown",
          "title": "Troubleshooting: Agent Returning Raw JSON (Context7 Violation)",
          "sections": [
            "🚨 Problema Relatado",
            "🔍 Causa Raiz",
            "🛠️ Solução Aplicada (24/12/2025)",
            "✅ Validação"
          ],
          "preview": "# Troubleshooting: Agent Returning Raw JSON (Context7 Violation)\n\n## 🚨 Problema Relatado\nO Agente de BI (\"Caculinha\") estava retornando respostas em formato JSON bruto (ex: `{\"analise_executiva\": ...}`) diretamente na interface de chat, violando o padrão **Context7** que exige respostas narrativas e formatadas em Markdown (\"Storytelling\").\n"
        }
      },
      "GUIA_RAPIDO.md": {
        "path": "docs\\troubleshooting\\GUIA_RAPIDO.md",
        "name": "GUIA_RAPIDO.md",
        "extension": ".md",
        "size": 1607,
        "category": "docs",
        "purpose": "Documentação: 🔧 GUIA RÁPIDO DE RECUPERAÇÃO",
        "details": {
          "type": "markdown",
          "title": "🔧 GUIA RÁPIDO DE RECUPERAÇÃO",
          "sections": [
            "⚠️ PROBLEMA ATUAL",
            "✅ CAUSA & SOLUÇÃO",
            "🚀 3 PASSOS PARA RESOLVER",
            "🎯 APÓS RESOLVER",
            "📋 CHECKLIST",
            "❓ DÚVIDAS?"
          ],
          "preview": "# 🔧 GUIA RÁPIDO DE RECUPERAÇÃO\n\n## ⚠️ PROBLEMA ATUAL\n\nSistema está crashando ao abrir com erro:"
        }
      },
      "SOLUCAO_NODE_JS.md": {
        "path": "docs\\troubleshooting\\SOLUCAO_NODE_JS.md",
        "name": "SOLUCAO_NODE_JS.md",
        "extension": ".md",
        "size": 2957,
        "category": "docs",
        "purpose": "Documentação: 🚀 SOLUCIONANDO ERRO DE NODE.JS",
        "details": {
          "type": "markdown",
          "title": "🚀 SOLUCIONANDO ERRO DE NODE.JS",
          "sections": [
            "❌ Erro Encontrado",
            "🤔 O Que Significa?",
            "💡 ESCOLHA UMA OPÇÃO",
            "🎯 RECOMENDAÇÃO",
            "🔧 Verificação Rápida (Sem Instalar Nada)",
            "❓ Dúvidas?",
            "📋 Resumo das Ações",
            "🚀 Próximos Passos"
          ],
          "preview": "# 🚀 SOLUCIONANDO ERRO DE NODE.JS\n\n## ❌ Erro Encontrado\n```\n[ERROR] Node.js não encontrado!"
        }
      },
      "GUIA_LIMPEZA.md": {
        "path": "GUIA_LIMPEZA.md",
        "name": "GUIA_LIMPEZA.md",
        "extension": ".md",
        "size": 5961,
        "category": "docs",
        "purpose": "Documentação: Guia de Limpeza Conservadora - BI Solution",
        "details": {
          "type": "markdown",
          "title": "Guia de Limpeza Conservadora - BI Solution",
          "sections": [
            "📋 Visão Geral",
            "🚀 Como Usar",
            "🔍 Preview Antes de Executar",
            "🛡️ Sistema de Segurança",
            "⏮️ Como Reverter (Undo)",
            "📊 Relatórios Gerados",
            "⚠️ Perguntas Frequentes",
            "🔧 Troubleshooting",
            "📝 Checklist Antes de Executar",
            "🎯 Próximos Passos Após Limpeza"
          ],
          "preview": "# Guia de Limpeza Conservadora - BI Solution\n\n## 📋 Visão Geral\n\nEste guia explica como usar o sistema de limpeza seguro do projeto BI_Solution."
        }
      },
      "Relatório de Infraestrutura, Custos e Viabilidade_ Projeto BI_Solution.md": {
        "path": "Relatório de Infraestrutura, Custos e Viabilidade_ Projeto BI_Solution.md",
        "name": "Relatório de Infraestrutura, Custos e Viabilidade_ Projeto BI_Solution.md",
        "extension": ".md",
        "size": 4684,
        "category": "docs",
        "purpose": "Documentação: Relatório de Infraestrutura, Custos e Viabilidade: Projeto BI_Solution",
        "details": {
          "type": "markdown",
          "title": "Relatório de Infraestrutura, Custos e Viabilidade: Projeto BI_Solution",
          "sections": [
            "1. Viabilidade de Servidor Local",
            "2. Análise da LLM (Gemini 3 Flash Preview)",
            "3. Comparativo: Local vs. Nuvem (Cloud)",
            "4. Conclusão e Recomendações"
          ],
          "preview": "# Relatório de Infraestrutura, Custos e Viabilidade: Projeto BI_Solution\n\n**Autor:** Manus AI\n**Data:** 28 de Dezembro de 2025\n"
        }
      }
    },
    "scripts": {
      "clean-port.js": {
        "path": "scripts\\clean-port.js",
        "name": "clean-port.js",
        "extension": ".js",
        "size": 3367,
        "category": "source_javascript",
        "purpose": "* Cross-platform script to kill processes on specific ports\n * Works on Windows, Linux, and macOS\n * Ports: 8000 (Backend), 3000 (Frontend)",
        "details": {
          "type": "javascript/typescript",
          "imports": [],
          "exports": [],
          "components": [],
          "functions": [
            "killPortWindows",
            "killPortUnix"
          ],
          "description": "* Cross-platform script to kill processes on specific ports\n * Works on Windows, Linux, and macOS\n * Ports: 8000 (Backend), 3000 (Frontend)"
        }
      },
      "create_supabase_test_user.py": {
        "path": "scripts\\create_supabase_test_user.py",
        "name": "create_supabase_test_user.py",
        "extension": ".py",
        "size": 2326,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Script to create a test user ONLY in Supabase (not in Parquet)\nThis will verify that Supabase authentication is working",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "sys",
            "pathlib",
            "app.core.supabase_client"
          ],
          "constants": []
        }
      },
      "create_supabase_users.sql": {
        "path": "scripts\\create_supabase_users.sql",
        "name": "create_supabase_users.sql",
        "extension": ".sql",
        "size": 3067,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "create_test_user.py": {
        "path": "scripts\\create_test_user.py",
        "name": "create_test_user.py",
        "extension": ".py",
        "size": 1174,
        "category": "test",
        "purpose": "Testes unitários (1 testes)",
        "details": {
          "type": "python",
          "docstring": "Create a test user in Supabase for authentication testing",
          "classes": [],
          "functions": [
            {
              "name": "create_test_user",
              "docstring": "Create a test admin user in Supabase",
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "sys",
            "pathlib",
            "app.core.supabase_user_service"
          ],
          "constants": []
        }
      },
      "create_user_profiles.sql": {
        "path": "scripts\\create_user_profiles.sql",
        "name": "create_user_profiles.sql",
        "extension": ".sql",
        "size": 2041,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "create_users_parquet.py": {
        "path": "scripts\\create_users_parquet.py",
        "name": "create_users_parquet.py",
        "extension": ".py",
        "size": 1513,
        "category": "source_python",
        "purpose": "Create users.parquet file with test admin user for authentication fallback",
        "details": {
          "type": "python",
          "docstring": "Create users.parquet file with test admin user for authentication fallback",
          "classes": [],
          "functions": [
            {
              "name": "create_users_parquet",
              "docstring": "Create users.parquet with admin user",
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "polars",
            "bcrypt",
            "pathlib",
            "uuid",
            "datetime",
            "json"
          ],
          "constants": []
        }
      },
      "debug_transfers.js": {
        "path": "scripts\\debug_transfers.js",
        "name": "debug_transfers.js",
        "extension": ".js",
        "size": 2122,
        "category": "source_javascript",
        "purpose": "* DIAGNÓSTICO DE CLIQUES - Cole no Console do Navegador\n * \n * Abre DevTools (F12), vai em Console, e cola este script.\n * Ele vai monitorar EXATAMENTE o que está acontecendo nos cliques.",
        "details": {
          "type": "javascript/typescript",
          "imports": [],
          "exports": [],
          "components": [],
          "functions": [],
          "description": "* DIAGNÓSTICO DE CLIQUES - Cole no Console do Navegador\n * \n * Abre DevTools (F12), vai em Console, e cola este script.\n * Ele vai monitorar EXATAMENTE o que está acontecendo nos cliques."
        }
      },
      "index_codebase.py": {
        "path": "scripts\\index_codebase.py",
        "name": "index_codebase.py",
        "extension": ".py",
        "size": 9787,
        "category": "source_python",
        "purpose": "Code Indexer - Generate RAG Index for Entire Codebase",
        "details": {
          "type": "python",
          "docstring": "Code Indexer - Generate RAG Index for Entire Codebase\n=====================================================\n\nThis script indexes the entire codebase (Python + TypeScript) using:\n- LlamaIndex for document processing\n- Gemini Embeddings for semantic search\n- FAISS for vector storage\n- Incremental Indexing for efficiency\n\nUsage:\n    python scripts/index_codebase.py\n\nOutput:\n    ./storage/ - FAISS index, docstore, and metadata\n\nAuthor: Antigravity AI\nDate: 2025-12-19",
          "classes": [],
          "functions": [
            {
              "name": "configure_llamaindex",
              "docstring": "Configure LlamaIndex with Gemini models.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "load_code_documents",
              "docstring": "Load code documents from backend and frontend directories.\n\nArgs:\n    base_path: Project root path\n    \nReturns:\n    List of Document objects",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "create_or_update_index",
              "docstring": "Create or update index using standard VectorStoreIndex (Full Refresh).\n\nArgs:\n    documents: List of Document objects\n    storage_path: Path to save/load index",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "save_stats",
              "docstring": "Save index statistics to JSON.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "main",
              "docstring": "Main indexing function.",
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "os",
            "sys",
            "pathlib",
            "datetime",
            "json",
            "logging",
            "dotenv",
            "llama_index.core",
            "llama_index.core.ingestion",
            "llama_index.core.storage.docstore",
            "llama_index.core.node_parser",
            "llama_index.core.settings",
            "llama_index.llms.gemini",
            "llama_index.embeddings.gemini",
            "llama_index.core.vector_stores",
            "traceback"
          ],
          "constants": []
        }
      },
      "insert_user_profiles.sql": {
        "path": "scripts\\insert_user_profiles.sql",
        "name": "insert_user_profiles.sql",
        "extension": ".sql",
        "size": 1498,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "kill_port.py": {
        "path": "scripts\\kill_port.py",
        "name": "kill_port.py",
        "extension": ".py",
        "size": 633,
        "category": "source_python",
        "purpose": "Não identificado",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "subprocess",
            "sys"
          ],
          "constants": []
        }
      },
      "kill_ports.py": {
        "path": "scripts\\kill_ports.py",
        "name": "kill_ports.py",
        "extension": ".py",
        "size": 5602,
        "category": "source_python",
        "purpose": "Script para liberar portas 8000 e 3000",
        "details": {
          "type": "python",
          "docstring": "Script para liberar portas 8000 e 3000\nMata todos os processos Python/Node rodando nessas portas",
          "classes": [],
          "functions": [
            {
              "name": "get_pids_on_port",
              "docstring": "Obtem todos os PIDs usando uma porta especifica",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "kill_process",
              "docstring": "Mata um processo pelo PID",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "kill_port",
              "docstring": "Mata todos os processos em uma porta (com tentativas)",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "kill_python_processes",
              "docstring": "Mata todos os processos Python do projeto",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "main",
              "docstring": null,
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "subprocess",
            "sys",
            "time",
            "traceback"
          ],
          "constants": []
        }
      },
      "diagnostico_sql_server.bat": {
        "path": "scripts\\legacy_tests\\diagnostico_sql_server.bat",
        "name": "diagnostico_sql_server.bat",
        "extension": ".bat",
        "size": 2477,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "reproduce_gemini_error.py": {
        "path": "scripts\\legacy_tests\\reproduce_gemini_error.py",
        "name": "reproduce_gemini_error.py",
        "extension": ".py",
        "size": 1588,
        "category": "source_python",
        "purpose": "Não identificado",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "os",
            "asyncio",
            "google.generativeai",
            "google.generativeai.protos",
            "dotenv"
          ],
          "constants": []
        }
      },
      "test_chat_robust.py": {
        "path": "scripts\\legacy_tests\\test_chat_robust.py",
        "name": "test_chat_robust.py",
        "extension": ".py",
        "size": 25976,
        "category": "test",
        "purpose": "Testes unitários (3 testes)",
        "details": {
          "type": "python",
          "docstring": "Testes Robustos para Chat BI e CodeChat\n========================================\n\nExecuta bateria completa de testes validando:\n- Conversação básica\n- Análises de dados complexas\n- Geração de gráficos\n- Filtros e segmentação\n- CodeChat (RAG de documentação)\n- Cache semântico\n- Sistema de feedback",
          "classes": [
            {
              "name": "Colors",
              "docstring": null,
              "methods": [],
              "bases": []
            },
            {
              "name": "ChatTester",
              "docstring": null,
              "methods": [
                {
                  "name": "__init__",
                  "docstring": null,
                  "is_async": false
                },
                {
                  "name": "_send_query",
                  "docstring": "Envia query para o chat e coleta resposta completa.",
                  "is_async": false
                },
                {
                  "name": "_validate_result",
                  "docstring": "Valida resultado de um teste.",
                  "is_async": false
                },
                {
                  "name": "test_basic_greeting",
                  "docstring": "Teste 1: Saudação básica",
                  "is_async": false
                },
                {
                  "name": "test_capabilities_question",
                  "docstring": "Teste 2: Pergunta sobre capacidades",
                  "is_async": false
                },
                {
                  "name": "test_top_products",
                  "docstring": "Teste 3: Top produtos por vendas",
                  "is_async": false
                },
                {
                  "name": "test_category_analysis",
                  "docstring": "Teste 4: Análise por categoria",
                  "is_async": false
                },
                {
                  "name": "test_segment_comparison",
                  "docstring": "Teste 5: Comparação entre segmentos",
                  "is_async": false
                },
                {
                  "name": "test_rupture_analysis",
                  "docstring": "Teste 6: Análise de rupturas",
                  "is_async": false
                },
                {
                  "name": "test_pareto_analysis",
                  "docstring": "Teste 7: Análise de Pareto (Curva ABC)",
                  "is_async": false
                },
                {
                  "name": "test_une_filter",
                  "docstring": "Teste 8: Filtro por UNE",
                  "is_async": false
                },
                {
                  "name": "test_manufacturer_filter",
                  "docstring": "Teste 9: Filtro por fabricante",
                  "is_async": false
                },
                {
                  "name": "test_bar_chart",
                  "docstring": "Teste 10: Gráfico de barras",
                  "is_async": false
                },
                {
                  "name": "test_line_chart",
                  "docstring": "Teste 11: Gráfico de linhas (tendência)",
                  "is_async": false
                },
                {
                  "name": "test_pie_chart",
                  "docstring": "Teste 12: Gráfico de pizza",
                  "is_async": false
                },
                {
                  "name": "test_empty_query",
                  "docstring": "Teste 13: Query vazia",
                  "is_async": false
                },
                {
                  "name": "test_invalid_column",
                  "docstring": "Teste 14: Query com coluna inexistente",
                  "is_async": false
                },
                {
                  "name": "test_very_large_limit",
                  "docstring": "Teste 15: Limite muito grande",
                  "is_async": false
                },
                {
                  "name": "print_summary",
                  "docstring": "Imprime resumo dos testes.",
                  "is_async": false
                }
              ],
              "bases": []
            },
            {
              "name": "CodeChatTester",
              "docstring": null,
              "methods": [
                {
                  "name": "__init__",
                  "docstring": null,
                  "is_async": false
                },
                {
                  "name": "_send_query",
                  "docstring": "Envia query para CodeChat endpoint.",
                  "is_async": false
                },
                {
                  "name": "test_architecture_question",
                  "docstring": "Teste CodeChat 1: Pergunta sobre arquitetura",
                  "is_async": false
                },
                {
                  "name": "test_api_usage_question",
                  "docstring": "Teste CodeChat 2: Como usar uma API específica",
                  "is_async": false
                },
                {
                  "name": "print_summary",
                  "docstring": "Imprime resumo dos testes CodeChat.",
                  "is_async": false
                }
              ],
              "bases": []
            }
          ],
          "functions": [
            {
              "name": "login",
              "docstring": "Faz login e retorna token JWT.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "test_semantic_cache",
              "docstring": "Testa se cache semântico está funcionando.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "main",
              "docstring": null,
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "requests",
            "json",
            "time",
            "datetime",
            "typing",
            "sys"
          ],
          "constants": [
            "BASE_URL",
            "API_V1"
          ]
        }
      },
      "test_code_chat.py": {
        "path": "scripts\\legacy_tests\\test_code_chat.py",
        "name": "test_code_chat.py",
        "extension": ".py",
        "size": 788,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "requests",
            "json"
          ],
          "constants": []
        }
      },
      "test_critical_fixes.py": {
        "path": "scripts\\legacy_tests\\test_critical_fixes.py",
        "name": "test_critical_fixes.py",
        "extension": ".py",
        "size": 6295,
        "category": "test",
        "purpose": "Testes unitários (4 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste Rápido das Correções Críticas\n====================================\n\nTesta os 3 problemas críticos corrigidos:\n1. Validação de query vazia\n2. Maximum conversation turns exceeded\n3. Cache semântico",
          "classes": [],
          "functions": [
            {
              "name": "test_empty_query",
              "docstring": "Teste 1: Query vazia deve ser rejeitada.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "test_complex_query",
              "docstring": "Teste 2: Query complexa não deve exceder turns.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "test_cache",
              "docstring": "Teste 3: Cache semântico deve funcionar.",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "main",
              "docstring": null,
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "requests",
            "time"
          ],
          "constants": [
            "BASE_URL"
          ]
        }
      },
      "test_diagnostics.py": {
        "path": "scripts\\legacy_tests\\test_diagnostics.py",
        "name": "test_diagnostics.py",
        "extension": ".py",
        "size": 2269,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Test script for SQL Server diagnostics endpoint.\nTests the connection test functionality after the PYODBC_CONNECTION_STRING fix.",
          "classes": [],
          "functions": [],
          "imports": [
            "requests",
            "json"
          ],
          "constants": []
        }
      },
      "test_kpis.py": {
        "path": "scripts\\legacy_tests\\test_kpis.py",
        "name": "test_kpis.py",
        "extension": ".py",
        "size": 1005,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "requests",
            "json",
            "sys"
          ],
          "constants": []
        }
      },
      "test_sql_connection.py": {
        "path": "scripts\\legacy_tests\\test_sql_connection.py",
        "name": "test_sql_connection.py",
        "extension": ".py",
        "size": 10674,
        "category": "test",
        "purpose": "Testes unitários (1 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste abrangente de conexão SQL Server\nUsa as credenciais do arquivo .env para testar diferentes cenários",
          "classes": [],
          "functions": [
            {
              "name": "check_port",
              "docstring": null,
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "os",
            "sys",
            "pathlib",
            "dotenv",
            "socket",
            "re",
            "pyodbc",
            "pyodbc"
          ],
          "constants": [
            "DATABASE_URL",
            "PYODBC_CONNECTION_STRING",
            "USE_SQL_SERVER"
          ]
        }
      },
      "show-logs.js": {
        "path": "scripts\\show-logs.js",
        "name": "show-logs.js",
        "extension": ".js",
        "size": 5359,
        "category": "source_javascript",
        "purpose": "* Script para visualizar logs agregados em tempo real\n * Monitora múltiplos arquivos de log e exibe com cores",
        "details": {
          "type": "javascript/typescript",
          "imports": [],
          "exports": [],
          "components": [],
          "functions": [
            "formatPrefix",
            "processLine"
          ],
          "description": "* Script para visualizar logs agregados em tempo real\n * Monitora múltiplos arquivos de log e exibe com cores"
        }
      },
      "signup_test_user.py": {
        "path": "scripts\\signup_test_user.py",
        "name": "signup_test_user.py",
        "extension": ".py",
        "size": 2202,
        "category": "test",
        "purpose": "Testes unitários (1 testes)",
        "details": {
          "type": "python",
          "docstring": "Sign up a test user in Supabase using public signup API",
          "classes": [],
          "functions": [
            {
              "name": "signup_test_user",
              "docstring": "Sign up a test user using public Supabase API",
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "sys",
            "pathlib",
            "app.core.supabase_client"
          ],
          "constants": []
        }
      },
      "test_llm_v3.py": {
        "path": "scripts\\test_llm_v3.py",
        "name": "test_llm_v3.py",
        "extension": ".py",
        "size": 1812,
        "category": "test",
        "purpose": "Testes unitários (1 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [
            {
              "name": "test_v3_connection",
              "docstring": null,
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "os",
            "sys",
            "logging",
            "pathlib",
            "dotenv",
            "app.core.llm_gemini_adapter_v3",
            "app.config.settings",
            "traceback"
          ],
          "constants": []
        }
      },
      "add_nodejs_to_path.ps1": {
        "path": "scripts\\utils\\add_nodejs_to_path.ps1",
        "name": "add_nodejs_to_path.ps1",
        "extension": ".ps1",
        "size": 2672,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "HARD_RESET_LOGIN.bat": {
        "path": "scripts\\utils\\HARD_RESET_LOGIN.bat",
        "name": "HARD_RESET_LOGIN.bat",
        "extension": ".bat",
        "size": 823,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "kill_python.bat": {
        "path": "scripts\\utils\\kill_python.bat",
        "name": "kill_python.bat",
        "extension": ".bat",
        "size": 169,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "RESET_LOGIN.ps1": {
        "path": "scripts\\utils\\RESET_LOGIN.ps1",
        "name": "RESET_LOGIN.ps1",
        "extension": ".ps1",
        "size": 1062,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "run-with-logs.bat": {
        "path": "scripts\\utils\\run-with-logs.bat",
        "name": "run-with-logs.bat",
        "extension": ".bat",
        "size": 2261,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "run.ps1": {
        "path": "scripts\\utils\\run.ps1",
        "name": "run.ps1",
        "extension": ".ps1",
        "size": 3940,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "run_backend_only.ps1": {
        "path": "scripts\\utils\\run_backend_only.ps1",
        "name": "run_backend_only.ps1",
        "extension": ".ps1",
        "size": 1943,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "start_system.ps1": {
        "path": "scripts\\utils\\start_system.ps1",
        "name": "start_system.ps1",
        "extension": ".ps1",
        "size": 3791,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "validate_changes.ps1": {
        "path": "scripts\\utils\\validate_changes.ps1",
        "name": "validate_changes.ps1",
        "extension": ".ps1",
        "size": 8991,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      }
    },
    "tests": {
      "118d1957b67043aeb872acd9ed5f8714_temp_test.csv": {
        "path": "data\\input\\118d1957b67043aeb872acd9ed5f8714_temp_test.csv",
        "name": "118d1957b67043aeb872acd9ed5f8714_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "29c3896b8bd445269e784dc4221cbaae_temp_test.csv": {
        "path": "data\\input\\29c3896b8bd445269e784dc4221cbaae_temp_test.csv",
        "name": "29c3896b8bd445269e784dc4221cbaae_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "621843dbdc0c43dd967d4ffb225839f4_temp_test.csv": {
        "path": "data\\input\\621843dbdc0c43dd967d4ffb225839f4_temp_test.csv",
        "name": "621843dbdc0c43dd967d4ffb225839f4_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "696b783d90e14857982c7988ba674038_temp_test.csv": {
        "path": "data\\input\\696b783d90e14857982c7988ba674038_temp_test.csv",
        "name": "696b783d90e14857982c7988ba674038_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "8362ccd7951c4f06aa1d3528e2810b23_temp_test.csv": {
        "path": "data\\input\\8362ccd7951c4f06aa1d3528e2810b23_temp_test.csv",
        "name": "8362ccd7951c4f06aa1d3528e2810b23_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "aaa0fde96a1443848a390e05804c6ff6_temp_test.csv": {
        "path": "data\\input\\aaa0fde96a1443848a390e05804c6ff6_temp_test.csv",
        "name": "aaa0fde96a1443848a390e05804c6ff6_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "b60c04e3270d44d5b405fad69d57e920_temp_test.csv": {
        "path": "data\\input\\b60c04e3270d44d5b405fad69d57e920_temp_test.csv",
        "name": "b60c04e3270d44d5b405fad69d57e920_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "c1ef0fb29a8c40ed91cfe29518eabfe1_temp_test.csv": {
        "path": "data\\input\\c1ef0fb29a8c40ed91cfe29518eabfe1_temp_test.csv",
        "name": "c1ef0fb29a8c40ed91cfe29518eabfe1_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "c89d14f7b08747da973468ef2dda5ea9_temp_test.csv": {
        "path": "data\\input\\c89d14f7b08747da973468ef2dda5ea9_temp_test.csv",
        "name": "c89d14f7b08747da973468ef2dda5ea9_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "d94b48625a8c4b93add4f933624cdcb7_temp_test.csv": {
        "path": "data\\input\\d94b48625a8c4b93add4f933624cdcb7_temp_test.csv",
        "name": "d94b48625a8c4b93add4f933624cdcb7_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "f374bfb5f23549b79f3de5d38ae774ff_temp_test.csv": {
        "path": "data\\input\\f374bfb5f23549b79f3de5d38ae774ff_temp_test.csv",
        "name": "f374bfb5f23549b79f3de5d38ae774ff_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "fbce5c3727a848c2a96459b8948763ea_temp_test.csv": {
        "path": "data\\input\\fbce5c3727a848c2a96459b8948763ea_temp_test.csv",
        "name": "fbce5c3727a848c2a96459b8948763ea_temp_test.csv",
        "extension": ".csv",
        "size": 19,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "test_results.txt": {
        "path": "docs\\archive\\test_results.txt",
        "name": "test_results.txt",
        "extension": ".txt",
        "size": 10245,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "test_agent_http.py": {
        "path": "test_agent_http.py",
        "name": "test_agent_http.py",
        "extension": ".py",
        "size": 5490,
        "category": "test_orphan",
        "purpose": "Agente BI: [SCRIPT DE TESTE NA RAIZ] Testes unitários (3 testes)",
        "details": {
          "type": "python",
          "docstring": "Test Script: Agent Intelligence Validation (HTTP)\nTesta se o agente responde corretamente via endpoint HTTP",
          "classes": [],
          "functions": [
            {
              "name": "login",
              "docstring": "Faz login e obtém token",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "test_query",
              "docstring": "Testa uma query e valida o tipo de resposta",
              "is_async": false,
              "decorators": []
            },
            {
              "name": "main",
              "docstring": "Executa todos os testes",
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "requests",
            "json",
            "time"
          ],
          "constants": [
            "BASE_URL",
            "TOKEN",
            "GREEN",
            "RED",
            "YELLOW",
            "BLUE",
            "RESET"
          ]
        }
      },
      "test_agent_intelligence.py": {
        "path": "test_agent_intelligence.py",
        "name": "test_agent_intelligence.py",
        "extension": ".py",
        "size": 5698,
        "category": "test_orphan",
        "purpose": "Agente BI: [SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Test Script: Agent Intelligence Validation\nTesta se o agente responde corretamente a diferentes tipos de perguntas",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "sys",
            "os",
            "pathlib",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.config.settings",
            "traceback"
          ],
          "constants": [
            "GREEN",
            "RED",
            "YELLOW",
            "RESET"
          ]
        }
      },
      "test_final_fix.py": {
        "path": "test_final_fix.py",
        "name": "test_final_fix.py",
        "extension": ".py",
        "size": 3565,
        "category": "test_orphan",
        "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste FINAL da correção do loop infinito",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "sys",
            "os",
            "pathlib",
            "app.config.settings",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "time",
            "traceback"
          ],
          "constants": []
        }
      },
      "test_oxford_direct.py": {
        "path": "test_oxford_direct.py",
        "name": "test_oxford_direct.py",
        "extension": ".py",
        "size": 2306,
        "category": "test_orphan",
        "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste DIRETO da query problemática - sem autenticação HTTP",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "sys",
            "pathlib",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings",
            "traceback"
          ],
          "constants": []
        }
      },
      "test_query_oxford.py": {
        "path": "test_query_oxford.py",
        "name": "test_query_oxford.py",
        "extension": ".py",
        "size": 2551,
        "category": "test_orphan",
        "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste rápido da query problemática reportada pelo usuário\nQuery: \"analise o grupo oxford na une 135\"",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "sys",
            "pathlib",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings",
            "traceback"
          ],
          "constants": []
        }
      },
      "test_query_oxford_simple.py": {
        "path": "test_query_oxford_simple.py",
        "name": "test_query_oxford_simple.py",
        "extension": ".py",
        "size": 2041,
        "category": "test_orphan",
        "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste simples da query problemática (sem emojis)",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "sys",
            "pathlib",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings",
            "traceback"
          ],
          "constants": []
        }
      },
      "playwright.config.ts": {
        "path": "tests\\playwright.config.ts",
        "name": "playwright.config.ts",
        "extension": ".ts",
        "size": 2277,
        "category": "source_javascript",
        "purpose": "* Playwright configuration for TestSprite-generated E2E tests\n * See https://playwright.dev/docs/test-configuration",
        "details": {
          "type": "javascript/typescript",
          "imports": [
            "@playwright/test"
          ],
          "exports": [],
          "components": [],
          "functions": [],
          "description": "* Playwright configuration for TestSprite-generated E2E tests\n * See https://playwright.dev/docs/test-configuration"
        }
      },
      "test_agent_comprehensive.py": {
        "path": "tests\\test_agent_comprehensive.py",
        "name": "test_agent_comprehensive.py",
        "extension": ".py",
        "size": 7941,
        "category": "test",
        "purpose": "Agente BI: Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Testes abrangentes do agente BI - Validacao de diferentes tipos de consultas\nTesta: Graficos, Analises Criticas, Relatorios, Consultas Comerciais, Perguntas sobre Produtos",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "logging",
            "sys",
            "pathlib",
            "datetime",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings"
          ],
          "constants": [
            "TEST_QUERIES"
          ]
        }
      },
      "test_agent_quick.py": {
        "path": "tests\\test_agent_quick.py",
        "name": "test_agent_quick.py",
        "extension": ".py",
        "size": 4315,
        "category": "test",
        "purpose": "Agente BI: Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste rapido do agente - Valida correcao do erro \"Maximum conversation turns exceeded\"\nFoca na query problematica original: \"analise o grupo oxford e me aponte as criticas\"",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "logging",
            "sys",
            "pathlib",
            "datetime",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings"
          ],
          "constants": []
        }
      },
      "test_chat_interactions.py": {
        "path": "tests\\test_chat_interactions.py",
        "name": "test_chat_interactions.py",
        "extension": ".py",
        "size": 2420,
        "category": "test",
        "purpose": "Testes unitários (3 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [
            {
              "name": "get_token",
              "docstring": null,
              "is_async": false,
              "decorators": []
            },
            {
              "name": "ask",
              "docstring": null,
              "is_async": false,
              "decorators": []
            },
            {
              "name": "main",
              "docstring": null,
              "is_async": false,
              "decorators": []
            }
          ],
          "imports": [
            "requests",
            "json",
            "sys"
          ],
          "constants": [
            "BASE_URL"
          ]
        }
      },
      "test_duckdb_performance.py": {
        "path": "tests\\test_duckdb_performance.py",
        "name": "test_duckdb_performance.py",
        "extension": ".py",
        "size": 2735,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "time",
            "os",
            "sys",
            "logging",
            "app.infrastructure.data.duckdb_adapter",
            "pyarrow"
          ],
          "constants": []
        }
      },
      "test_extreme_performance.py": {
        "path": "tests\\test_extreme_performance.py",
        "name": "test_extreme_performance.py",
        "extension": ".py",
        "size": 2579,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "time",
            "os",
            "sys",
            "logging",
            "app.infrastructure.data.duckdb_adapter"
          ],
          "constants": []
        }
      },
      "test_graph_vs_text.py": {
        "path": "tests\\test_graph_vs_text.py",
        "name": "test_graph_vs_text.py",
        "extension": ".py",
        "size": 2900,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste de validacao: Graficos vs Textos\nValida que o agente retorna o tipo correto baseado na solicitacao",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "logging",
            "sys",
            "pathlib",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings"
          ],
          "constants": []
        }
      },
      "test_performance_v2.py": {
        "path": "tests\\test_performance_v2.py",
        "name": "test_performance_v2.py",
        "extension": ".py",
        "size": 2778,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": null,
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "time",
            "os",
            "sys",
            "pandas",
            "logging",
            "app.infrastructure.data.duckdb_adapter",
            "pyarrow"
          ],
          "constants": []
        }
      },
      "test_products_selection.ts": {
        "path": "tests\\test_products_selection.ts",
        "name": "test_products_selection.ts",
        "extension": ".ts",
        "size": 1483,
        "category": "source_javascript",
        "purpose": "* Teste de seleção de Produtos para Transferências (Multi-Seleção)",
        "details": {
          "type": "javascript/typescript",
          "imports": [],
          "exports": [
            "productSelectionChecklist"
          ],
          "components": [],
          "functions": [],
          "description": "* Teste de seleção de Produtos para Transferências (Multi-Seleção)"
        }
      },
      "test_rls_data_manager.py": {
        "path": "tests\\test_rls_data_manager.py",
        "name": "test_rls_data_manager.py",
        "extension": ".py",
        "size": 1301,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste de RLS no DataSourceManager",
          "classes": [],
          "functions": [],
          "imports": [
            "sys",
            "os",
            "app.core",
            "app.core.data_source_manager"
          ],
          "constants": []
        }
      },
      "test_textual_analysis.py": {
        "path": "tests\\test_textual_analysis.py",
        "name": "test_textual_analysis.py",
        "extension": ".py",
        "size": 7138,
        "category": "test",
        "purpose": "Testes unitários (0 testes)",
        "details": {
          "type": "python",
          "docstring": "Teste de validacao da resposta textual para analises criticas\nValida se o agente retorna analise textual (nao grafico) para queries de diagnostico",
          "classes": [],
          "functions": [],
          "imports": [
            "asyncio",
            "logging",
            "sys",
            "pathlib",
            "datetime",
            "app.core.agents.caculinha_bi_agent",
            "app.core.llm_gemini_adapter",
            "app.core.utils.field_mapper",
            "app.core.agents.code_gen_agent",
            "app.config.settings"
          ],
          "constants": []
        }
      },
      "test_transfers_selection.ts": {
        "path": "tests\\test_transfers_selection.ts",
        "name": "test_transfers_selection.ts",
        "extension": ".ts",
        "size": 4734,
        "category": "source_javascript",
        "purpose": "* Teste de seleção UNE para Transferências\n * Valida comportamento de 1→1, 1→N, N→N",
        "details": {
          "type": "javascript/typescript",
          "imports": [],
          "exports": [
            "validateTransfersLogic",
            "manualChecklist"
          ],
          "components": [],
          "functions": [
            "validateTransfersLogic"
          ],
          "description": "* Teste de seleção UNE para Transferências\n * Valida comportamento de 1→1, 1→N, N→N"
        }
      },
      "verify_run_bat.ps1": {
        "path": "tests\\verify_run_bat.ps1",
        "name": "verify_run_bat.ps1",
        "extension": ".ps1",
        "size": 3224,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      }
    },
    "data": {
      "settings.local.json": {
        "path": ".claude\\settings.local.json",
        "name": "settings.local.json",
        "extension": ".json",
        "size": 857,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "permissions"
          ]
        }
      },
      "analise_projeto.json": {
        "path": "analise_projeto.json",
        "name": "analise_projeto.json",
        "extension": ".json",
        "size": 1479771,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "timestamp",
            "root_path",
            "summary",
            "directories",
            "files_by_extension",
            "large_files",
            "duplicate_files",
            "temp_files",
            "untracked_files",
            "potential_cleanup"
          ]
        }
      },
      "analise_projeto_detalhada.json": {
        "path": "analise_projeto_detalhada.json",
        "name": "analise_projeto_detalhada.json",
        "extension": ".json",
        "size": 1292026,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "timestamp",
            "root_path",
            "architecture",
            "files_detailed",
            "dependencies",
            "summary"
          ]
        }
      },
      "catalog_focused.json": {
        "path": "data\\catalog_focused.json",
        "name": "catalog_focused.json",
        "extension": ".json",
        "size": 10270,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "ADMAT.csv": {
        "path": "data\\input\\ADMAT.csv",
        "name": "ADMAT.csv",
        "extension": ".csv",
        "size": 134764,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "SEMVENDAS.csv": {
        "path": "data\\input\\SEMVENDAS.csv",
        "name": "SEMVENDAS.csv",
        "extension": ".csv",
        "size": 49787,
        "category": "data",
        "purpose": "Não identificado",
        "details": {}
      },
      "error_counts_20251108.json": {
        "path": "data\\learning\\error_counts_20251108.json",
        "name": "error_counts_20251108.json",
        "extension": ".json",
        "size": 34,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "ColumnValidationError"
          ]
        }
      },
      "error_counts_20251109.json": {
        "path": "data\\learning\\error_counts_20251109.json",
        "name": "error_counts_20251109.json",
        "extension": ".json",
        "size": 23,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "ValueError"
          ]
        }
      },
      "error_log_20251108.jsonl": {
        "path": "data\\learning\\error_log_20251108.jsonl",
        "name": "error_log_20251108.jsonl",
        "extension": ".jsonl",
        "size": 4830,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "error_log_20251109.jsonl": {
        "path": "data\\learning\\error_log_20251109.jsonl",
        "name": "error_log_20251109.jsonl",
        "extension": ".jsonl",
        "size": 25554,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "error_log_20251207.jsonl": {
        "path": "data\\learning\\error_log_20251207.jsonl",
        "name": "error_log_20251207.jsonl",
        "extension": ".jsonl",
        "size": 6268,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "successful_queries_20251108.jsonl": {
        "path": "data\\learning\\successful_queries_20251108.jsonl",
        "name": "successful_queries_20251108.jsonl",
        "extension": ".jsonl",
        "size": 34320,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "successful_queries_20251109.jsonl": {
        "path": "data\\learning\\successful_queries_20251109.jsonl",
        "name": "successful_queries_20251109.jsonl",
        "extension": ".jsonl",
        "size": 88929,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "successful_queries_20251111.jsonl": {
        "path": "data\\learning\\successful_queries_20251111.jsonl",
        "name": "successful_queries_20251111.jsonl",
        "extension": ".jsonl",
        "size": 9116,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "successful_queries_20251116.jsonl": {
        "path": "data\\learning\\successful_queries_20251116.jsonl",
        "name": "successful_queries_20251116.jsonl",
        "extension": ".jsonl",
        "size": 5176,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "successful_queries_20251120.jsonl": {
        "path": "data\\learning\\successful_queries_20251120.jsonl",
        "name": "successful_queries_20251120.jsonl",
        "extension": ".jsonl",
        "size": 23966,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "successful_queries_20251122.jsonl": {
        "path": "data\\learning\\successful_queries_20251122.jsonl",
        "name": "successful_queries_20251122.jsonl",
        "extension": ".jsonl",
        "size": 5953,
        "category": "unknown",
        "purpose": "Não identificado",
        "details": {}
      },
      "admmat.parquet": {
        "path": "data\\parquet\\admmat.parquet",
        "name": "admmat.parquet",
        "extension": ".parquet",
        "size": 63132216,
        "category": "data",
        "purpose": "Dataset Parquet (análise rápida com Polars)",
        "details": {}
      },
      "users.parquet": {
        "path": "data\\parquet\\users.parquet",
        "name": "users.parquet",
        "extension": ".parquet",
        "size": 4958,
        "category": "data",
        "purpose": "Dataset Parquet (análise rápida com Polars)",
        "details": {}
      },
      "query_examples.json": {
        "path": "data\\query_examples.json",
        "name": "query_examples.json",
        "extension": ".json",
        "size": 600925,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251108.json": {
        "path": "data\\query_history\\history_20251108.json",
        "name": "history_20251108.json",
        "extension": ".json",
        "size": 10247,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251109.json": {
        "path": "data\\query_history\\history_20251109.json",
        "name": "history_20251109.json",
        "extension": ".json",
        "size": 4626,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251111.json": {
        "path": "data\\query_history\\history_20251111.json",
        "name": "history_20251111.json",
        "extension": ".json",
        "size": 2831,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251116.json": {
        "path": "data\\query_history\\history_20251116.json",
        "name": "history_20251116.json",
        "extension": ".json",
        "size": 763,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251119.json": {
        "path": "data\\query_history\\history_20251119.json",
        "name": "history_20251119.json",
        "extension": ".json",
        "size": 6030,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251120.json": {
        "path": "data\\query_history\\history_20251120.json",
        "name": "history_20251120.json",
        "extension": ".json",
        "size": 8418,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251121.json": {
        "path": "data\\query_history\\history_20251121.json",
        "name": "history_20251121.json",
        "extension": ".json",
        "size": 1629,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "history_20251122.json": {
        "path": "data\\query_history\\history_20251122.json",
        "name": "history_20251122.json",
        "extension": ".json",
        "size": 3486,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": null
        }
      },
      "query_patterns.json": {
        "path": "data\\query_patterns.json",
        "name": "query_patterns.json",
        "extension": ".json",
        "size": 2391,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "ranking_completo_por_segmento",
            "top_n_geral",
            "top_n_por_une",
            "ruptura_por_segmento_e_une"
          ]
        }
      },
      "transferencia_20251108_102233.json": {
        "path": "data\\transferencias\\transferencia_20251108_102233.json",
        "name": "transferencia_20251108_102233.json",
        "extension": ".json",
        "size": 2187,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "timestamp",
            "usuario",
            "modo",
            "unes_origem",
            "unes_destino",
            "produtos",
            "total_produtos",
            "total_itens",
            "total_valor",
            "prioridade",
            "observacoes",
            "status"
          ]
        }
      },
      "transferencia_20251108_163027.json": {
        "path": "data\\transferencias\\transferencia_20251108_163027.json",
        "name": "transferencia_20251108_163027.json",
        "extension": ".json",
        "size": 4513,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "timestamp",
            "usuario",
            "modo",
            "unes_origem",
            "unes_destino",
            "produtos",
            "total_produtos",
            "total_itens",
            "total_valor",
            "prioridade",
            "observacoes",
            "status"
          ]
        }
      },
      "transferencia_20251109_153242.json": {
        "path": "data\\transferencias\\transferencia_20251109_153242.json",
        "name": "transferencia_20251109_153242.json",
        "extension": ".json",
        "size": 1737,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "timestamp",
            "usuario",
            "modo",
            "unes_origem",
            "unes_destino",
            "produtos",
            "total_produtos",
            "total_itens",
            "total_valor",
            "prioridade",
            "observacoes",
            "status"
          ]
        }
      },
      "package-lock.json": {
        "path": "package-lock.json",
        "name": "package-lock.json",
        "extension": ".json",
        "size": 12678,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "name",
            "version",
            "lockfileVersion",
            "requires",
            "packages"
          ]
        }
      },
      "default__vector_store.json": {
        "path": "storage\\default__vector_store.json",
        "name": "default__vector_store.json",
        "extension": ".json",
        "size": 5205244,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "embedding_dict",
            "text_id_to_ref_doc_id",
            "metadata_dict"
          ]
        }
      },
      "docstore.json": {
        "path": "storage\\docstore.json",
        "name": "docstore.json",
        "extension": ".json",
        "size": 2279930,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "docstore/metadata",
            "docstore/ref_doc_info",
            "docstore/data"
          ]
        }
      },
      "graph_store.json": {
        "path": "storage\\graph_store.json",
        "name": "graph_store.json",
        "extension": ".json",
        "size": 18,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "graph_dict"
          ]
        }
      },
      "image__vector_store.json": {
        "path": "storage\\image__vector_store.json",
        "name": "image__vector_store.json",
        "extension": ".json",
        "size": 72,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "embedding_dict",
            "text_id_to_ref_doc_id",
            "metadata_dict"
          ]
        }
      },
      "index_stats.json": {
        "path": "storage\\index_stats.json",
        "name": "index_stats.json",
        "extension": ".json",
        "size": 241,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "status",
            "total_files",
            "total_functions",
            "total_classes",
            "total_lines",
            "indexed_at",
            "languages"
          ]
        }
      },
      "index_store.json": {
        "path": "storage\\index_store.json",
        "name": "index_store.json",
        "extension": ".json",
        "size": 40819,
        "category": "data",
        "purpose": "Não identificado",
        "details": {
          "type": "json",
          "keys": [
            "index_store/data"
          ]
        }
      }
    }
  },
  "files_detailed": [
    {
      "path": ".claude\\settings.local.json",
      "name": "settings.local.json",
      "extension": ".json",
      "size": 857,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "permissions"
        ]
      }
    },
    {
      "path": ".gitattributes",
      "name": ".gitattributes",
      "extension": "",
      "size": 47,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": ".gitignore",
      "name": ".gitignore",
      "extension": "",
      "size": 1425,
      "category": "config",
      "purpose": "Arquivos ignorados pelo Git",
      "details": {}
    },
    {
      "path": "AGENT_FIX_REPORT_2025-12-28.md",
      "name": "AGENT_FIX_REPORT_2025-12-28.md",
      "extension": ".md",
      "size": 8231,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Relatorio de Correcao do Agente BI - 2025-12-28",
      "details": {
        "type": "markdown",
        "title": "Relatorio de Correcao do Agente BI - 2025-12-28",
        "sections": [
          "Problema Reportado",
          "Investigacao Realizada",
          "Correcoes Implementadas",
          "Resultados dos Testes",
          "Criticas e Problemas Remanescentes",
          "Recomendacoes de Implementacao",
          "Metricas de Sucesso",
          "Conclusao"
        ],
        "preview": "# Relatorio de Correcao do Agente BI - 2025-12-28\n\n## Problema Reportado\n\nUsuario reportou erro ao solicitar analise do grupo Oxford:"
      }
    },
    {
      "path": "analise_projeto.json",
      "name": "analise_projeto.json",
      "extension": ".json",
      "size": 1479771,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "root_path",
          "summary",
          "directories",
          "files_by_extension",
          "large_files",
          "duplicate_files",
          "temp_files",
          "untracked_files",
          "potential_cleanup"
        ]
      }
    },
    {
      "path": "analise_projeto_detalhada.json",
      "name": "analise_projeto_detalhada.json",
      "extension": ".json",
      "size": 1292026,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "root_path",
          "architecture",
          "files_detailed",
          "dependencies",
          "summary"
        ]
      }
    },
    {
      "path": "ANALISE_PROJETO_DETALHADA.md",
      "name": "ANALISE_PROJETO_DETALHADA.md",
      "extension": ".md",
      "size": 136520,
      "category": "docs",
      "purpose": "Documentação: Análise Detalhada do Projeto BI_Solution",
      "details": {
        "type": "markdown",
        "title": "Análise Detalhada do Projeto BI_Solution",
        "sections": [
          "Índice",
          "Visão Geral da Arquitetura",
          "Backend (FastAPI + Python)",
          "Frontend (SolidJS + TypeScript)",
          "Arquivos de Configuração",
          "Documentação",
          "Scripts e Utilitários",
          "Testes",
          "Dados",
          "Arquivos para Limpeza"
        ],
        "preview": "# Análise Detalhada do Projeto BI_Solution\n\n**Data da Análise:** 28/12/2025 15:06:46\n\n---"
      }
    },
    {
      "path": "analyze.bat",
      "name": "analyze.bat",
      "extension": ".bat",
      "size": 1073,
      "category": "config",
      "purpose": "Script de análise do projeto",
      "details": {}
    },
    {
      "path": "analyze_project.py",
      "name": "analyze_project.py",
      "extension": ".py",
      "size": 16245,
      "category": "script_temp",
      "purpose": "[SCRIPT TEMPORÁRIO] Não identificado",
      "details": {
        "type": "python",
        "docstring": "Script de Análise Profunda do Projeto BI_Solution\nGera relatório detalhado para identificar arquivos e pastas desnecessários",
        "classes": [
          {
            "name": "ProjectAnalyzer",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_file_hash",
                "docstring": "Calcula hash MD5 para detectar duplicatas",
                "is_async": false
              },
              {
                "name": "get_dir_size",
                "docstring": "Calcula tamanho total de um diretório",
                "is_async": false
              },
              {
                "name": "format_size",
                "docstring": "Formata tamanho em bytes para humano",
                "is_async": false
              },
              {
                "name": "analyze_directory",
                "docstring": "Analisa diretório recursivamente",
                "is_async": false
              },
              {
                "name": "analyze_file",
                "docstring": "Analisa arquivo individual",
                "is_async": false
              },
              {
                "name": "check_git_untracked",
                "docstring": "Identifica arquivos não rastreados pelo git",
                "is_async": false
              },
              {
                "name": "generate_summary",
                "docstring": "Gera resumo estatístico",
                "is_async": false
              },
              {
                "name": "generate_markdown_report",
                "docstring": "Gera relatório em Markdown",
                "is_async": false
              },
              {
                "name": "save_json_report",
                "docstring": "Salva relatório detalhado em JSON",
                "is_async": false
              },
              {
                "name": "run",
                "docstring": "Executa análise completa",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "os",
          "json",
          "pathlib",
          "datetime",
          "collections",
          "hashlib",
          "subprocess"
        ],
        "constants": []
      }
    },
    {
      "path": "analyze_project_detailed.py",
      "name": "analyze_project_detailed.py",
      "extension": ".py",
      "size": 36168,
      "category": "script_temp",
      "purpose": "[SCRIPT TEMPORÁRIO] Não identificado",
      "details": {
        "type": "python",
        "docstring": "Script de Análise PROFUNDA do Projeto BI_Solution\nDescreve a função de cada arquivo e seu papel no sistema",
        "classes": [
          {
            "name": "DetailedProjectAnalyzer",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "extract_python_info",
                "docstring": "Extrai informações detalhadas de arquivos Python",
                "is_async": false
              },
              {
                "name": "extract_javascript_info",
                "docstring": "Extrai informações de arquivos JavaScript/TypeScript",
                "is_async": false
              },
              {
                "name": "extract_json_info",
                "docstring": "Extrai informações de arquivos JSON",
                "is_async": false
              },
              {
                "name": "extract_markdown_info",
                "docstring": "Extrai informações de arquivos Markdown",
                "is_async": false
              },
              {
                "name": "get_name",
                "docstring": "Obtém nome de um nó AST",
                "is_async": false
              },
              {
                "name": "classify_file",
                "docstring": "Classifica arquivo e extrai informações relevantes",
                "is_async": false
              },
              {
                "name": "analyze_directory",
                "docstring": "Analisa diretório recursivamente com detalhes",
                "is_async": false
              },
              {
                "name": "categorize_files",
                "docstring": "Organiza arquivos por categoria e localização",
                "is_async": false
              },
              {
                "name": "generate_markdown_report",
                "docstring": "Gera relatório detalhado em Markdown",
                "is_async": false
              },
              {
                "name": "format_size",
                "docstring": "Formata tamanho em bytes",
                "is_async": false
              },
              {
                "name": "run",
                "docstring": "Executa análise completa",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "os",
          "re",
          "ast",
          "json",
          "pathlib",
          "datetime",
          "collections",
          "hashlib"
        ],
        "constants": []
      }
    },
    {
      "path": "ASYNC_RAG_IMPLEMENTATION.md",
      "name": "ASYNC_RAG_IMPLEMENTATION.md",
      "extension": ".md",
      "size": 11752,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Async RAG Implementation - Modern Python 3.11+",
      "details": {
        "type": "markdown",
        "title": "Async RAG Implementation - Modern Python 3.11+",
        "sections": [
          "O Que Foi Implementado",
          "Arquitetura",
          "Mudanças Implementadas",
          "Benefícios da Implementação",
          "Como Funciona",
          "Padrões Modernos Utilizados",
          "Testes Recomendados",
          "Monitoramento",
          "Troubleshooting",
          "Próximos Passos (Opcional)"
        ],
        "preview": "# Async RAG Implementation - Modern Python 3.11+\n**Data:** 2025-12-27\n**Status:** COMPLETO\n\n---"
      }
    },
    {
      "path": "backend\\...backend-log.txt",
      "name": "...backend-log.txt",
      "extension": ".txt",
      "size": 94,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\.env",
      "name": ".env",
      "extension": "",
      "size": 2843,
      "category": "config",
      "purpose": "Variáveis de ambiente",
      "details": {}
    },
    {
      "path": "backend\\.env.example",
      "name": ".env.example",
      "extension": ".example",
      "size": 1927,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\.env.supabase",
      "name": ".env.supabase",
      "extension": ".supabase",
      "size": 438,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\.gitignore",
      "name": ".gitignore",
      "extension": "",
      "size": 555,
      "category": "config",
      "purpose": "Arquivos ignorados pelo Git",
      "details": {}
    },
    {
      "path": "backend\\alembic.ini",
      "name": "alembic.ini",
      "extension": ".ini",
      "size": 766,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\app\\api\\dependencies.py",
      "name": "dependencies.py",
      "extension": ".py",
      "size": 16947,
      "category": "source_python",
      "purpose": "API Dependencies",
      "details": {
        "type": "python",
        "docstring": "API Dependencies\nFastAPI dependency injection utilities",
        "classes": [],
        "functions": [
          {
            "name": "require_role",
            "docstring": "Dependency to require specific roles\n\nUsage:\n    @router.get(\"/admin\")\n    async def admin_endpoint(user: User = Depends(require_role(\"admin\"))):\n        ...",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "require_permission",
            "docstring": "Dependency to require specific permission\n\nUsage:\n    @router.get(\"/reports\")\n    async def get_reports(user: User = Depends(require_permission(\"VIEW_REPORTS\"))):\n        ...",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "json",
          "uuid",
          "typing",
          "fastapi",
          "fastapi.security",
          "jose",
          "sqlalchemy.ext.asyncio",
          "app.config.database",
          "app.config.security",
          "app.infrastructure.database.models",
          "app.schemas.auth",
          "sqlalchemy",
          "polars",
          "pathlib",
          "datetime",
          "sys",
          "app.config.settings",
          "sys",
          "polars",
          "pathlib",
          "datetime",
          "polars",
          "pathlib",
          "datetime",
          "sys",
          "app.config.settings",
          "app.core.supabase_client",
          "traceback",
          "app.core.supabase_client",
          "app.core.context",
          "app.core.context",
          "app.core.context",
          "app.core.context",
          "app.core.supabase_client",
          "app.core.supabase_client"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 148,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": "Endpoints package",
        "classes": [],
        "functions": [],
        "imports": [
          "app.api.v1.endpoints"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\admin.py",
      "name": "admin.py",
      "extension": ".py",
      "size": 15512,
      "category": "source_python",
      "purpose": "Admin Endpoints",
      "details": {
        "type": "python",
        "docstring": "Admin Endpoints\nUser management, audit logs, and system settings",
        "classes": [
          {
            "name": "AdminStats",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "json",
          "typing",
          "fastapi",
          "sqlalchemy",
          "sqlalchemy.ext.asyncio",
          "pydantic",
          "app.api.dependencies",
          "app.config.security",
          "app.infrastructure.database.models",
          "app.schemas.user",
          "app.core.parquet_cache",
          "app.core.sync_service",
          "app.core.supabase_user_service",
          "polars",
          "logging",
          "app.config.settings",
          "app.config.settings",
          "app.config.settings",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\analytics.py",
      "name": "analytics.py",
      "extension": ".py",
      "size": 20324,
      "category": "source_python",
      "purpose": "Analytics Endpoints",
      "details": {
        "type": "python",
        "docstring": "Analytics Endpoints\nData analysis, metrics, export and custom queries",
        "classes": [
          {
            "name": "MetricsSummary",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ErrorTrendItem",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "TopQueryItem",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ABCDetailItem",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [
          {
            "name": "_initialize_metrics_dashboard",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "typing",
          "datetime",
          "json",
          "logging",
          "fastapi",
          "pydantic",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.core.monitoring.metrics_dashboard",
          "app.config.settings",
          "polars",
          "app.core.data_scope_service",
          "polars",
          "app.core.data_scope_service",
          "polars",
          "app.core.data_scope_service"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\auth.py",
      "name": "auth.py",
      "extension": ".py",
      "size": 10378,
      "category": "source_python",
      "purpose": "Authentication Endpoints",
      "details": {
        "type": "python",
        "docstring": "Authentication Endpoints\nLogin, logout, refresh token, and current user",
        "classes": [],
        "functions": [],
        "imports": [
          "datetime",
          "typing",
          "logging",
          "fastapi",
          "sqlalchemy",
          "sqlalchemy.ext.asyncio",
          "app.api.dependencies",
          "app.config.database",
          "app.config.security",
          "app.infrastructure.database.models",
          "app.schemas.auth",
          "app.schemas.user",
          "app.core.auth_service",
          "app.config.settings",
          "app.core.auth_service",
          "app.config.settings",
          "polars",
          "pathlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\auth_alt.py",
      "name": "auth_alt.py",
      "extension": ".py",
      "size": 3565,
      "category": "source_python",
      "purpose": "ENDPOINT DE LOGIN ALTERNATIVO - USA PYODBC DIRETO (SÍNCRONO)",
      "details": {
        "type": "python",
        "docstring": "ENDPOINT DE LOGIN ALTERNATIVO - USA PYODBC DIRETO (SÍNCRONO)\nBypass do problema com aioodbc",
        "classes": [
          {
            "name": "LoginRequest",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "UserData",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "Token",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [
          {
            "name": "login_alt",
            "docstring": "Login alternativo usando pyodbc síncrono",
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F7A020>"
            ]
          }
        ],
        "imports": [
          "fastapi",
          "pydantic",
          "pyodbc",
          "bcrypt",
          "app.config.security"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\chat.py",
      "name": "chat.py",
      "extension": ".py",
      "size": 26003,
      "category": "source_python",
      "purpose": "Chat Endpoints",
      "details": {
        "type": "python",
        "docstring": "Chat Endpoints\nBI Chat with AI assistant",
        "classes": [
          {
            "name": "ChatRequest",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "FeedbackRequest",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ChatResponse",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [
          {
            "name": "safe_json_dumps",
            "docstring": "Safely serialize any Python object to JSON string.\nHandles MapComposite, numpy types, pandas types, datetime, and other non-serializable objects.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_initialize_agents_and_llm",
            "docstring": "Lazy initialization: Executado apenas no primeiro request ao invés de no startup.\nReduz tempo de inicialização do backend de ~15s para <3s.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "typing",
          "fastapi",
          "fastapi.responses",
          "pydantic",
          "pathlib",
          "json",
          "asyncio",
          "logging",
          "sys",
          "numpy",
          "pandas",
          "decimal",
          "datetime",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.config.settings",
          "app.core.utils.response_cache",
          "app.core.utils.query_history",
          "app.core.utils.field_mapper",
          "app.core.rag.query_retriever",
          "app.core.learning.pattern_matcher",
          "app.core.agents.code_gen_agent",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.error_handler",
          "app.core.utils.session_manager",
          "app.core.utils.semantic_cache",
          "app.core.utils.response_validator",
          "app.api.dependencies",
          "asyncio",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\chat.py.backup",
      "name": "chat.py.backup",
      "extension": ".backup",
      "size": 8203,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\code_chat.py",
      "name": "code_chat.py",
      "extension": ".py",
      "size": 4455,
      "category": "source_python",
      "purpose": "Code Chat API Endpoints",
      "details": {
        "type": "python",
        "docstring": "Code Chat API Endpoints\n=======================\n\nProvides REST API for semantic code search and analysis.\n\nEndpoints:\n- GET  /api/v1/code-chat/stats - Get index statistics\n- POST /api/v1/code-chat/query - Query the codebase\n\nAuthor: Antigravity AI\nDate: 2025-12-15",
        "classes": [
          {
            "name": "ChatMessage",
            "docstring": "Chat message model.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "CodeChatRequest",
            "docstring": "Request model for code chat queries.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "CodeReference",
            "docstring": "Code reference model.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "CodeChatResponse",
            "docstring": "Response model for code chat queries.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "IndexStats",
            "docstring": "Index statistics model.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "datetime",
          "logging",
          "fastapi",
          "pydantic",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.core.code_rag_service"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\diagnostics.py",
      "name": "diagnostics.py",
      "extension": ".py",
      "size": 7040,
      "category": "source_python",
      "purpose": "Define classes: DBConfig, ConnectionTestResult",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "DBConfig",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ConnectionTestResult",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "pathlib",
          "logging",
          "fastapi",
          "pydantic",
          "app.api.dependencies",
          "app.config.settings",
          "app.infrastructure.database.models",
          "aioodbc",
          "asyncio"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\frontend_logs.py",
      "name": "frontend_logs.py",
      "extension": ".py",
      "size": 5084,
      "category": "source_python",
      "purpose": "Endpoint para receber logs do frontend",
      "details": {
        "type": "python",
        "docstring": "Endpoint para receber logs do frontend\nPermite que o frontend envie logs importantes para análise",
        "classes": [
          {
            "name": "FrontendLogEntry",
            "docstring": "Modelo para entrada de log do frontend",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "FrontendLogsRequest",
            "docstring": "Request contendo múltiplos logs do frontend",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "Config",
            "docstring": null,
            "methods": [],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "map_frontend_log_level",
            "docstring": "Mapeia níveis de log do frontend para níveis do Python logging\nFrontend: DEBUG=0, INFO=1, WARN=2, ERROR=3, CRITICAL=4\nPython: DEBUG=10, INFO=20, WARNING=30, ERROR=40, CRITICAL=50",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "typing",
          "datetime",
          "fastapi",
          "pydantic",
          "app.core.logging_config"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\health.py",
      "name": "health.py",
      "extension": ".py",
      "size": 7727,
      "category": "source_python",
      "purpose": "Health Check Endpoint with Timeout",
      "details": {
        "type": "python",
        "docstring": "Health Check Endpoint with Timeout\nProvides system health status with configurable timeout",
        "classes": [],
        "functions": [
          {
            "name": "check_environment",
            "docstring": "Check critical environment variables\n\nReturns:\n    Status dictionary for environment configuration",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "asyncio",
          "time",
          "datetime",
          "typing",
          "fastapi",
          "structlog",
          "app.config.settings",
          "app.config.database",
          "pathlib"
        ],
        "constants": [
          "HEALTH_CHECK_TIMEOUT",
          "DEPENDENCY_CHECK_INTERVAL"
        ]
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\insights.py",
      "name": "insights.py",
      "extension": ".py",
      "size": 11462,
      "category": "source_python",
      "purpose": "AI Insights Endpoints",
      "details": {
        "type": "python",
        "docstring": "AI Insights Endpoints\nProactive AI-powered business insights",
        "classes": [
          {
            "name": "InsightResponse",
            "docstring": "AI-generated insight",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "InsightsListResponse",
            "docstring": "List of insights",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "datetime",
          "logging",
          "json",
          "re",
          "polars",
          "fastapi",
          "pydantic",
          "sqlalchemy.ext.asyncio",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.core.llm_gemini_adapter_v2",
          "app.infrastructure.data.hybrid_adapter",
          "app.core.data_scope_service",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\learning.py",
      "name": "learning.py",
      "extension": ".py",
      "size": 17562,
      "category": "source_python",
      "purpose": "Define classes: FeedbackSubmission, RetrievalQuery",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "FeedbackSubmission",
            "docstring": "Modelo para submissão de feedback com continuous learning.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "RetrievalQuery",
            "docstring": "Modelo para query de retrieval.",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "pathlib",
          "json",
          "os",
          "logging",
          "polars",
          "fastapi",
          "pydantic",
          "app.api.dependencies",
          "app.core.data_scope_service",
          "app.infrastructure.database.models",
          "app.config.settings",
          "app.core.learning.continuous_learner",
          "app.core.rag.hybrid_retriever"
        ],
        "constants": [
          "FEEDBACK_PATH",
          "PATTERNS_PATH"
        ]
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\metrics.py",
      "name": "metrics.py",
      "extension": ".py",
      "size": 14302,
      "category": "source_python",
      "purpose": "Metrics Endpoints",
      "details": {
        "type": "python",
        "docstring": "Metrics Endpoints\nDashboard metrics and summary data",
        "classes": [
          {
            "name": "MetricsSummary",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "SaleItem",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "TopProduct",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "BusinessKPIs",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "fastapi",
          "pydantic",
          "sqlalchemy.ext.asyncio",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.core.data_scope_service",
          "polars",
          "logging",
          "polars",
          "logging",
          "polars",
          "logging",
          "polars",
          "logging"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\playground.py",
      "name": "playground.py",
      "extension": ".py",
      "size": 5671,
      "category": "source_python",
      "purpose": "Define classes: QueryRequest, ChatMessage, PlaygroundChatRequest",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "QueryRequest",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ChatMessage",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "PlaygroundChatRequest",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "datetime",
          "json",
          "logging",
          "polars",
          "fastapi",
          "pydantic",
          "app.api.dependencies",
          "app.core.data_scope_service",
          "app.infrastructure.database.models",
          "app.config.settings",
          "app.core.llm_gemini_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\preferences.py",
      "name": "preferences.py",
      "extension": ".py",
      "size": 8229,
      "category": "source_python",
      "purpose": "User Preferences Endpoints",
      "details": {
        "type": "python",
        "docstring": "User Preferences Endpoints\nHandles user preferences and persistent memory",
        "classes": [
          {
            "name": "PreferenceCreate",
            "docstring": "Request to create or update a preference",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "PreferenceResponse",
            "docstring": "Preference response",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "PreferenceListResponse",
            "docstring": "List of preferences",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "uuid",
          "fastapi",
          "pydantic",
          "sqlalchemy",
          "sqlalchemy.ext.asyncio",
          "app.api.dependencies",
          "app.infrastructure.database.models"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\reports.py",
      "name": "reports.py",
      "extension": ".py",
      "size": 6738,
      "category": "source_python",
      "purpose": "Reports Endpoints",
      "details": {
        "type": "python",
        "docstring": "Reports Endpoints\nCRUD operations for reports",
        "classes": [],
        "functions": [],
        "imports": [
          "uuid",
          "typing",
          "fastapi",
          "sqlalchemy",
          "sqlalchemy.ext.asyncio",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.schemas.report"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\rupturas.py",
      "name": "rupturas.py",
      "extension": ".py",
      "size": 8019,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "typing",
          "polars",
          "fastapi",
          "app.api.dependencies",
          "app.core.data_scope_service",
          "app.infrastructure.database.models",
          "logging"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\shared.py",
      "name": "shared.py",
      "extension": ".py",
      "size": 5774,
      "category": "source_python",
      "purpose": "Shared Conversations Endpoints",
      "details": {
        "type": "python",
        "docstring": "Shared Conversations Endpoints\nHandles sharing and viewing shared conversations",
        "classes": [
          {
            "name": "ShareConversationRequest",
            "docstring": "Request to share a conversation",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ShareConversationResponse",
            "docstring": "Response with share URL",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "SharedConversationView",
            "docstring": "Shared conversation data for viewing",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "secrets",
          "datetime",
          "typing",
          "uuid",
          "fastapi",
          "pydantic",
          "sqlalchemy",
          "sqlalchemy.ext.asyncio",
          "app.api.dependencies",
          "app.infrastructure.database.models"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\test.py",
      "name": "test.py",
      "extension": ".py",
      "size": 450,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Endpoint de teste SEM banco para verificar se backend funciona",
        "classes": [],
        "functions": [],
        "imports": [
          "fastapi"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\api\\v1\\endpoints\\transfers.py",
      "name": "transfers.py",
      "extension": ".py",
      "size": 16176,
      "category": "source_python",
      "purpose": "Define classes: TransferRequestPayload, TransferReportQuery, ProductSearchRequest",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "TransferRequestPayload",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "TransferReportQuery",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ProductSearchRequest",
            "docstring": null,
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "BulkTransferRequestPayload",
            "docstring": "Payload para transferências múltiplas (1→N ou N→N)",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "datetime",
          "json",
          "os",
          "pathlib",
          "fastapi",
          "pydantic",
          "app.api.dependencies",
          "app.infrastructure.database.models",
          "app.core.tools.une_tools",
          "app.core.utils.error_handler",
          "polars",
          "app.core.data_scope_service",
          "polars",
          "app.core.data_scope_service",
          "polars",
          "app.core.data_scope_service",
          "polars",
          "app.core.data_scope_service"
        ],
        "constants": [
          "TRANSFER_REQUESTS_DIR"
        ]
      }
    },
    {
      "path": "backend\\app\\api\\v1\\router.py",
      "name": "router.py",
      "extension": ".py",
      "size": 1449,
      "category": "source_python",
      "purpose": "Endpoints API: API V1 Router",
      "details": {
        "type": "python",
        "docstring": "API V1 Router\nCombines all v1 endpoints",
        "classes": [],
        "functions": [],
        "imports": [
          "fastapi",
          "app.api.v1.endpoints"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\config\\database.py",
      "name": "database.py",
      "extension": ".py",
      "size": 2297,
      "category": "source_python",
      "purpose": "Database Configuration",
      "details": {
        "type": "python",
        "docstring": "Database Configuration\nSQLAlchemy async engine and session",
        "classes": [
          {
            "name": "Base",
            "docstring": "Base class for all models",
            "methods": [],
            "bases": [
              "DeclarativeBase"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "collections.abc",
          "contextlib",
          "sqlalchemy.ext.asyncio",
          "sqlalchemy.orm",
          "app.config.settings",
          "sqlalchemy.pool"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\config\\logging_config.py",
      "name": "logging_config.py",
      "extension": ".py",
      "size": 2747,
      "category": "source_python",
      "purpose": "Logging Configuration for Agent Solution BI",
      "details": {
        "type": "python",
        "docstring": "Logging Configuration for Agent Solution BI\nCentralizes logging setup with rotation and formatting",
        "classes": [],
        "functions": [
          {
            "name": "setup_logging",
            "docstring": "Configure application logging with rotation and consistent formatting\n\nArgs:\n    log_level: Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)\n    log_file: Optional path to log file. If None, logs only to console\n    max_bytes: Maximum size of log file before rotation (default 10MB)\n    backup_count: Number of backup files to keep (default 5)\n    suppress_warnings: List of warning patterns to suppress\n\nReturns:\n    Configured logger instance",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_logger",
            "docstring": "Get a logger instance with the application's configuration\n\nArgs:\n    name: Logger name (typically __name__)\n\nReturns:\n    Logger instance",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "sys",
          "pathlib",
          "logging.handlers",
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\config\\security.py",
      "name": "security.py",
      "extension": ".py",
      "size": 2872,
      "category": "source_python",
      "purpose": "Security Configuration",
      "details": {
        "type": "python",
        "docstring": "Security Configuration\nJWT, password hashing, and authentication utilities",
        "classes": [],
        "functions": [
          {
            "name": "verify_password",
            "docstring": "Verify a password against a hash using bcrypt directly",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_password_hash",
            "docstring": "Hash a password using bcrypt directly",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "create_access_token",
            "docstring": "Create JWT access token\n\nArgs:\n    data: Data to encode in token\n    expires_delta: Token expiration time\n    \nReturns:\n    Encoded JWT token",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "create_refresh_token",
            "docstring": "Create JWT refresh token",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "decode_token",
            "docstring": "Decode and verify JWT token\n\nArgs:\n    token: JWT token to decode\n    \nReturns:\n    Decoded token payload\n    \nRaises:\n    JWTError: If token is invalid",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "datetime",
          "typing",
          "jose",
          "passlib.context",
          "app.config.settings",
          "bcrypt"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\config\\settings.py",
      "name": "settings.py",
      "extension": ".py",
      "size": 7272,
      "category": "source_python",
      "purpose": "Settings Configuration",
      "details": {
        "type": "python",
        "docstring": "Settings Configuration\nPydantic Settings with environment variables",
        "classes": [
          {
            "name": "Settings",
            "docstring": "Application settings",
            "methods": [
              {
                "name": "validate_secret_key",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "compute_pyodbc_string",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseSettings"
            ]
          }
        ],
        "functions": [
          {
            "name": "get_settings",
            "docstring": "Get cached settings instance",
            "is_async": false,
            "decorators": [
              "lru_cache"
            ]
          }
        ],
        "imports": [
          "functools",
          "typing",
          "os",
          "pydantic",
          "pydantic_settings",
          "sqlalchemy.engine"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agent_state.py",
      "name": "agent_state.py",
      "extension": ".py",
      "size": 1104,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: AgentState",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "AgentState",
            "docstring": null,
            "methods": [],
            "bases": [
              "TypedDict"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "__future__",
          "operator",
          "typing",
          "langchain_core.messages",
          "plotly.graph_objects"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agent_wrapper.py",
      "name": "agent_wrapper.py",
      "extension": ".py",
      "size": 2266,
      "category": "source_python",
      "purpose": "Agente BI: Wrapper simplificado para integração do sistema de agentes com FastAPI",
      "details": {
        "type": "python",
        "docstring": "Wrapper simplificado para integração do sistema de agentes com FastAPI",
        "classes": [
          {
            "name": "AgentWrapper",
            "docstring": "Wrapper para integrar o sistema de agentes do Agent_Business com FastAPI",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_initialize",
                "docstring": "Inicializa o sistema de agentes",
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa uma consulta usando o sistema de agentes\n\nArgs:\n    query: Pergunta do usuário\n    \nReturns:\n    dict com type e output",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_agent_wrapper",
            "docstring": "Retorna instância singleton do AgentWrapper",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "os",
          "pathlib",
          "app.core.query_processor"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 142,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "supervisor_agent",
          "tool_agent"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\base_agent.py",
      "name": "base_agent.py",
      "extension": ".py",
      "size": 3860,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: BaseAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "BaseAgent",
            "docstring": "Classe base para todos os agentes do sistema.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o agente base.\n\nArgs:\n    session_id (str): ID da sessão para persistência de estado.\n    node_client (object): Cliente para o servidor mssql-mcp-node.",
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa uma consulta do usuário.\nThis method now assumes that if node_client is used, the query is already SQL.",
                "is_async": false
              },
              {
                "name": "_process_query_with_node_client",
                "docstring": "Processa uma consulta SQL usando o NodeMCPClient.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "pandas",
          "dotenv"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\caculinha_bi_agent.py",
      "name": "caculinha_bi_agent.py",
      "extension": ".py",
      "size": 86381,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: CaculinhaBIAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "CaculinhaBIAgent",
            "docstring": "Agent responsible for Business Intelligence queries using Gemini Native Function Calling.\nReplaces the legacy keyword-based routing and CodeGenAgent fallback.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_convert_tools_to_gemini_format",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_clean_context7_violations",
                "docstring": "Remove JSON bruto e estruturas técnicas das respostas (Context7 Storytelling).\n\nArgs:\n    content: Conteúdo a limpar\n    context_type: Tipo de contexto (\"chart\", \"data\", \"analysis\", \"generic\")\n\nReturns:\n    Conteúdo limpo com narrativa natural",
                "is_async": false
              },
              {
                "name": "_clean_schema",
                "docstring": "Recursively cleans Pydantic JSON Schema for Gemini compatibility.\nRemoves 'anyOf', 'title', 'default', 'additionalProperties', and handles Optional types.",
                "is_async": false
              },
              {
                "name": "run",
                "docstring": "Executes the agent loop:\n1. Send query + tools to LLM.\n2. If LLM wants to call tool -> Execute tool -> Send result back to LLM.\n3. Repeat until LLM returns text.",
                "is_async": false
              },
              {
                "name": "_create_tool_summary",
                "docstring": "OPTIMIZATION 2025: Cria resumo compacto de tool response\nReduz tamanho do contexto enviado ao LLM em 70-90%\nRef: ChatGPT engineering - context filtering",
                "is_async": false
              },
              {
                "name": "_generate_error_response",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "logging",
          "asyncio",
          "numpy",
          "pandas",
          "decimal",
          "datetime",
          "typing",
          "app.core.tools.une_tools",
          "app.core.tools.flexible_query_tool",
          "app.core.tools.universal_chart_generator",
          "app.core.tools.chart_tools",
          "app.core.tools.semantic_search_tool",
          "app.core.rag.hybrid_retriever",
          "app.core.utils.field_mapper",
          "app.core.utils.serializers",
          "app.core.utils.tool_scoping",
          "langchain_core.language_models",
          "langchain_core.tools",
          "re"
        ],
        "constants": [
          "LANGCHAIN_AVAILABLE",
          "SYSTEM_PROMPT"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\agents\\code_gen_agent.py",
      "name": "code_gen_agent.py",
      "extension": ".py",
      "size": 15606,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: CodeGenAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "CodeGenAgent",
            "docstring": "Agent responsible for generating, validating, executing Python code for data analysis,\nand self-healing in case of errors.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_code_generation_system_prompt",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "generate_and_execute_python_code",
                "docstring": "Generates Python code based on user query and data schema, executes it,\nand returns results, including chart specifications if requested.\nIncludes self-healing for common errors.",
                "is_async": false
              },
              {
                "name": "_get_few_shot_examples",
                "docstring": "Combines pattern matching and RAG to provide few-shot examples.\nT2.3.1: Integrate with PatternMatcher (few-shot) and QueryRetriever (RAG).",
                "is_async": false
              },
              {
                "name": "_validate_and_heal_code",
                "docstring": "T2.3.2: Implement validation for 'top N' and T2.3.3: auto-recovery of common errors.",
                "is_async": false
              },
              {
                "name": "_validate_top_n",
                "docstring": "Detects \"top N\" or similar phrases in the user query and ensures\n'.head(N)' or '.tail(N)' is applied to the final result if relevant.",
                "is_async": false
              },
              {
                "name": "_attempt_auto_healing",
                "docstring": "Implements basic self-healing for common code errors.\nThis is a very simplistic example and would be more sophisticated with LLM interaction.",
                "is_async": false
              },
              {
                "name": "_safely_execute_code",
                "docstring": "Executes the generated Python code in a safe environment.\nThis is a critical component for security.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "_load_prompt_template",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87FBB640>"
            ]
          }
        ],
        "imports": [
          "json",
          "re",
          "logging",
          "typing",
          "os",
          "functools",
          "app.core.utils.field_mapper",
          "app.core.utils.error_handler",
          "app.core.utils.query_history",
          "app.core.utils.response_cache",
          "app.config.settings",
          "app.core.learning.pattern_matcher",
          "app.core.rag.query_retriever",
          "langchain_core.language_models",
          "langchain_core.prompts",
          "langchain_core.output_parsers",
          "langchain_core.runnables",
          "polars",
          "app.core.tools.une_tools"
        ],
        "constants": [
          "LANGCHAIN_AVAILABLE"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\agents\\developer_agent.py",
      "name": "developer_agent.py",
      "extension": ".py",
      "size": 4781,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: DeveloperAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "DeveloperAgent",
            "docstring": "Agente especializado em desenvolvimento de código.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o Agente de Desenvolvimento.\n\nArgs:\n    session_id (str): ID da sessão para persistência de estado.\n    use_mock_data (bool): Flag para usar dados mockados.\n    mcp_adapter (object): Adaptador MCP para SQL Server.",
                "is_async": false
              },
              {
                "name": "_load_prompts",
                "docstring": "Carrega os prompts do arquivo ou usa um fallback.",
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa uma consulta com foco em desenvolvimento de código.\n\nArgs:\n    query (str): A consulta do usuário.\n\nReturns:\n    dict: Resposta processada.",
                "is_async": false
              },
              {
                "name": "_is_relevant_query",
                "docstring": "Verifica se a consulta é relevante para este agente.",
                "is_async": false
              },
              {
                "name": "_should_suggest_improvements",
                "docstring": "Verifica se deve sugerir melhorias de código.",
                "is_async": false
              }
            ],
            "bases": [
              "BaseAgent"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "base_agent",
          "prompt_loader"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\multi_step_agent.py",
      "name": "multi_step_agent.py",
      "extension": ".py",
      "size": 10095,
      "category": "source_python",
      "purpose": "Agente BI: LangGraph Multi-Step Agent - Workflow cíclico para raciocínio avançado",
      "details": {
        "type": "python",
        "docstring": "LangGraph Multi-Step Agent - Workflow cíclico para raciocínio avançado\nImplementa: Planner → Executor → Validator → (loop se necessário)",
        "classes": [
          {
            "name": "AgentState",
            "docstring": "Estado do agente durante execução do workflow.",
            "methods": [],
            "bases": [
              "TypedDict"
            ]
          },
          {
            "name": "MultiStepAgent",
            "docstring": "Agente multi-step com workflow cíclico.\n\nWorkflow:\n1. Planner: Analisa query e define estratégia\n2. Executor: Executa ferramentas necessárias\n3. Validator: Valida resultado e decide se precisa retry\n4. (Loop): Se necessário, refina e tenta novamente",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Args:\n    agent: Agente base (CaculinhaBIAgent)\n    validator: Validador de respostas (opcional)",
                "is_async": false
              },
              {
                "name": "_build_graph",
                "docstring": "Constrói o grafo de estados do workflow.",
                "is_async": false
              },
              {
                "name": "_planner_node",
                "docstring": "Node de planejamento: analisa query e define estratégia.",
                "is_async": false
              },
              {
                "name": "_executor_node",
                "docstring": "Node de execução: chama o agente base.",
                "is_async": false
              },
              {
                "name": "_validator_node",
                "docstring": "Node de validação: verifica qualidade da resposta.",
                "is_async": false
              },
              {
                "name": "_should_retry",
                "docstring": "Decide se deve fazer retry ou finalizar.",
                "is_async": false
              },
              {
                "name": "run",
                "docstring": "Executa workflow multi-step.\n\nArgs:\n    query: Pergunta do usuário\n    chat_history: Histórico de chat (opcional)\n    \nReturns:\n    Resultado do agente",
                "is_async": false
              },
              {
                "name": "_run_simple",
                "docstring": "Implementação simplificada sem LangGraph.",
                "is_async": false
              },
              {
                "name": "get_stats",
                "docstring": "Retorna estatísticas do agente.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "create_multi_step_agent",
            "docstring": "Cria instância do MultiStepAgent.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "typing",
          "dataclasses",
          "operator",
          "langgraph.graph"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\product_agent.py",
      "name": "product_agent.py",
      "extension": ".py",
      "size": 14551,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: ProductAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "ProductAgent",
            "docstring": "Agente para consulta e análise de produtos, usando apenas Parquet.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_load_catalog",
                "docstring": "Carrega o catálogo de dados enriquecido.",
                "is_async": false
              },
              {
                "name": "search_products",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_build_prompt_for_filter_extraction",
                "docstring": "Constrói o prompt para o LLM extrair filtros da query do usuário.",
                "is_async": false
              },
              {
                "name": "_simulate_llm_filter_extraction",
                "docstring": "Função de simulação para demonstrar a extração de filtros. Substituir por uma chamada real ao LLM.",
                "is_async": false
              },
              {
                "name": "get_product_details",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_columns_info",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "analyze_product_performance",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_sales_history",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "re",
          "pandas",
          "app.core.utils.db_utils",
          "json",
          "app.core.agents.caculinha_bi_agent"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\prompt_loader.py",
      "name": "prompt_loader.py",
      "extension": ".py",
      "size": 4758,
      "category": "source_python",
      "purpose": "Define classes: PromptLoader",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "PromptLoader",
            "docstring": "Classe responsável por carregar prompts externos em formato JSON",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o carregador de prompts\n\nArgs:\n    prompts_dir (str): Diretório onde os arquivos de prompt estão localizados",
                "is_async": false
              },
              {
                "name": "load_prompt",
                "docstring": "Carrega um prompt específico pelo nome do arquivo\n\nArgs:\n    prompt_name (str): Nome do arquivo de prompt (sem extensão)\n\nReturns:\n    dict: Conteúdo do prompt carregado ou None se ocorrer erro",
                "is_async": false
              },
              {
                "name": "list_available_prompts",
                "docstring": "Lista todos os prompts disponíveis no diretório\n\nReturns:\n    list: Lista de nomes de arquivos de prompt disponíveis",
                "is_async": false
              },
              {
                "name": "save_prompt",
                "docstring": "Salva um prompt em formato JSON\n\nArgs:\n    prompt_name (str): Nome do arquivo de prompt (sem extensão)\n    prompt_data (dict): Dados do prompt a serem salvos\n\nReturns:\n    bool: True se o prompt foi salvo com sucesso, False caso contrário",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "logging",
          "os",
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\supervisor_agent.py",
      "name": "supervisor_agent.py",
      "extension": ".py",
      "size": 4125,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: SupervisorAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "SupervisorAgent",
            "docstring": "Agente supervisor simplificado que roteia consultas para o ToolAgent.\nREMOVIDA importação circular com tool_agent.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o supervisor.\nNOTA: ToolAgent agora é inicializado sob demanda para evitar importação circular.",
                "is_async": false
              },
              {
                "name": "tool_agent",
                "docstring": "Lazy initialization do ToolAgent para evitar importação circular.",
                "is_async": false
              },
              {
                "name": "_detect_chart_intent",
                "docstring": "Detecta se a consulta tem intenção de gerar gráficos.\n\nArgs:\n    query: Consulta do usuário\n\nReturns:\n    True se detecta intenção de gráfico, False caso contrário",
                "is_async": false
              },
              {
                "name": "route_query",
                "docstring": "Roteia a consulta para o ToolAgent.\n\nArgs:\n    query: Consulta do usuário\n\nReturns:\n    Resposta do ToolAgent",
                "is_async": false
              },
              {
                "name": "stream_query",
                "docstring": "Roteia a consulta para o ToolAgent com streaming.\n\nArgs:\n    query: Consulta do usuário\n\nYields:\n    dict: Eventos do agente (chunks de texto, ações, etc.)",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "typing",
          "app.core.agents.tool_agent"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\agents\\tool_agent.py",
      "name": "tool_agent.py",
      "extension": ".py",
      "size": 9172,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: ToolAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "ToolAgent",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_create_agent_executor",
                "docstring": "Cria e retorna um AgentExecutor com agente de ferramentas.",
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa a query do usuário usando o agente LangChain.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "initialize_agent_for_session",
            "docstring": "Função de fábrica para inicializar o agente.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "sys",
          "os",
          "typing",
          "app.core.llm_base",
          "app.core.llm_gemini_adapter",
          "app.core.llm_langchain_adapter",
          "app.core.utils.response_parser",
          "app.core.utils.chart_saver",
          "app.core.tools.unified_data_tools",
          "app.core.tools.date_time_tools",
          "app.core.tools.chart_tools",
          "langchain_core.prompts",
          "langchain_core.messages",
          "langchain_core.runnables",
          "langchain_core.agents",
          "transformers",
          "langchain.agents",
          "langchain_classic.agents",
          "traceback"
        ],
        "constants": [
          "LANGCHAIN_AVAILABLE"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\auth_service.py",
      "name": "auth_service.py",
      "extension": ".py",
      "size": 14607,
      "category": "source_python",
      "purpose": "Define classes: AuthService",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "AuthService",
            "docstring": "Authentication service with intelligent fallback.\n\nPriority:\n1. SQL Server (if USE_SQL_SERVER=true and available)\n2. Parquet (fallback or when SQL Server disabled)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_verify_password",
                "docstring": "Verify password using bcrypt",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "pathlib",
          "typing",
          "datetime",
          "json",
          "polars",
          "bcrypt",
          "sqlalchemy.ext.asyncio",
          "sqlalchemy",
          "app.config.settings",
          "app.infrastructure.database.models",
          "app.core.supabase_client",
          "supabase",
          "app.core.supabase_client",
          "sqlalchemy",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\cache.py",
      "name": "cache.py",
      "extension": ".py",
      "size": 8501,
      "category": "source_python",
      "purpose": "Agent Graph Cache",
      "details": {
        "type": "python",
        "docstring": "Agent Graph Cache\nManages caching of agent graphs, both in-memory and on disk, with versioning.",
        "classes": [
          {
            "name": "AgentGraphCache",
            "docstring": "A hybrid in-memory and on-disk cache specifically for agent graphs.\nSupports versioning for automatic invalidation and TTL.\n(T6.1.1 from TASK_LIST)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_cache_file_path",
                "docstring": "Generates a file path for a given cache key.",
                "is_async": false
              },
              {
                "name": "_get_current_version",
                "docstring": "Generates a hash representing the current version of the agent's code/config.\nThis hash is used to invalidate the cache if agent logic changes.\n(T6.1.4 from TASK_LIST)",
                "is_async": false
              },
              {
                "name": "_load_from_disk",
                "docstring": "Loads a single cache entry from disk.",
                "is_async": false
              },
              {
                "name": "_save_to_disk",
                "docstring": "Saves a single cache entry to disk.",
                "is_async": false
              },
              {
                "name": "_load_all_from_disk",
                "docstring": "Loads all valid cache entries from disk into memory on startup.",
                "is_async": false
              },
              {
                "name": "get",
                "docstring": "Gets an entry from the cache (memory first, then disk).\nChecks for expiration and version compatibility.",
                "is_async": false
              },
              {
                "name": "set",
                "docstring": "Sets an entry in the cache (both in-memory and on disk).",
                "is_async": false
              },
              {
                "name": "clear",
                "docstring": "Clears a specific key or the entire cache.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "time",
          "json",
          "os",
          "hashlib",
          "typing",
          "datetime",
          "app.config.settings",
          "time"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\code_rag_service.py",
      "name": "code_rag_service.py",
      "extension": ".py",
      "size": 10985,
      "category": "source_python",
      "purpose": "Code RAG Service - Semantic Code Search with LlamaIndex + Gemini",
      "details": {
        "type": "python",
        "docstring": "Code RAG Service - Semantic Code Search with LlamaIndex + Gemini\n================================================================\n\nProvides semantic search and analysis of the entire codebase using:\n- LlamaIndex for RAG (Retrieval-Augmented Generation)\n- Gemini 3.0 Flash for LLM\n- GeminiEmbedding for semantic search\n- FAISS for vector storage\n\nAuthor: Antigravity AI\nDate: 2025-12-15",
        "classes": [
          {
            "name": "CodeRAGService",
            "docstring": "Service for semantic code search and analysis using RAG.\n\nFeatures:\n- Semantic search across entire codebase\n- Context-aware code analysis\n- Intelligent code suggestions\n- Multi-language support (Python, TypeScript, etc.)",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Initialize the RAG service with lazy loading.",
                "is_async": false
              },
              {
                "name": "_ensure_initialized",
                "docstring": "Lazy initialization of the RAG engine.\nOnly loads when first query is made.\n\nReturns:\n    bool: True if initialized successfully",
                "is_async": false
              },
              {
                "name": "get_index_stats",
                "docstring": "Get statistics about the code index.\n\nReturns:\n    Dict with index statistics",
                "is_async": false
              },
              {
                "name": "query",
                "docstring": "Query the codebase with semantic search.\n\nArgs:\n    message: User's question about the code\n    history: Previous conversation history\n    filters: Optional filters (language, directory, etc.)\n    \nReturns:\n    Dict with response, code references, and metadata",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_code_rag_service",
            "docstring": "Get or create the singleton CodeRAGService instance.\n\nReturns:\n    CodeRAGService instance",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "json",
          "logging",
          "pathlib",
          "typing",
          "datetime",
          "app.config.settings",
          "llama_index.core",
          "llama_index.core.storage",
          "llama_index.llms.gemini",
          "llama_index.embeddings.gemini",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\context.py",
      "name": "context.py",
      "extension": ".py",
      "size": 904,
      "category": "source_python",
      "purpose": "Funções: set_current_user_context, get_current_user_context, get_current_user_segments",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "set_current_user_context",
            "docstring": "Set the user for the current request context.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_current_user_context",
            "docstring": "Get the user from the current request context.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_current_user_segments",
            "docstring": "Get allowed segments for the current user safely.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "contextvars",
          "typing",
          "app.infrastructure.database.models"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\data_scope_service.py",
      "name": "data_scope_service.py",
      "extension": ".py",
      "size": 7439,
      "category": "source_python",
      "purpose": "Define classes: DataScopeService",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "DataScopeService",
            "docstring": "Serviço para filtrar DataFrames baseados nas permissões de segmento do usuário.\nGarante que cada usuário veja apenas os dados aos quais tem acesso.\n\nPERFORMANCE UPDATE: Uses LazyFrame (scan_parquet) to avoid loading full dataset into memory.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_base_lazyframe",
                "docstring": "Returns a base LazyFrame with global filters applied.\nWORKAROUND: Uses read_parquet().lazy() instead of scan_parquet() \nto avoid 'assertion left == right failed' panic in streaming engine (Polars 1.34.0).",
                "is_async": false
              },
              {
                "name": "get_filtered_dataframe",
                "docstring": "Retorna o DataFrame admmat.parquet filtrado pelos allowed_segments do usuário.\n\nArgs:\n    user: Usuário autenticado\n    max_rows: Limite máximo de linhas a retornar (None = sem limite)\n    \nReturns:\n    pl.DataFrame: The collected filtered data.",
                "is_async": false
              },
              {
                "name": "get_filtered_lazyframe",
                "docstring": "Retorna um LazyFrame com os filtros de segurança aplicados, mas SEM coletar os dados.\nPermite que os endpoints façam agregações otimizadas antes de trazer dados para a memória.",
                "is_async": false
              },
              {
                "name": "_get_empty_lazyframe",
                "docstring": "Helper para retornar LazyFrame vazio preservando schema",
                "is_async": false
              },
              {
                "name": "get_user_segments",
                "docstring": "Retorna a lista de segmentos únicos disponíveis para o usuário.\nSe admin, faz um scan rápido para pegar valores únicos.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "polars",
          "logging",
          "time",
          "typing",
          "pathlib",
          "app.infrastructure.database.models.user",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\data_source_manager.py",
      "name": "data_source_manager.py",
      "extension": ".py",
      "size": 8477,
      "category": "source_python",
      "purpose": "Data Source Manager - Acesso centralizado aos dados Parquet",
      "details": {
        "type": "python",
        "docstring": "Data Source Manager - Acesso centralizado aos dados Parquet\nAdaptado para Agent Solution BI: admmat.parquet",
        "classes": [
          {
            "name": "ParquetDataSource",
            "docstring": "Acesso centralizado ao arquivo admmat.parquet.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "connect",
                "docstring": "Verifica se arquivo Parquet existe.",
                "is_async": false
              },
              {
                "name": "is_connected",
                "docstring": "Verifica se está conectado.",
                "is_async": false
              },
              {
                "name": "_load_data",
                "docstring": "Carrega os dados do arquivo Parquet usando ParquetCache global.\n[OK]: OTIMIZADO: Usa cache global ao invés de cache local.",
                "is_async": false
              },
              {
                "name": "get_data",
                "docstring": "Obtém todos os dados ou limitados.\nSECURITY 2025: Aplica Row-Level Security (RLS) automaticamente.",
                "is_async": false
              },
              {
                "name": "search",
                "docstring": "Busca em uma coluna.",
                "is_async": false
              },
              {
                "name": "get_filtered_data",
                "docstring": "Busca com filtros exatos.",
                "is_async": false
              },
              {
                "name": "get_columns",
                "docstring": "Retorna lista de colunas.",
                "is_async": false
              },
              {
                "name": "get_shape",
                "docstring": "Retorna dimensões dos dados.",
                "is_async": false
              },
              {
                "name": "get_info",
                "docstring": "Retorna informações sobre os dados.",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "DataSourceManager",
            "docstring": "Gerenciador de fonte de dados centralizado.\nAcessa: data/parquet/admmat.parquet",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_data",
                "docstring": "Obtém dados (table_name é ignorado).",
                "is_async": false
              },
              {
                "name": "search_data",
                "docstring": "Busca dados em coluna especificada.",
                "is_async": false
              },
              {
                "name": "get_filtered_data",
                "docstring": "Busca com filtros.",
                "is_async": false
              },
              {
                "name": "execute_query",
                "docstring": "Não suportado para Parquet.",
                "is_async": false
              },
              {
                "name": "get_available_sources",
                "docstring": "Retorna fontes disponíveis.",
                "is_async": false
              },
              {
                "name": "get_source_info",
                "docstring": "Retorna informações da fonte.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_data_manager",
            "docstring": "Retorna instância singleton do DataSourceManager.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "pandas",
          "pathlib",
          "typing",
          "app.core.parquet_cache",
          "app.core.context"
        ],
        "constants": [
          "PROJECT_ROOT",
          "MAIN_DATA_FILE"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\factory\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 18,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\factory\\component_factory.py",
      "name": "component_factory.py",
      "extension": ".py",
      "size": 1903,
      "category": "source_python",
      "purpose": "Fábrica de Componentes",
      "details": {
        "type": "python",
        "docstring": "Fábrica de Componentes\n\nEste módulo implementa o padrão Factory para criar e gerenciar instâncias\ndos diversos componentes do sistema, facilitando a integração entre eles\ne reduzindo o acoplamento.",
        "classes": [
          {
            "name": "ComponentFactory",
            "docstring": "Fábrica para criar e gerenciar componentes do sistema",
            "methods": [
              {
                "name": "get_data_adapter",
                "docstring": "Obtém uma instância do adaptador de dados híbrido",
                "is_async": false
              },
              {
                "name": "reset_component",
                "docstring": "Reinicia um componente específico, removendo sua instância atual\n\nArgs:\n    component_name (str): Nome do componente a ser reiniciado\n\nReturns:\n    bool: True se o componente foi reiniciado com sucesso, False caso contrário",
                "is_async": false
              },
              {
                "name": "reset_all",
                "docstring": "Reinicia todos os componentes, removendo todas as instâncias atuais",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "typing",
          "app.infrastructure.data.hybrid_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\graph\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 446,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "logging"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\graph\\agent.py",
      "name": "agent.py",
      "extension": ".py",
      "size": 3473,
      "category": "source_python",
      "purpose": "Agente BI: Define classes: GraphAgent",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "GraphAgent",
            "docstring": "Agente principal do grafo, responsável por orquestrar o LLM e as ferramentas.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o agente.\n\nArgs:\n    llm (BaseChatModel, optional): O modelo de linguagem a ser usado.\n    tools (list, optional): A lista de ferramentas disponíveis.",
                "is_async": false
              },
              {
                "name": "_get_system_prompt_template",
                "docstring": "Retorna o template do prompt do sistema.",
                "is_async": false
              },
              {
                "name": "_create_agent_runnable",
                "docstring": "Cria o 'Agent Runnable' com as ferramentas vinculadas.",
                "is_async": false
              },
              {
                "name": "process",
                "docstring": "Processa uma lista de mensagens através do agente.\n\nArgs:\n    messages (list): A lista de mensagens da conversa.\n\nReturns:\n    A resposta do agente.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "langchain_core.prompts",
          "llm_factory",
          "llm_langchain_adapter",
          "tools.sql_server_tools"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\intelligent_chatbi.py",
      "name": "intelligent_chatbi.py",
      "extension": ".py",
      "size": 7104,
      "category": "source_python",
      "purpose": "Chat BI - Sistema Inteligente com Gemini",
      "details": {
        "type": "python",
        "docstring": "Chat BI - Sistema Inteligente com Gemini\nSolução definitiva para processar perguntas em linguagem natural",
        "classes": [
          {
            "name": "IntelligentChatBI",
            "docstring": "Sistema inteligente de Chat BI usando Gemini para NL2SQL",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_load_schema",
                "docstring": "Carrega schema do Parquet para contexto",
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa pergunta do usuário usando Gemini\nRetorna resposta estruturada com dados e texto",
                "is_async": false
              },
              {
                "name": "_format_response",
                "docstring": "Formata resposta baseado no template",
                "is_async": false
              },
              {
                "name": "_fallback_response",
                "docstring": "Resposta de fallback quando Gemini falha",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "google.generativeai",
          "polars",
          "pathlib",
          "json",
          "re",
          "typing",
          "os",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\learning\\continuous_learner.py",
      "name": "continuous_learner.py",
      "extension": ".py",
      "size": 19807,
      "category": "source_python",
      "purpose": "Sistema de Aprendizado Contínuo para LLM",
      "details": {
        "type": "python",
        "docstring": "Sistema de Aprendizado Contínuo para LLM\n=========================================\n\nImplementa Online Feedback Loop moderno (2025) que transforma feedback passivo\nem melhoria ativa do modelo através de:\n- Coleta inteligente de feedback\n- Golden dataset curation\n- Prompt re-optimization automática\n- Low-confidence routing para supervisão humana\n\nAuthor: Agent BI Team\nDate: 2025-12-27",
        "classes": [
          {
            "name": "ContinuousLearner",
            "docstring": "Sistema de aprendizado contínuo que processa feedback do usuário\ne automaticamente melhora a qualidade das respostas.\n\nInspirado em: Lemma (YC 2025) e best practices de LLMOps 2025",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o Continuous Learner.\n\nArgs:\n    golden_dataset_path: Caminho para armazenar golden dataset\n    feedback_buffer_size: Tamanho do buffer antes de re-otimizar\n    confidence_threshold: Threshold para routing humano (< 0.7 = baixa confiança)\n    auto_optimize: Se True, re-otimiza prompts automaticamente",
                "is_async": false
              },
              {
                "name": "_calculate_review_priority",
                "docstring": "Calcula prioridade de review (high/medium/low).\n\nHigh priority:\n- Confiança < 0.5\n- Feedback negativo com comentário\n- Erro detectado",
                "is_async": false
              },
              {
                "name": "_identify_error_patterns",
                "docstring": "Identifica padrões comuns em feedback negativo.\n\nAnalisa:\n- Keywords frequentes em queries problemáticas\n- Tipos de erro comuns\n- Comentários dos usuários",
                "is_async": false
              },
              {
                "name": "_select_best_few_shot_examples",
                "docstring": "Seleciona os melhores exemplos para few-shot learning.\n\nCritérios:\n- Alta confiança\n- Queries diversas (evitar duplicatas)\n- Respostas completas",
                "is_async": false
              },
              {
                "name": "_generate_optimization_suggestions",
                "docstring": "Gera sugestões concretas de otimização baseadas nos padrões de erro.",
                "is_async": false
              },
              {
                "name": "_extract_tags",
                "docstring": "Extrai tags automáticas de uma query para categorização.\n\nExemplos:\n- \"vendas por segmento\" → ['vendas', 'segmento', 'analise']\n- \"estoque crítico\" → ['estoque', 'ruptura', 'alerta']",
                "is_async": false
              },
              {
                "name": "_extract_keywords",
                "docstring": "Extrai keywords principais de um texto.",
                "is_async": false
              },
              {
                "name": "get_golden_dataset_stats",
                "docstring": "Retorna estatísticas do golden dataset.",
                "is_async": false
              },
              {
                "name": "get_pending_reviews",
                "docstring": "Retorna itens pendentes de review humano, ordenados por prioridade.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_continuous_learner",
            "docstring": "Retorna instância singleton do ContinuousLearner.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "json",
          "os",
          "logging",
          "datetime",
          "pathlib",
          "typing",
          "collections",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\learning\\feedback_system.py",
      "name": "feedback_system.py",
      "extension": ".py",
      "size": 9048,
      "category": "source_python",
      "purpose": "Sistema de coleta e análise de feedback do usuário.",
      "details": {
        "type": "python",
        "docstring": "Sistema de coleta e análise de feedback do usuário.",
        "classes": [
          {
            "name": "FeedbackSystem",
            "docstring": "Sistema para coletar, armazenar e analisar feedback do usuário\nsobre queries e respostas do sistema.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o sistema de feedback.\n\nArgs:\n    feedback_dir: Diretório para armazenar feedback (opcional)",
                "is_async": false
              },
              {
                "name": "record_feedback",
                "docstring": "Registra feedback do usuário sobre uma query.\n\nArgs:\n    query: Query original do usuário\n    code: Código gerado\n    feedback_type: 'positive', 'negative', ou 'partial'\n    user_comment: Comentário adicional do usuário (opcional)\n    result_rows: Número de linhas retornadas\n    session_id: ID da sessão (opcional)\n    user_id: ID do usuário (opcional)\n\nReturns:\n    True se salvou com sucesso",
                "is_async": false
              },
              {
                "name": "get_feedback_stats",
                "docstring": "Calcula estatísticas de feedback dos últimos N dias.\n\nArgs:\n    days: Número de dias para analisar\n\nReturns:\n    Dicionário com estatísticas",
                "is_async": false
              },
              {
                "name": "get_problematic_queries",
                "docstring": "Retorna queries que receberam mais feedback negativo.\n\nArgs:\n    limit: Número máximo de queries a retornar\n\nReturns:\n    Lista de queries problemáticas",
                "is_async": false
              },
              {
                "name": "export_feedback_for_training",
                "docstring": "Exporta feedback positivo para treinar o sistema (RAG/few-shot).\n\nArgs:\n    output_file: Arquivo de saída (opcional)\n\nReturns:\n    True se exportou com sucesso",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "os",
          "logging",
          "datetime",
          "typing",
          "datetime",
          "collections"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\learning\\pattern_matcher.py",
      "name": "pattern_matcher.py",
      "extension": ".py",
      "size": 3268,
      "category": "source_python",
      "purpose": "Define classes: PatternMatcher",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "PatternMatcher",
            "docstring": "Detects known query patterns and provides few-shot examples for code generation.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_load_patterns",
                "docstring": "Loads pre-defined patterns and their associated example code/structure.",
                "is_async": false
              },
              {
                "name": "match_pattern",
                "docstring": "Attempts to match the user query against known patterns.\nReturns the pattern with example code if a match is found.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\llm_base.py",
      "name": "llm_base.py",
      "extension": ".py",
      "size": 155,
      "category": "source_python",
      "purpose": "Define classes: BaseLLMAdapter",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "BaseLLMAdapter",
            "docstring": null,
            "methods": [
              {
                "name": "get_completion",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "ABC"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "abc"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\llm_factory.py",
      "name": "llm_factory.py",
      "extension": ".py",
      "size": 3119,
      "category": "source_python",
      "purpose": "Factory para seleção automática de adaptadores LLM.",
      "details": {
        "type": "python",
        "docstring": "Factory para seleção automática de adaptadores LLM.",
        "classes": [
          {
            "name": "LLMFactory",
            "docstring": "Factory pattern para criar adaptadores LLM.",
            "methods": [
              {
                "name": "__new__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_adapter",
                "docstring": "Obtém o adaptador LLM configurado (apenas Gemini).\n\nReturns:\n    BaseLLMAdapter: Adaptador LLM inicializado\n\nRaises:\n    ValueError: Se o adaptador Gemini não puder ser inicializado",
                "is_async": false
              },
              {
                "name": "_get_gemini_adapter",
                "docstring": "Tenta inicializar adaptador Gemini.",
                "is_async": false
              },
              {
                "name": "reset",
                "docstring": "Reseta o adaptador cache (útil para testes).",
                "is_async": false
              },
              {
                "name": "get_available_providers",
                "docstring": "Verifica quais provedores estão disponíveis.\n\nReturns:\n    dict: {'gemini': bool}",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "typing",
          "app.config.settings",
          "app.core.llm_base",
          "app.core.llm_gemini_adapter",
          "app.core.llm_gemini_adapter_v3"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\llm_gemini_adapter.py",
      "name": "llm_gemini_adapter.py",
      "extension": ".py",
      "size": 30024,
      "category": "source_python",
      "purpose": "Adaptador de dados: Define classes: GeminiLLMAdapter",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "GeminiLLMAdapter",
            "docstring": "Adaptador para Google Gemini API.\nImplementa padrão similar ao OpenAI com retry automático e tratamento de erros.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_llm",
                "docstring": "Returns a LangChain-compatible ChatGoogleGenerativeAI instance.\nThis method is required by chat.py endpoint for agent initialization.\nFalls back to self if langchain-google-genai is not available.",
                "is_async": false
              },
              {
                "name": "invoke",
                "docstring": "Implementation of the LangChain Runnable invoke protocol.\nAllows the adapter to be used directly in LangChain sequences.",
                "is_async": false
              },
              {
                "name": "get_completion",
                "docstring": "Obtém completion da API Gemini com retry automático.\n\nMODIFICAÇÃO (Gemini 3 + REST):\nSe o modelo for 'gemini-3-flash-preview', usa a implementação REST direta (_generate_via_rest)\npara garantir suporte a 'thought_signature', que é filtrado pela biblioteca 'google-generativeai' (depreciada).",
                "is_async": false
              },
              {
                "name": "_generate_via_rest",
                "docstring": "Fallback implementation using direct REST API calls to support Gemini 3 thought_signatures.\nBypasses the deprecated google-generativeai library limitations.",
                "is_async": false
              },
              {
                "name": "_convert_messages_rest",
                "docstring": "Converte mensagens para formato REST JSON puro (sem objetos SDK).",
                "is_async": false
              },
              {
                "name": "_convert_messages",
                "docstring": "Converte mensagens do formato OpenAI-like para formato Gemini.\nMANTER MÉTODO ORIGINAL para compatibilidade",
                "is_async": false
              },
              {
                "name": "_convert_tools",
                "docstring": "Converte ferramentas do formato OpenAI-like (agora encapsulado em 'function_declarations')\npara Gemini Tool Format.",
                "is_async": false
              }
            ],
            "bases": [
              "BaseLLMAdapter"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "logging",
          "threading",
          "time",
          "queue",
          "json",
          "os",
          "app.core.llm_base",
          "app.config.settings",
          "google.generativeai",
          "google.api_core.exceptions",
          "google.generativeai.types",
          "langchain_core.messages",
          "langchain_core.prompt_values",
          "requests"
        ],
        "constants": [
          "GEMINI_AVAILABLE",
          "LANGCHAIN_GEMINI_AVAILABLE",
          "LANGCHAIN_GEMINI_AVAILABLE"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\llm_gemini_adapter_v2.py",
      "name": "llm_gemini_adapter_v2.py",
      "extension": ".py",
      "size": 12353,
      "category": "source_python",
      "purpose": "Adaptador de dados: GeminiLLMAdapter V2 - Usando objetos nativos do SDK",
      "details": {
        "type": "python",
        "docstring": "GeminiLLMAdapter V2 - Usando objetos nativos do SDK\nSOLUÇÃO PARA THOUGHT SIGNATURES - Usar Content/Part nativos em vez de dicionários",
        "classes": [
          {
            "name": "GeminiLLMAdapterV2",
            "docstring": "Adapter usando OBJETOS NATIVOS do SDK para preservar thought_signatures automaticamente",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_completion",
                "docstring": "Obtém completion usando objetos NATIVOS do SDK (Content/Part)\nIsso garante que thought_signatures sejam preservados automaticamente",
                "is_async": false
              },
              {
                "name": "_messages_to_contents",
                "docstring": "Converte mensagens do formato OpenAI-like para objetos NATIVOS Content/Part do Gemini.\nLida com a persistência de histórico: se um tool call antigo não tiver _native_part\n(porque veio do banco de dados/JSON), ele deve ser removido para evitar Erro 400 (missing thought_signature).",
                "is_async": false
              },
              {
                "name": "_convert_tools",
                "docstring": "Converte ferramentas para formato Gemini",
                "is_async": false
              },
              {
                "name": "get_llm",
                "docstring": "Retorna self para compatibilidade",
                "is_async": false
              },
              {
                "name": "invoke",
                "docstring": "Implementation of LangChain Runnable protocol",
                "is_async": false
              }
            ],
            "bases": [
              "BaseLLMAdapter"
            ]
          }
        ],
        "functions": [
          {
            "name": "_convert_to_serializable",
            "docstring": "Converte recursivamente objetos Protobuf (MapComposite, RepeatedComposite) \npara tipos Python nativos (dict, list).\n\nCRÍTICO: Esta função resolve o erro \"Object of type MapComposite is not JSON serializable\"\nque ocorre quando a API Gemini retorna objetos especiais em function_call.args.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "typing",
          "logging",
          "json",
          "os",
          "google.generativeai",
          "google.generativeai.protos",
          "app.core.llm_base",
          "app.config.settings",
          "google.generativeai.types",
          "langchain_core.messages"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\llm_gemini_adapter_v3.py",
      "name": "llm_gemini_adapter_v3.py",
      "extension": ".py",
      "size": 8001,
      "category": "source_python",
      "purpose": "Adaptador de dados: GeminiLLMAdapter V3 - Usando o NOVO SDK google-genai (Oficial 2025)",
      "details": {
        "type": "python",
        "docstring": "GeminiLLMAdapter V3 - Usando o NOVO SDK google-genai (Oficial 2025)\nSuporte nativo para Thinking (Reasoning) e Function Calling simplificado.",
        "classes": [
          {
            "name": "GeminiLLMAdapterV3",
            "docstring": "Adapter moderno usando o SDK google-genai (v1.0.0+)\nSuporta nativamente o 'thinking' do Gemini 3.0+.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_completion",
                "docstring": "Obtém completion usando o novo SDK.\nInclui o 'thought process' (thinking) na resposta se disponível.",
                "is_async": false
              },
              {
                "name": "_convert_messages",
                "docstring": "Converte o histórico para o formato do novo SDK",
                "is_async": false
              },
              {
                "name": "_convert_tools_to_sdk",
                "docstring": "Converte declarações de funções para o novo formato de Tools",
                "is_async": false
              },
              {
                "name": "get_llm",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseLLMAdapter"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "logging",
          "json",
          "os",
          "google",
          "google.genai",
          "app.core.llm_base",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\llm_langchain_adapter.py",
      "name": "llm_langchain_adapter.py",
      "extension": ".py",
      "size": 12474,
      "category": "source_python",
      "purpose": "Adaptador de dados: Define classes: CustomLangChainLLM",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "CustomLangChainLLM",
            "docstring": null,
            "methods": [
              {
                "name": "_llm_type",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "bind_tools",
                "docstring": "Bind tools to the model.",
                "is_async": false
              },
              {
                "name": "_generate",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_stream",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseChatModel"
            ]
          }
        ],
        "functions": [
          {
            "name": "_clean_json_schema",
            "docstring": "Remove a chave 'anyOf' de um dicionário JSON Schema, recursivamente.\nA API Gemini não suporta 'anyOf' diretamente.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "typing",
          "json",
          "logging",
          "app.core.llm_base",
          "langchain_core.callbacks",
          "langchain_core.language_models",
          "langchain_core.messages",
          "langchain_core.outputs"
        ],
        "constants": [
          "LANGCHAIN_AVAILABLE"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\logging_config.py",
      "name": "logging_config.py",
      "extension": ".py",
      "size": 13922,
      "category": "source_python",
      "purpose": "Sistema de Logging Centralizado",
      "details": {
        "type": "python",
        "docstring": "Sistema de Logging Centralizado\nConfiguração completa de logs para o AgentBI Backend",
        "classes": [
          {
            "name": "LogConfig",
            "docstring": "Configuração centralizada de logging",
            "methods": [
              {
                "name": "setup_directories",
                "docstring": "Cria todos os diretórios de logs necessários",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "JSONFormatter",
            "docstring": "Formatter que gera logs em formato JSON estruturado",
            "methods": [
              {
                "name": "format",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "logging.Formatter"
            ]
          },
          {
            "name": "ColoredConsoleFormatter",
            "docstring": "Formatter com cores para console (development)",
            "methods": [
              {
                "name": "format",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "logging.Formatter"
            ]
          }
        ],
        "functions": [
          {
            "name": "get_file_handler",
            "docstring": "Cria um handler rotativo para arquivo",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_timed_file_handler",
            "docstring": "Cria um handler com rotação por tempo",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_console_handler",
            "docstring": "Cria um handler para console",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "setup_logger",
            "docstring": "Configura um logger específico\n\nArgs:\n    name: Nome do logger\n    log_file: Caminho do arquivo de log (opcional)\n    level: Nível de log\n    console: Se deve mostrar logs no console\n    use_json: Se deve usar formato JSON\n\nReturns:\n    Logger configurado",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "configure_structlog",
            "docstring": "Configura structlog para logging estruturado\n\nArgs:\n    environment: Ambiente de execução (development, staging, production)",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "setup_application_logging",
            "docstring": "Configura todo o sistema de logging da aplicação\n\nArgs:\n    environment: Ambiente de execução",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "log_api_request",
            "docstring": "Log de requisição API",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "log_api_response",
            "docstring": "Log de resposta API",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "log_security_event",
            "docstring": "Log de evento de segurança",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "log_audit_event",
            "docstring": "Log de evento de auditoria",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "log_chat_interaction",
            "docstring": "Log de interação de chat",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "sys",
          "datetime",
          "pathlib",
          "typing",
          "json",
          "logging.handlers",
          "structlog"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\logging_middleware.py",
      "name": "logging_middleware.py",
      "extension": ".py",
      "size": 10655,
      "category": "source_python",
      "purpose": "Middleware de Logging para FastAPI",
      "details": {
        "type": "python",
        "docstring": "Middleware de Logging para FastAPI\nCaptura e registra todas as requisições e respostas HTTP",
        "classes": [
          {
            "name": "RequestLoggingMiddleware",
            "docstring": "Middleware que registra todas as requisições HTTP\ncom informações detalhadas e métricas de performance",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseHTTPMiddleware"
            ]
          },
          {
            "name": "PerformanceLoggingMiddleware",
            "docstring": "Middleware que registra métricas de performance\ne identifica requisições lentas",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseHTTPMiddleware"
            ]
          },
          {
            "name": "SecurityLoggingMiddleware",
            "docstring": "Middleware que registra eventos de segurança\ncomo tentativas de autenticação, acessos negados, etc.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseHTTPMiddleware"
            ]
          },
          {
            "name": "AuditLoggingMiddleware",
            "docstring": "Middleware que registra ações de auditoria\npara operações de escrita (POST, PUT, DELETE, PATCH)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseHTTPMiddleware"
            ]
          },
          {
            "name": "ErrorLoggingMiddleware",
            "docstring": "Middleware que captura e registra todos os erros",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseHTTPMiddleware"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "time",
          "uuid",
          "typing",
          "structlog",
          "fastapi",
          "starlette.middleware.base",
          "starlette.types",
          "logging_config"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\monitoring\\metrics_dashboard.py",
      "name": "metrics_dashboard.py",
      "extension": ".py",
      "size": 8802,
      "category": "source_python",
      "purpose": "Define classes: MetricsDashboard",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "MetricsDashboard",
            "docstring": "Collects and provides various metrics for monitoring the BI agent's performance.\n(T4.4.2 from TASK_LIST)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_metrics",
                "docstring": "Retrieves key performance indicators (KPIs) for the last N days.\n- Success Rate (from feedback)\n- Average Response Time (placeholder)\n- Cache Hit Rate\n- Total Queries\n- Total Errors",
                "is_async": false
              },
              {
                "name": "get_error_trend",
                "docstring": "Provides a daily trend of errors for the last N days.",
                "is_async": false
              },
              {
                "name": "get_top_queries",
                "docstring": "Identifies the most frequent queries in the last N days.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "os",
          "datetime",
          "typing",
          "collections",
          "pathlib",
          "app.config.settings",
          "app.core.utils.query_history",
          "app.core.utils.response_cache",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\parquet_cache.py",
      "name": "parquet_cache.py",
      "extension": ".py",
      "size": 4494,
      "category": "source_python",
      "purpose": "Parquet Cache System with LRU eviction policy",
      "details": {
        "type": "python",
        "docstring": "Parquet Cache System with LRU eviction policy\nMaintains up to 5 Parquet DataFrames in memory (~500 MB max)\nThread-safe for concurrent access",
        "classes": [
          {
            "name": "ParquetCache",
            "docstring": "Thread-safe LRU cache for Parquet DataFrames\nSingleton pattern ensures single cache instance across the application",
            "methods": [
              {
                "name": "__new__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_dataframe",
                "docstring": "Get DataFrame from cache or load from disk\n\nArgs:\n    parquet_name: Name of the parquet file (e.g., \"admmat.parquet\")\n\nReturns:\n    pl.DataFrame: Cached or freshly loaded DataFrame\n\nRaises:\n    FileNotFoundError: If parquet file doesn't exist",
                "is_async": false
              },
              {
                "name": "_load_parquet",
                "docstring": "Load Parquet file from disk (hybrid Docker/Dev path support)\n\nArgs:\n    parquet_name: Name of the parquet file\n\nReturns:\n    pl.DataFrame: Loaded DataFrame\n\nRaises:\n    FileNotFoundError: If file not found in any location",
                "is_async": false
              },
              {
                "name": "clear",
                "docstring": "Clear cache (useful for testing or manual refresh)",
                "is_async": false
              },
              {
                "name": "get_cache_info",
                "docstring": "Get cache statistics",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "collections",
          "pathlib",
          "polars",
          "threading",
          "logging"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\chart_system_prompt.txt",
      "name": "chart_system_prompt.txt",
      "extension": ".txt",
      "size": 4813,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\app\\core\\prompts\\code_generation_system_prompt.md",
      "name": "code_generation_system_prompt.md",
      "extension": ".md",
      "size": 1519,
      "category": "docs",
      "purpose": "Não identificado",
      "details": {
        "type": "markdown",
        "sections": [],
        "preview": "Você é um assistente de BI experiente, especializado em gerar código Python para análise de dados.\nSua saída deve ser EXCLUSIVAMENTE o código Python, encapsulado em um bloco JSON com a chave 'code'.\nO código deve utilizar a biblioteca `polars` para manipulação de DataFrames, pois a variável `df` já é um DataFrame Polars.\nSe a query solicitar um gráfico, a saída do JSON deve incluir também uma chave 'chart_spec' com a especificação JSON do Plotly.\nSempre retorne um dicionário (Dict) Python contendo os resultados da análise."
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\json_filter_generation_prompt.md",
      "name": "json_filter_generation_prompt.md",
      "extension": ".md",
      "size": 799,
      "category": "docs",
      "purpose": "Não identificado",
      "details": {
        "type": "markdown",
        "sections": [],
        "preview": "Você é um gerador de filtros JSON a partir de consultas em linguagem natural.\nMapeie os termos do usuário para campos reais da base de dados ({known_fields}).\nGere um objeto JSON com os filtros e seus valores.\n\nOperadores suportados: =, !=, >, <, >=, <=, IN (para listas), LIKE (para substrings), BETWEEN (para ranges)."
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\prompt_analise.md",
      "name": "prompt_analise.md",
      "extension": ".md",
      "size": 3466,
      "category": "docs",
      "purpose": "Documentação: PROMPT PRINCIPAL DE ANÁLISE - Agent_BI (CO-STAR)",
      "details": {
        "type": "markdown",
        "title": "PROMPT PRINCIPAL DE ANÁLISE - Agent_BI (CO-STAR)",
        "sections": [
          "CONTEXTO (C)",
          "OBJETIVO ATÔMICO (O)",
          "ESTILO (S)",
          "TOM (T)",
          "PÚBLICO-ALVO (A)",
          "FORMATO DE RESPOSTA (R)",
          "RESTRIÇÕES CRÍTICAS",
          "EXEMPLOS DE ENTRADA E SAÍDA",
          "INSTRUÇÕES FINAIS"
        ],
        "preview": "# PROMPT PRINCIPAL DE ANÁLISE - Agent_BI (CO-STAR)\n\n## CONTEXTO (C)\n\n**Esquema de Banco de Dados:**"
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\prompt_desambiguacao.md",
      "name": "prompt_desambiguacao.md",
      "extension": ".md",
      "size": 2298,
      "category": "docs",
      "purpose": "Documentação: PROMPT DE DESAMBIGUAÇÃO - Agent_BI",
      "details": {
        "type": "markdown",
        "title": "PROMPT DE DESAMBIGUAÇÃO - Agent_BI",
        "sections": [
          "PERSONA E PAPEL",
          "CONTEXTO",
          "OBJETIVO ATÔMICO",
          "TAREFA",
          "INSTRUÇÕES DE FORMATO DE SAÍDA",
          "RESTRIÇÕES",
          "TOM E ESTILO"
        ],
        "preview": "# PROMPT DE DESAMBIGUAÇÃO - Agent_BI\n\n## PERSONA E PAPEL\n\n**QUEM VOCÊ É:**"
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\prompt_gerar_manifesto.md",
      "name": "prompt_gerar_manifesto.md",
      "extension": ".md",
      "size": 120709,
      "category": "docs",
      "purpose": "Documentação: Chaves de API e Configurações (substitua com seus valores)",
      "details": {
        "type": "markdown",
        "title": "Chaves de API e Configurações (substitua com seus valores)",
        "sections": [
          "Descrição do Projeto",
          "Funcionalidades Principais",
          "Setup",
          "Arquitetura do Projeto",
          "Visão de Futuro e Roadmap",
          "Arquitetura Detalhada e Fluxos",
          "Por que isso é importante?",
          "Como Editar",
          "Próximos Passos",
          "Resumo da Arquitetura Alvo"
        ],
        "preview": "PROMPT AVANÇADO: GERAÇÃO DO MANIFESTO DA ARQUITETURA ALVO\n1. PERSONA E PAPEL\nVocê é um Arquiteto de Software Sênior e Analista de Sistemas. A sua especialidade é analisar um inventário completo de ficheiros de um projeto de software complexo e, a partir dele, sintetizar um documento de arquitetura claro, conciso e definitivo. O seu objetivo é identificar os componentes essenciais, definir as suas responsabilidades e mapear as suas interações.\n\n2. CONTEXTO E OBJETIVO GERAL"
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\prompt_integracao_avancada.md",
      "name": "prompt_integracao_avancada.md",
      "extension": ".md",
      "size": 85347,
      "category": "docs",
      "purpose": "Documentação: Relatório Completo de Arquivos do Projeto Agent_BI",
      "details": {
        "type": "markdown",
        "title": "Relatório Completo de Arquivos do Projeto Agent_BI",
        "sections": [
          "Diretório Raiz: `C:\\Users\\André\\Documents\\Agent_BI\\`",
          "Diretório Core: `C:\\Users\\André\\Documents\\Agent_BI\\core\\`",
          "Diretório: `dags`",
          "Diretório: `data`",
          "Diretório: `docs`",
          "Diretório: `migrations`",
          "Diretório: `pages`",
          "Diretório: `scripts`",
          "Diretório: `tests`",
          "Diretório: `ui`"
        ],
        "preview": "PROMPT MESTRE: IMPLEMENTAÇÃO DA ARQUITETURA AVANÇADA DO AGENT_BI\n1. PERSONA E PAPEL\nQUEM VOCÊ É:\nVocê é um Arquiteto de Software Sênior e Engenheiro de IA, especialista em migrar sistemas de agentes complexos para arquiteturas LangGraph robustas, seguindo o padrão de Máquina de Estados Finitos. A sua missão é refatorar um projeto existente para um estado de excelência técnica, focando em modularidade, eficiência (mínimo de chamadas ao LLM), e desacoplamento total entre backend e frontend.\n"
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\prompt_refatoracao_completa.md",
      "name": "prompt_refatoracao_completa.md",
      "extension": ".md",
      "size": 1085465,
      "category": "docs",
      "purpose": "Documentação: PROMPT MESTRE: PLANO DE REFATORAÇÃO EXECUTÁVEL E SEGURO",
      "details": {
        "type": "markdown",
        "title": "PROMPT MESTRE: PLANO DE REFATORAÇÃO EXECUTÁVEL E SEGURO",
        "sections": [
          "Diretório Raiz: `C:\\Users\\André\\Documents\\Agent_Solution_BI`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.devcontainer`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.github\\workflows`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\PIL`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest\\_code`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest\\_io`",
          "Diretório: `C:\\Users\\André\\Documents\\Agent_Solution_BI\\.mypy_cache\\3.11\\_pytest\\assertion`"
        ],
        "preview": "# PROMPT MESTRE: PLANO DE REFATORAÇÃO EXECUTÁVEL E SEGURO\n\n### 1. PERSONA E PAPEL\nVocê é um Arquiteto de Software Sênior e Engenheiro de DevOps. A sua especialidade é analisar projetos de software complexos, identificar redundâncias e desalinhamentos arquiteturais, e gerar um plano de refatoração completo que inclua tanto o código final quanto os scripts de automação para executar as mudanças de forma segura e incremental. A segurança e a manutenibilidade são as suas maiores prioridades.\n"
      }
    },
    {
      "path": "backend\\app\\core\\prompts\\tool_routing_prompt.md",
      "name": "tool_routing_prompt.md",
      "extension": ".md",
      "size": 891,
      "category": "docs",
      "purpose": "Não identificado",
      "details": {
        "type": "markdown",
        "sections": [],
        "preview": "Você é um assistente de BI inteligente. Sua tarefa é selecionar a ferramenta mais apropriada\npara a consulta do usuário. As ferramentas disponíveis são: {tool_names}.\n\nRetorne o nome da ferramenta e os parâmetros em formato JSON. Se nenhuma ferramenta for aplicável,\nindique que a consulta requer geração de código Python."
      }
    },
    {
      "path": "backend\\app\\core\\query_processor.py",
      "name": "query_processor.py",
      "extension": ".py",
      "size": 6156,
      "category": "source_python",
      "purpose": "Define classes: QueryProcessor",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "QueryProcessor",
            "docstring": "Ponto de entrada principal para o processamento de consultas.\nDelega a tarefa para o SupervisorAgent para orquestração.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o processador de consultas e o agente supervisor.",
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa a consulta do usuário, delegando-a diretamente ao SupervisorAgent.\n\nArgs:\n    query (str): A consulta do usuário.\n\nReturns:\n    dict: O resultado do processamento pelo agente especialista apropriado.",
                "is_async": false
              },
              {
                "name": "stream_query",
                "docstring": "Processa a consulta do usuário com streaming de eventos do agente.\n\nArgs:\n    query (str): A consulta do usuário.\n\nYields:\n    dict: Eventos do agente (chunks de texto, ações, etc.)",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "app.core.factory.component_factory",
          "app.core.llm_factory",
          "app.core.cache",
          "app.core.agents.supervisor_agent",
          "app.core.tools.quick_response",
          "app.core.parquet_cache"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\rag\\example_collector.py",
      "name": "example_collector.py",
      "extension": ".py",
      "size": 5774,
      "category": "source_python",
      "purpose": "Define classes: ExampleCollector",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "ExampleCollector",
            "docstring": "Collects successful queries, their generated code, and results to serve as\nfew-shot examples for RAG and continuous learning.\n(T6.4.2 from TASK_LIST)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_daily_file_path",
                "docstring": "Generates the file path for a given day's examples.",
                "is_async": false
              },
              {
                "name": "add_example",
                "docstring": "Adds a new successful example to the daily examples file.",
                "is_async": false
              },
              {
                "name": "_summarize_result",
                "docstring": "Creates a brief summary of the result.",
                "is_async": false
              },
              {
                "name": "get_all_examples",
                "docstring": "Retrieves all examples within a date range.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "os",
          "datetime",
          "typing",
          "app.config.settings",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\rag\\hybrid_retriever.py",
      "name": "hybrid_retriever.py",
      "extension": ".py",
      "size": 21021,
      "category": "source_python",
      "purpose": "Hybrid Retriever - BM25 + Dense Embeddings (2025)",
      "details": {
        "type": "python",
        "docstring": "Hybrid Retriever - BM25 + Dense Embeddings (2025)\n==================================================\n\nImplementa retrieval híbrido moderno combinando:\n- BM25 (keyword-based) para queries com termos específicos (códigos, nomes exatos)\n- Dense Embeddings (semantic) para queries conceituais\n\nBaseado em best practices 2025: +12-30% acurácia vs. métodos isolados.\n\nAuthor: Agent BI Team\nDate: 2025-12-27",
        "classes": [
          {
            "name": "HybridRetriever",
            "docstring": "Retriever híbrido que combina BM25 e Dense Embeddings.\n\nEstratégia de fusão: Reciprocal Rank Fusion (RRF)\n- RRF combina rankings de diferentes métodos de forma robusta\n- Não requer normalização de scores\n- Usado em produção por Cohere, Weaviate, etc.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o Hybrid Retriever.\n\nArgs:\n    examples_path: Caminho para exemplos/documentos\n    embedding_model: Modelo de embedding (text-embedding-004 = Google 2024)\n    bm25_weight: Peso do BM25 no ranking final (0.0-1.0)\n    dense_weight: Peso do dense embeddings (0.0-1.0)\n    use_cache: Se True, cacheia embeddings",
                "is_async": false
              },
              {
                "name": "_ensure_initialized",
                "docstring": "Lazy initialization: carrega índices apenas quando necessário.",
                "is_async": false
              },
              {
                "name": "_initialize_bm25",
                "docstring": "Inicializa o índice BM25.",
                "is_async": false
              },
              {
                "name": "_load_or_generate_embeddings",
                "docstring": "Carrega embeddings do cache ou gera novos.",
                "is_async": false
              },
              {
                "name": "_generate_embedding",
                "docstring": "Gera embedding usando Gemini text-embedding-004.\n\nArgs:\n    text: Texto para gerar embedding\n\nReturns:\n    Lista de floats representando o embedding, ou None se falhar",
                "is_async": false
              },
              {
                "name": "_save_embeddings_cache",
                "docstring": "Salva cache de embeddings em disco.",
                "is_async": false
              },
              {
                "name": "_tokenize",
                "docstring": "Tokeniza texto para BM25.\n\nRemove stopwords e normaliza.",
                "is_async": false
              },
              {
                "name": "_bm25_search",
                "docstring": "Busca usando BM25 (keyword-based).\n\nArgs:\n    query: Query de busca\n    top_k: Número de resultados\n\nReturns:\n    Lista de documentos com scores",
                "is_async": false
              },
              {
                "name": "_dense_search",
                "docstring": "Busca usando dense embeddings (semantic).\n\nArgs:\n    query: Query de busca\n    top_k: Número de resultados\n\nReturns:\n    Lista de documentos com scores",
                "is_async": false
              },
              {
                "name": "_cosine_similarity",
                "docstring": "Calcula similaridade de cosseno entre dois vetores.",
                "is_async": false
              },
              {
                "name": "_reciprocal_rank_fusion",
                "docstring": "Combina resultados usando Reciprocal Rank Fusion (RRF).\n\nRRF formula: RRF(d) = Σ 1/(k + rank(d))\n\nArgs:\n    bm25_results: Resultados do BM25\n    dense_results: Resultados do dense search\n    k: Constante RRF (padrão 60, usado em produção)\n\nReturns:\n    Lista combinada e ranqueada",
                "is_async": false
              },
              {
                "name": "retrieve",
                "docstring": "Retrieval principal - combina BM25 e Dense.\n\nArgs:\n    query: Query de busca\n    top_k: Número de resultados\n    method: 'hybrid', 'bm25', ou 'dense'\n\nReturns:\n    Lista de documentos ranqueados",
                "is_async": false
              },
              {
                "name": "get_stats",
                "docstring": "Retorna estatísticas do retriever.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_hybrid_retriever",
            "docstring": "Retorna instância singleton do HybridRetriever.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "json",
          "logging",
          "functools",
          "asyncio",
          "typing",
          "pathlib",
          "polars",
          "app.config.settings",
          "app.core.rag.example_collector",
          "rank_bm25",
          "google.generativeai",
          "math"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\rag\\query_retriever.py",
      "name": "query_retriever.py",
      "extension": ".py",
      "size": 7983,
      "category": "source_python",
      "purpose": "Define classes: QueryRetriever",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "QueryRetriever",
            "docstring": "Retrieves semantically similar past queries and their associated metadata (code, results)\nto serve as few-shot examples for RAG.\n(T6.4.1 from TASK_LIST)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_cached_model",
                "docstring": "Internal method to get a cached SentenceTransformer model instance.",
                "is_async": false
              },
              {
                "name": "_load_model",
                "docstring": "Loads the Sentence Transformer model lazily using a cached internal method.",
                "is_async": false
              },
              {
                "name": "_load_index_and_examples",
                "docstring": "Loads FAISS index and corresponding examples data.",
                "is_async": false
              },
              {
                "name": "_index_examples_data",
                "docstring": "Indexes examples data (from self.examples_data) into FAISS.",
                "is_async": false
              },
              {
                "name": "_index_examples_from_files",
                "docstring": "(Deprecated) Collects and indexes examples from JSONL files in the examples_path.\nNow uses ExampleCollector.get_all_examples()",
                "is_async": false
              },
              {
                "name": "get_similar_queries",
                "docstring": "Retrieves top_k semantically similar queries from the indexed examples.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "typing",
          "os",
          "json",
          "functools",
          "app.core.rag.example_collector",
          "app.config.settings",
          "sentence_transformers",
          "faiss",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\robust_chatbi.py",
      "name": "robust_chatbi.py",
      "extension": ".py",
      "size": 13088,
      "category": "source_python",
      "purpose": "Chat BI - Sistema ROBUSTO com Regex (SEM dependência de API)",
      "details": {
        "type": "python",
        "docstring": "Chat BI - Sistema ROBUSTO com Regex (SEM dependência de API)\nSolução definitiva que funciona 100% offline",
        "classes": [
          {
            "name": "RobustChatBI",
            "docstring": "Sistema robusto de Chat BI usando REGEX\nNão depende de APIs externas - funciona 100% offline",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "process_query",
                "docstring": "Processa pergunta do usuário usando REGEX robusto\nRetorna resposta estruturada com dados e texto",
                "is_async": false
              },
              {
                "name": "_extract_produto",
                "docstring": "Extrai código ou nome do produto usando regex",
                "is_async": false
              },
              {
                "name": "_extract_une",
                "docstring": "Extrai código ou nome da UNE usando regex",
                "is_async": false
              },
              {
                "name": "_extract_periodo",
                "docstring": "Extrai período usando regex",
                "is_async": false
              },
              {
                "name": "_detect_query_type",
                "docstring": "Detecta tipo de consulta",
                "is_async": false
              },
              {
                "name": "_execute_query",
                "docstring": "Executa consulta no Parquet",
                "is_async": false
              },
              {
                "name": "_fallback_response",
                "docstring": "Resposta de fallback",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "polars",
          "pathlib",
          "re",
          "typing",
          "traceback",
          "traceback",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\security\\data_masking.py",
      "name": "data_masking.py",
      "extension": ".py",
      "size": 3362,
      "category": "source_python",
      "purpose": "Funções: mask_pii, get_pii_summary",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "mask_pii",
            "docstring": "Masks common Personally Identifiable Information (PII) like CPF, email, and phone numbers.\nCPF: Replaces numbers with '*' except for the last two digits.\nEmail: Masks username part, keeps domain.\nPhone: Masks most digits, keeps last four.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_pii_summary",
            "docstring": "Detects and categorizes types of PII present in the text.\nReturns a dictionary with PII types as keys and detected PII fragments as values.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "re",
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\security\\input_validator.py",
      "name": "input_validator.py",
      "extension": ".py",
      "size": 3457,
      "category": "source_python",
      "purpose": "Funções: sanitize_username, validate_password_strength, sanitize_sql_input",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "sanitize_username",
            "docstring": "Sanitizes a username by allowing only alphanumeric characters and underscores.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validate_password_strength",
            "docstring": "Validates password strength based on a set of criteria:\n- Minimum 8 characters\n- At least one uppercase letter\n- At least one lowercase letter\n- At least one digit\n- At least one special character",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "sanitize_sql_input",
            "docstring": "Sanitizes text to prevent SQL injection.\nThis is a basic sanitization. For actual database queries, parameterized queries\nor ORMs should always be preferred. This function is mainly for sanitizing\ninput that might eventually be part of a dynamic query (e.g., column names)\nor used in a context where full parameterization is not possible.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "re"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\supabase_client.py",
      "name": "supabase_client.py",
      "extension": ".py",
      "size": 2285,
      "category": "source_python",
      "purpose": "Supabase Client Configuration",
      "details": {
        "type": "python",
        "docstring": "Supabase Client Configuration\nSingleton instance for Supabase authentication and database access",
        "classes": [],
        "functions": [
          {
            "name": "get_supabase_client",
            "docstring": "Get or create Supabase client instance (using anon key for regular operations)",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_supabase_admin_client",
            "docstring": "Get or create Supabase ADMIN client (using service_role key).\nThis client has elevated privileges and should ONLY be used for admin operations\nlike creating/deleting users.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "supabase",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\supabase_user_service.py",
      "name": "supabase_user_service.py",
      "extension": ".py",
      "size": 11836,
      "category": "source_python",
      "purpose": "Supabase User Management Service",
      "details": {
        "type": "python",
        "docstring": "Supabase User Management Service\nHandles user CRUD operations with Supabase Auth + user_profiles table",
        "classes": [
          {
            "name": "SupabaseUserService",
            "docstring": "Service for managing users in Supabase",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "client",
                "docstring": "Lazy load Supabase ADMIN client only when needed",
                "is_async": false
              },
              {
                "name": "create_user",
                "docstring": "Create a new user in Supabase Auth and user_profiles table\n\nArgs:\n    email: User's email\n    password: User's password\n    username: Username for the system\n    role: User role (admin, user, viewer)\n    full_name: Optional full name\n    allowed_segments: List of allowed segments\n\nReturns:\n    Dictionary with user data\n\nRaises:\n    Exception if user creation fails",
                "is_async": false
              },
              {
                "name": "list_users",
                "docstring": "List all users from Supabase\n\nArgs:\n    limit: Maximum number of users to return\n\nReturns:\n    List of user dictionaries",
                "is_async": false
              },
              {
                "name": "get_user",
                "docstring": "Get a single user by ID\n\nArgs:\n    user_id: User's UUID\n\nReturns:\n    User dictionary or None if not found",
                "is_async": false
              },
              {
                "name": "update_user",
                "docstring": "Update user in Supabase Auth and user_profiles\n\nArgs:\n    user_id: User's UUID\n    email: New email (optional)\n    username: New username (optional)\n    role: New role (optional)\n    full_name: New full name (optional)\n    password: New password (optional)\n    is_active: Active status (optional)\n    allowed_segments: New allowed segments (optional)\n\nReturns:\n    Updated user dictionary\n\nRaises:\n    Exception if update fails",
                "is_async": false
              },
              {
                "name": "delete_user",
                "docstring": "Delete user from Supabase Auth and user_profiles\n\nArgs:\n    user_id: User's UUID\n\nReturns:\n    True if successful, False otherwise",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "typing",
          "datetime",
          "app.core.supabase_client",
          "app.config.settings",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\sync_service.py",
      "name": "sync_service.py",
      "extension": ".py",
      "size": 3719,
      "category": "source_python",
      "purpose": "Define classes: SyncService",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "SyncService",
            "docstring": "Serviço para sincronizar dados do SQL Server para arquivos Parquet.",
            "methods": [
              {
                "name": "run_sync",
                "docstring": "Executa a sincronização do admmat.parquet",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "pandas",
          "pyodbc",
          "time",
          "logging",
          "os",
          "pathlib",
          "app.config.settings",
          "app.core.parquet_cache"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 0,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\chart_tools.py",
      "name": "chart_tools.py",
      "extension": ".py",
      "size": 63245,
      "category": "source_python",
      "purpose": "Ferramentas: Ferramentas para geração de gráficos e visualizações.",
      "details": {
        "type": "python",
        "docstring": "Ferramentas para geração de gráficos e visualizações.\nIntegração com Plotly para análise visual de dados.",
        "classes": [],
        "functions": [
          {
            "name": "_get_theme_template",
            "docstring": "Retorna o template de tema padrão.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_apply_chart_customization",
            "docstring": "Aplica customizações padrão aos gráficos.\n\nArgs:\n    fig: Figura Plotly\n    title: Título do gráfico\n    show_legend: Se mostra legenda\n\nReturns:\n    Figura com customizações aplicadas",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_export_chart_to_json",
            "docstring": "Exporta figura como JSON para Streamlit.\n\nArgs:\n    fig: Figura Plotly\n\nReturns:\n    JSON string da figura",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "gerar_grafico_vendas_por_categoria",
            "docstring": "Gera gráfico de barras com o total de produtos por grupo (categoria).\nÚtil para análise de categorias de produtos.\n\nArgs:\n    limite: Número máximo de categorias a mostrar\n    ordenar_por: \"ascendente\" ou \"descendente\"\n\nReturns:\n    Dicionário com gráfico Plotly e dados",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_grafico_estoque_por_produto",
            "docstring": "Gera gráfico de estoque disponível por produto.\nMostra produtos com mais estoque em destaque.\n\nArgs:\n    limite: Número máximo de produtos a mostrar\n    minimo_estoque: Estoque mínimo para incluir\n\nReturns:\n    Dicionário com gráfico e dados de estoque",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_comparacao_precos_categorias",
            "docstring": "Gera gráfico de comparação de preços médios por grupo (categoria).\nÚtil para análise de precificação.\n\nReturns:\n    Dicionário com gráfico comparativo de preços",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_analise_distribuicao_estoque",
            "docstring": "Gera histograma e box plot da distribuição de estoque.\nÚtil para análise estatística de níveis de estoque.\n\nReturns:\n    Dicionário com gráficos de distribuição",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_grafico_pizza_categorias",
            "docstring": "Gera gráfico de pizza mostrando proporção de produtos por grupo (categoria).\nÚtil para visualizar distribuição percentual.\n\nReturns:\n    Dicionário com gráfico de pizza e proporções",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_dashboard_analise_completa",
            "docstring": "Gera dashboard completo com múltiplas visualizações em um único lugar.\nCombina 4 gráficos em um layout 2x2.\n\nReturns:\n    Dicionário com dashboard e múltiplos gráficos",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_grafico_vendas_por_produto",
            "docstring": "Gera gráfico de série temporal de vendas de um produto específico.\nEste é um alias para gerar_grafico_vendas_mensais_produto.\n\nArgs:\n    codigo_produto: Código do produto (ITEM)\n\nReturns:\n    Dicionário com gráfico de série temporal e análise",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_grafico_automatico",
            "docstring": "Gera qualquer tipo de gráfico baseado na descrição do usuário.\nO LLM interpreta a descrição e seleciona o gráfico mais apropriado.\n\nArgs:\n    descricao: Descrição do gráfico desejado em linguagem natural\n\nReturns:\n    Gráfico Plotly JSON correspondente ao tipo solicitado\n\nExemplos de uso:\n  - \"gráfico de vendas por categoria\"\n  - \"mostrar estoque disponível por produto\"\n  - \"análise de distribuição de estoque\"\n  - \"comparar preços entre categorias\"\n  - \"vendas do produto 59294\"\n  - \"dashboard completo\"",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_grafico_vendas_mensais_produto",
            "docstring": "Gera gráfico de vendas mensais para um produto específico.\nTrabalha com a estrutura de dados da Filial Madureira.\n\nArgs:\n    codigo_produto: Código do produto (ITEM)\n\nReturns:\n    Dicionário com gráfico de vendas mensais",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_grafico_vendas_por_grupo",
            "docstring": "Gera gráfico de vendas mensais para todos os produtos de um grupo específico.\nÚtil para análise de desempenho de categorias de produtos ao longo do ano.\n\nArgs:\n    nome_grupo: Nome do grupo/categoria (ex: \"ESMALTES\", \"CREMES\", etc.)\n    agregacao: Tipo de agregação - \"soma\" (padrão) ou \"media\"\n\nReturns:\n    Dicionário com gráfico de vendas mensais do grupo",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_ranking_produtos_mais_vendidos",
            "docstring": "Gera um gráfico de barras horizontais com o ranking dos produtos mais vendidos no ano.\nÚtil para identificar os produtos mais populares.\n\nArgs:\n    top_n: O número de produtos a serem incluídos no ranking (padrão: 10).\n\nReturns:\n    Dicionário com o gráfico de ranking e dados.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "listar_graficos_disponiveis",
            "docstring": "Lista os gráficos e dashboards RECOMENDADOS disponíveis no sistema (2025).\nUse esta ferramenta quando o usuário perguntar \"quais gráficos você pode gerar?\",\n\"que tipos de visualizações existem?\", ou similares.\n\nReturns:\n    Dicionário com lista de gráficos recomendados e suas descrições",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_dashboard_executivo",
            "docstring": "Gera dashboard executivo completo com os principais indicadores de negócio.\nLayout 2x3 otimizado para análise gerencial e tomada de decisão.\n\nInclui:\n- Vendas por categoria (Top 10)\n- Ranking produtos mais vendidos\n- Análise de estoque\n- Comparação de preços\n- Distribuição de produtos\n- Métricas principais\n\nReturns:\n    Dicionário com dashboard executivo completo",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_dashboard_dinamico",
            "docstring": "Gera um dashboard dinâmico com uma seleção de gráficos.\n\nArgs:\n    graficos: Uma lista dos nomes das ferramentas de gráfico a serem incluídas.\n              Exemplos de nomes de ferramentas válidas:\n              - 'gerar_grafico_vendas_por_categoria'\n              - 'gerar_grafico_estoque_por_produto'\n              - 'gerar_comparacao_precos_categorias'\n              - 'gerar_analise_distribuicao_estoque'\n              - 'gerar_grafico_pizza_categorias'\n              - 'gerar_ranking_produtos_mais_vendidos'\n\nReturns:\n    Dicionário com o dashboard e múltiplos gráficos.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "gerar_visualizacao_customizada",
            "docstring": "Cria uma visualização totalmente personalizada a partir dos dados.\nUse esta ferramenta quando NENHUMA outra ferramenta específica atender ao pedido do usuário.\nPermite cruzar quaisquer duas variáveis numéricas ou categóricas.\n\nArgs:\n    eixo_x: Nome da coluna para o eixo X (ex: 'DESCRIÇÃO', 'ESTOQUE', 'VENDA UNIT R$')\n    eixo_y: Nome da coluna para o eixo Y (ex: 'QTD', 'VENDA R$', 'LUCRO R$')\n    tipo_grafico: 'bar', 'line', 'scatter' (dispersão), 'histogram', 'box'\n    titulo: Título do gráfico\n    coluna_cor: (Opcional) Nome da coluna para agrupar por cores (ex: 'GRUPO')\n    agregacao: (Opcional) 'soma', 'media', 'contagem' (se precisar agrupar dados)\n\nReturns:\n    Gráfico Plotly customizado",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "logging",
          "typing",
          "pandas",
          "plotly.graph_objects",
          "langchain_core.tools",
          "app.core.data_source_manager",
          "app.core.visualization.advanced_charts",
          "plotly.subplots",
          "math",
          "json",
          "plotly.subplots",
          "plotly.subplots",
          "plotly.subplots",
          "re"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\check_gui_dependencies.py",
      "name": "check_gui_dependencies.py",
      "extension": ".py",
      "size": 1687,
      "category": "source_python",
      "purpose": "Funções: check_dependency, main",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "check_dependency",
            "docstring": "Verifica se um módulo está instalado e tenta instalá-lo se não estiver.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": "Função principal para verificar dependências.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "subprocess",
          "sys"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\check_integration.py",
      "name": "check_integration.py",
      "extension": ".py",
      "size": 0,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\code_interpreter.py",
      "name": "code_interpreter.py",
      "extension": ".py",
      "size": 9108,
      "category": "source_python",
      "purpose": "Code Interpreter - Sandbox seguro para execução de código Python",
      "details": {
        "type": "python",
        "docstring": "Code Interpreter - Sandbox seguro para execução de código Python\nPermite análises dinâmicas de dados com pandas, numpy, etc.",
        "classes": [
          {
            "name": "CodeInterpreter",
            "docstring": "Executor seguro de código Python para análise de dados.\n\nFeatures:\n- Sandbox com restrições de segurança\n- Acesso a pandas e numpy\n- Captura de stdout/stderr\n- Timeout configurável",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_create_safe_namespace",
                "docstring": "Cria namespace seguro com bibliotecas permitidas.",
                "is_async": false
              },
              {
                "name": "_validate_code",
                "docstring": "Valida código antes de executar.",
                "is_async": false
              },
              {
                "name": "execute",
                "docstring": "Executa código Python de forma segura.\n\nArgs:\n    code: Código Python a executar\n    data: DataFrame opcional para análise\n    \nReturns:\n    Dict com resultado, output e erro",
                "is_async": false
              },
              {
                "name": "get_stats",
                "docstring": "Retorna estatísticas do interpreter.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_interpreter",
            "docstring": "Retorna instância singleton do interpreter.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "executar_codigo_python",
            "docstring": "Executa código Python para análise de dados.\n\nUse esta ferramenta quando precisar:\n- Fazer cálculos complexos\n- Processar dados de forma personalizada\n- Criar análises estatísticas\n\nArgs:\n    codigo: Código Python a executar. Use 'df' para acessar os dados.\n    descricao: Descrição do que o código faz\n    \nReturns:\n    Resultado da execução\n    \nExemplo:\n    >>> executar_codigo_python(\n    ...     codigo=\"result = df['vendas'].sum()\",\n    ...     descricao=\"Calcula soma das vendas\"\n    ... )",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "logging",
          "io",
          "sys",
          "traceback",
          "typing",
          "contextlib",
          "pandas",
          "langchain_core.tools",
          "app.config.settings",
          "pandas",
          "numpy",
          "math",
          "statistics"
        ],
        "constants": [
          "ALLOWED_MODULES",
          "BLOCKED_FUNCTIONS"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\date_time_tools.py",
      "name": "date_time_tools.py",
      "extension": ".py",
      "size": 388,
      "category": "source_python",
      "purpose": "Ferramentas: Funções: get_current_datetime",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "get_current_datetime",
            "docstring": "Returns the current date and time.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "datetime",
          "langchain_core.tools",
          "logging"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\debug_server.py",
      "name": "debug_server.py",
      "extension": ".py",
      "size": 1270,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "logging",
          "os",
          "sys",
          "app.core.config"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\flexible_query_tool.py",
      "name": "flexible_query_tool.py",
      "extension": ".py",
      "size": 10064,
      "category": "source_python",
      "purpose": "Ferramentas: Ferramenta genérica e flexível para consultas ao Parquet",
      "details": {
        "type": "python",
        "docstring": "Ferramenta genérica e flexível para consultas ao Parquet\nPermite ao agente consultar qualquer dado de forma inteligente\n\nCORREÇÃO 2024-12-13: Resolvido erro \"DataFrame constructor not properly called\"\n- Carrega Parquet diretamente (evita HybridAdapter problemático)\n- Serialização JSON correta com .to_dict(orient='records')\n- Mapeamento case-insensitive de colunas",
        "classes": [],
        "functions": [
          {
            "name": "_safe_serialize",
            "docstring": "Converte valor para JSON-safe.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_find_column",
            "docstring": "Encontra coluna no DataFrame (case-insensitive).",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "consultar_dados_flexivel",
            "docstring": "Ferramenta GENÉRICA e FLEXÍVEL para consultar dados do Parquet.\nGarante alta performance usando cache centralizado (DuckDB).",
            "is_async": false,
            "decorators": [
              "tool",
              "<ast.Call object at 0x000001FA87F78070>"
            ]
          }
        ],
        "imports": [
          "langchain_core.tools",
          "pandas",
          "numpy",
          "logging",
          "os",
          "typing",
          "app.core.utils.error_handler",
          "app.infrastructure.data.duckdb_adapter"
        ],
        "constants": [
          "COLUMN_MAPPING"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\graph_integration.py",
      "name": "graph_integration.py",
      "extension": ".py",
      "size": 6281,
      "category": "source_python",
      "purpose": "Funções: processar_resposta_com_grafico",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "processar_resposta_com_grafico",
            "docstring": "Processa a resposta do agente e gera gráfico se apropriado,\nintegrando as funcionalidades do agente_visual.py com o sistema existente.\n\nArgs:\n    resposta: Resposta do agente (pode ser dict, string ou objeto)\n\nReturns:\n    Dict com a resposta processada e caminho do gráfico se gerado",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "os",
          "typing",
          "pandas",
          "app.core.tools.visualization_tools",
          "agente_visual"
        ],
        "constants": [
          "PLOT_DIR",
          "CHART_OUTPUT_DIR"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\mcp_parquet_tools.py",
      "name": "mcp_parquet_tools.py",
      "extension": ".py",
      "size": 4283,
      "category": "source_python",
      "purpose": "Ferramentas: Funções: get_product_data, get_product_stock, list_product_categories",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "get_product_data",
            "docstring": "Busca dados de um produto em Filial_Madureira.parquet.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "get_product_stock",
            "docstring": "Retorna dados de um produto específico em Filial_Madureira.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "list_product_categories",
            "docstring": "Retorna uma lista de todas as categorias de produtos disponíveis no arquivo Parquet 'Filial_Madureira.parquet'.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "os",
          "pandas",
          "typing",
          "langchain_core.tools",
          "logging"
        ],
        "constants": [
          "PARQUET_DIR",
          "FILIAL_MADUREIRA_PATH"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\mcp_sql_server_tools.py",
      "name": "mcp_sql_server_tools.py",
      "extension": ".py",
      "size": 4097,
      "category": "source_python",
      "purpose": "Ferramentas: Funções: get_product_data, get_product_stock, list_product_categories",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "get_product_data",
            "docstring": "Busca dados de um produto em Filial_Madureira.parquet.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "get_product_stock",
            "docstring": "Retorna dados de um produto em Filial_Madureira.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "list_product_categories",
            "docstring": "Lista categorias disponíveis em Filial_Madureira.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "os",
          "pandas",
          "typing",
          "langchain_core.tools",
          "logging"
        ],
        "constants": [
          "PARQUET_DIR",
          "FILIAL_MADUREIRA_PATH"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\quick_response.py",
      "name": "quick_response.py",
      "extension": ".py",
      "size": 6125,
      "category": "source_python",
      "purpose": "Sistema de Resposta Rápida (Quick Response)",
      "details": {
        "type": "python",
        "docstring": "Sistema de Resposta Rápida (Quick Response)\nResponde consultas simples SEM usar o LLM para performance máxima.\n\nTempo de resposta: < 500ms\nTaxa de acerto: 95%+",
        "classes": [
          {
            "name": "QuickResponseSystem",
            "docstring": "Sistema de resposta rápida para consultas simples.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "try_quick_response",
                "docstring": "Tenta responder rapidamente sem LLM.\n\nArgs:\n    query: Pergunta do usuário\n\nReturns:\n    Resposta formatada ou None se não conseguir responder",
                "is_async": false
              },
              {
                "name": "_extract_product_code",
                "docstring": "Extrai código do produto da query.",
                "is_async": false
              },
              {
                "name": "_format_price_response",
                "docstring": "Formata resposta de preço.",
                "is_async": false
              },
              {
                "name": "_format_stock_response",
                "docstring": "Formata resposta de estoque.",
                "is_async": false
              },
              {
                "name": "_format_manufacturer_response",
                "docstring": "Formata resposta de fabricante.",
                "is_async": false
              },
              {
                "name": "_format_name_response",
                "docstring": "Formata resposta de nome/descrição.",
                "is_async": false
              },
              {
                "name": "_format_sales_response",
                "docstring": "Formata resposta de vendas.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "create_quick_response_system",
            "docstring": "Factory function para criar o sistema de resposta rápida.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "re",
          "logging",
          "typing",
          "polars"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\semantic_search_tool.py",
      "name": "semantic_search_tool.py",
      "extension": ".py",
      "size": 10839,
      "category": "source_python",
      "purpose": "Ferramentas: Ferramenta de busca semântica para produtos usando RAG (Retrieval-Augmented Generation).",
      "details": {
        "type": "python",
        "docstring": "Ferramenta de busca semântica para produtos usando RAG (Retrieval-Augmented Generation).\n\nImplementa hybrid search combinando:\n- Semantic search via Google Generative AI Embeddings\n- Keyword search tradicional\n- Reciprocal Rank Fusion (RRF) para merge de resultados\n\nAuthor: Context7 2025\nStatus: POC (Proof of Concept)",
        "classes": [],
        "functions": [
          {
            "name": "_get_embeddings_model",
            "docstring": "Retorna o modelo de embeddings (singleton)",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_initialize_vector_store",
            "docstring": "Inicializa o vector store FAISS com embeddings de produtos.\nExecuta apenas uma vez e cacheia o resultado (lazy loading).",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_reciprocal_rank_fusion",
            "docstring": "Combina resultados de semantic e keyword search usando Reciprocal Rank Fusion.\n\nRRF Formula: score(d) = Σ 1 / (k + rank(d))\nonde k é uma constante (default=60) e rank(d) é a posição do documento.\n\nArgs:\n    semantic_results: Resultados da busca semântica\n    keyword_results: Resultados da busca por palavra-chave\n    limit: Número máximo de resultados\n    k: Constante RRF (default=60)\n\nReturns:\n    Lista mesclada e ranqueada de resultados",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "buscar_produtos_inteligente",
            "docstring": "Busca produtos usando IA semântica (RAG) com tolerância a typos e sinônimos.\n\nEsta ferramenta combina busca semântica (embeddings) com busca tradicional\npor palavra-chave, resultando em melhor recall e precisão.\n\nExemplos de uso:\n- \"cola para sapato\" → encontra \"Cola de Sapateiro\"\n- \"maquiagem rosto\" → encontra \"Base\", \"Pó Compacto\", etc.\n- \"tinta cabelo\" → encontra \"Tintura Capilar\", \"Coloração\"\n\nArgs:\n    descricao: Descrição natural do produto que procura\n    limite: Número máximo de resultados (default: 10)\n    usar_hybrid: Se True, combina semantic + keyword (default: True)\n\nReturns:\n    Dicionário com produtos encontrados e scores de relevância",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "reinicializar_vector_store",
            "docstring": "Reinicializa o vector store (útil se dados foram atualizados).\nUse apenas quando necessário, pois recria todos os embeddings.\n\nReturns:\n    Status da reinicialização",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "logging",
          "os",
          "typing",
          "langchain_core.tools",
          "langchain_google_genai",
          "langchain_community.vectorstores",
          "polars",
          "pathlib"
        ],
        "constants": [
          "_VECTOR_STORE_CACHE",
          "_EMBEDDINGS_MODEL"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\sql_server_tools.py",
      "name": "sql_server_tools.py",
      "extension": ".py",
      "size": 10748,
      "category": "source_python",
      "purpose": "Ferramentas: Ferramentas para executar consultas SQL Server através do agente.",
      "details": {
        "type": "python",
        "docstring": "Ferramentas para executar consultas SQL Server através do agente.\nIntegração direta com o banco de dados para respostas em tempo real.",
        "classes": [],
        "functions": [
          {
            "name": "query_database",
            "docstring": "Executa uma consulta SQL diretamente no banco de dados.\n\nArgs:\n    sql_query: Consulta SQL para executar\n\nReturns:\n    Dicionário com os resultados ou erro",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "get_product_by_code",
            "docstring": "Busca um produto pelo código na tabela ADMAT_OPCOM.\n\nArgs:\n    product_code: Código do produto\n\nReturns:\n    Informações do produto",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "search_products_by_name",
            "docstring": "Busca produtos pelo nome (parcial) na tabela ADMAT_OPCOM.\n\nArgs:\n    product_name: Nome ou parte do nome do produto\n    limit: Número máximo de resultados\n\nReturns:\n    Lista de produtos encontrados",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "get_products_by_category",
            "docstring": "Busca produtos por categoria.\n\nArgs:\n    category: Nome da categoria\n    limit: Número máximo de resultados\n\nReturns:\n    Lista de produtos da categoria",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "get_top_selling_products",
            "docstring": "Retorna os produtos mais vendidos nos últimos 30 dias.\n\nArgs:\n    limit: Número máximo de resultados\n\nReturns:\n    Lista dos produtos mais vendidos",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "get_product_stock",
            "docstring": "Retorna o estoque de um produto específico.\n\nArgs:\n    product_code: Código do produto\n\nReturns:\n    Informações de estoque",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "logging",
          "typing",
          "langchain_core.tools",
          "app.core.database.database",
          "sqlalchemy"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\une_tools.py",
      "name": "une_tools.py",
      "extension": ".py",
      "size": 67418,
      "category": "source_python",
      "purpose": "Ferramentas: Ferramentas LangChain para operações UNE.",
      "details": {
        "type": "python",
        "docstring": "Ferramentas LangChain para operações UNE.\nImplementa regras de abastecimento, MC e política de preços.\n\nEste módulo fornece ferramentas para:\n- Cálculo de necessidades de abastecimento por UNE\n- Consulta de MC (Média Comum) de produtos\n- Cálculo de preços finais aplicando política de preços UNE",
        "classes": [],
        "functions": [
          {
            "name": "_get_data_adapter",
            "docstring": "Retorna adapter de dados (HybridAdapter ou Parquet direto) com cache",
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA899AB400>"
            ]
          },
          {
            "name": "_normalize_dataframe",
            "docstring": "Normaliza DataFrame para ter colunas consistentes independente da fonte",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_load_data",
            "docstring": "Carrega dados usando adapter apropriado (SQL ou Parquet) com validação\n\nArgs:\n    filters: Filtros a aplicar (ex: {'une': 2586, 'codigo': 369947})\n    columns: Colunas específicas a carregar (otimização)\n\nReturns:\n    DataFrame normalizado e validado",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "calcular_abastecimento_une",
            "docstring": "Calcula produtos que precisam de abastecimento em uma UNE.\n\nRegra aplicada: ESTOQUE_UNE <= 50% LINHA_VERDE\n\nArgs:\n    une_id: ID da UNE (1-10)\n    segmento: Filtro opcional por segmento (ex: \"TECIDOS\", \"PAPELARIA\")\n\nReturns:\n    dict com:\n    - total_produtos: int (total de produtos que precisam abastecimento)\n    - produtos: list[dict] (top 20 produtos ordenados por qtd_a_abastecer DESC)\n    - regra_aplicada: str (descrição da regra de abastecimento)\n    - une_id: int\n    - segmento: str (se aplicado)\n\nExample:\n    >>> result = calcular_abastecimento_une(une_id=1, segmento=\"TECIDOS\")\n    >>> print(f\"Total produtos: {result['total_produtos']}\")",
            "is_async": false,
            "decorators": [
              "tool",
              "<ast.Call object at 0x000001FA87F79120>"
            ]
          },
          {
            "name": "calcular_mc_produto",
            "docstring": "Retorna informações de MC (Média Comum) de um produto em uma UNE específica.\n\nA MC representa a média de vendas do produto, usada para dimensionar\no estoque adequado em gôndola.\n\nArgs:\n    produto_id: Código do produto\n    une_id: ID da UNE (1-10)\n\nReturns:\n    dict com:\n    - produto_id: int\n    - nome: str\n    - segmento: str\n    - mc_calculada: float (Média Comum)\n    - estoque_atual: float\n    - linha_verde: float (estoque máximo)\n    - estoque_gondola: float (se existir na base)\n    - percentual_linha_verde: float (% do estoque em relação à linha verde)\n    - recomendacao: str (orientação de abastecimento)\n\nExample:\n    >>> result = calcular_mc_produto(produto_id=12345, une_id=1)\n    >>> print(f\"MC: {result['mc_calculada']}, Recomendação: {result['recomendacao']}\")",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "calcular_preco_final_une",
            "docstring": "Calcula preço final aplicando política de preços UNE.\n\nRegras de Tipo de Preço:\n- Valor >= R$ 750,00 → Preço Atacado\n- Valor < R$ 750,00 → Preço Varejo\n\nPolítica por Ranking:\n- Ranking 0: Atacado 38%, Varejo 30%\n- Ranking 1: Preço único 38% (independente do valor)\n- Ranking 2: Atacado 38%, Varejo 30%\n- Ranking 3: Sem desconto (preço tabela)\n- Ranking 4: Atacado 38%, Varejo 24%\n\nDesconto por Forma de Pagamento:\n- 'vista': 38%\n- '30d': 36%\n- '90d': 34%\n- '120d': 30%\n\nArgs:\n    valor_compra: Valor total da compra em reais\n    ranking: Classificação do produto (0-4)\n    forma_pagamento: Tipo de pagamento ('vista', '30d', '90d', '120d')\n\nReturns:\n    dict com:\n    - valor_original: float\n    - tipo: str (\"Atacado\" ou \"Varejo\")\n    - ranking: int\n    - desconto_ranking: str (percentual aplicado pelo ranking)\n    - forma_pagamento: str\n    - desconto_pagamento: str (percentual por forma de pagamento)\n    - preco_final: float\n    - economia: float (valor economizado)\n    - detalhamento: str (explicação do cálculo)\n\nExample:\n    >>> result = calcular_preco_final_une(valor_compra=1000.0, ranking=0, forma_pagamento='vista')\n    >>> print(f\"Preço final: R$ {result['preco_final']:.2f}\")",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "validar_transferencia_produto",
            "docstring": "Valida se uma transferência de produto entre UNEs é viável e recomendada.\n\nAplica regras de negócio para verificar:\n- Se UNE origem tem estoque suficiente\n- Se UNE destino realmente precisa do produto\n- Se a quantidade está dentro dos limites adequados\n- Se a transferência é prioritária baseada em linha verde e MC\n- Incorpora a regra de ruptura crítica (sem estoque no CD).\n\nArgs:\n    produto_id: Código do produto a transferir\n    une_origem: ID da UNE que vai enviar o produto\n    une_destino: ID da UNE que vai receber o produto\n    quantidade: Quantidade a transferir\n\nReturns:\n    dict com:\n    - valido: bool (se a transferência é válida)\n    - prioridade: str (\"URGENTE\", \"ALTA\", \"NORMAL\", \"BAIXA\", \"NAO_RECOMENDADA\")\n    - score_prioridade: float (0-100, quanto maior mais prioritária)\n    - motivo: str (justificativa da validação)\n    - recomendacoes: list[str] (ações sugeridas)\n    ... e outros detalhes.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "sugerir_transferencias_automaticas",
            "docstring": "Sugere transferências automáticas entre UNEs baseadas em regras de negócio.\n\nIdentifica oportunidades de balanceamento de estoque considerando:\n- UNEs com excesso de estoque (>100% linha verde)\n- UNEs com falta de estoque (<50% linha verde)\n- MC (Média Comum) e histórico de vendas\n- Priorização por criticidade\n\nArgs:\n    limite: Número máximo de sugestões a retornar (default: 20)\n    une_origem_filtro: Filtrar sugestões apenas desta UNE origem (opcional)\n\nReturns:\n    dict com:\n    - total_sugestoes: int\n    - sugestoes: list[dict] (sugestões ordenadas por prioridade)\n    - estatisticas: dict (resumo das sugestões)\n\nCada sugestão contém:\n    - produto_id: int\n    - nome_produto: str\n    - une_origem: int\n    - une_destino: int\n    - quantidade_sugerida: int\n    - prioridade: str\n    - score: float\n    - motivo: str\n    - beneficio_estimado: str\n\nExample:\n    >>> result = sugerir_transferencias_automaticas(limite=10, une_origem_filtro=3116)\n    >>> for sug in result['sugestoes']:\n    ...     print(f\"{sug['nome_produto']}: UNE {sug['une_origem']} -> {sug['une_destino']}\")",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "calcular_produtos_sem_vendas",
            "docstring": "Identifica produtos sem vendas (VENDA_30DD = 0) em uma UNE, com filtro opcional por fabricante.\n\nEsta ferramenta é útil para:\n- Identificar produtos sem giro\n- Detectar itens parados em estoque\n- Analisar a ruptura de um fabricante específico\n\nArgs:\n    une_id: ID da UNE (ex: 2586 para SCR, 261 para MAD)\n    limite: Número máximo de produtos a retornar (default: 50)\n    fabricante: Nome do fabricante para filtrar os resultados (opcional)\n\nReturns:\n    dict com:\n    - total_produtos: int (total de produtos sem vendas)\n    - produtos: list[dict] (produtos sem vendas com estoque > 0)\n    - une_id: int\n    - criterio: str (descrição do filtro aplicado)\n\nExample:\n    >>> result = calcular_produtos_sem_vendas(une_id=2586, limite=20, fabricante=\"KIT\")\n    >>> print(f\"Total: {result['total_produtos']} produtos sem vendas do fabricante KIT\")",
            "is_async": false,
            "decorators": [
              "tool",
              "<ast.Call object at 0x000001FA89D58610>"
            ]
          },
          {
            "name": "encontrar_rupturas_criticas",
            "docstring": "Identifica produtos em situação de ruptura crítica sistêmica, ordenados por gravidade.\n\nA regra de negócio para ruptura crítica é:\n1. O estoque no Centro de Distribuição (CD) é zero ou negativo (estoque_cd <= 0).\n2. O estoque na UNE (loja) está abaixo da linha verde (estoque_atual < linha_verde).\n\nA lista é ordenada para mostrar primeiro os produtos com \"Estoque Negativo Crítico\"\ne depois por 'percentual_cobertura' (do menor para o maior), que representa\no quão cheio o estoque está em relação à linha verde.\n\nArgs:\n    limite: Número máximo de produtos críticos a retornar. Se None, retorna todos.\n\nReturns:\n    dict com:\n    - total_criticos: int (total de produtos em situação crítica)\n    - produtos_criticos: list[dict] (lista dos produtos, incluindo 'motivo_ruptura', 'alerta_de_estoque' e 'percentual_cobertura')\n    - criterio: str (descrição da regra aplicada)\n\nExample:\n    >>> result = encontrar_rupturas_criticas(limite=10)\n    >>> print(f\"Total de produtos críticos: {result['total_criticos']}\")",
            "is_async": false,
            "decorators": [
              "tool",
              "<ast.Call object at 0x000001FA89CB6590>"
            ]
          },
          {
            "name": "consultar_dados_gerais",
            "docstring": "Consulta dados gerais de produtos, estoque e vendas com filtros flexíveis.\nUse esta ferramenta para responder perguntas gerais como:\n- \"Qual o estoque do produto X na UNE Y?\"\n- \"Quais produtos do segmento Z temos na UNE Y?\"\n- \"Dados do produto 12345\"\n\nArgs:\n    une_id: ID da UNE (opcional)\n    produto_id: Código do produto (opcional)\n    segmento: Nome do segmento (opcional, ex: \"TECIDOS\")\n    termo_busca: Parte do nome do produto para busca (opcional)\n    limite: Máximo de resultados (default: 20)\n\nReturns:\n    dict com 'total_resultados' e lista de 'resultados'.",
            "is_async": false,
            "decorators": [
              "tool",
              "<ast.Call object at 0x000001FA89C6DC60>"
            ]
          },
          {
            "name": "_standard_response",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_produtos_une",
            "docstring": "Compat wrapper: retorna produtos para uma UNE.\n\nUsa `_load_data` e devolve lista de registros normalizados.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_transferencias",
            "docstring": "Compat wrapper: retorna transferencias (usa sugerir_transferencias_automaticas como fallback).",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_estoque_une",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_vendas_une",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_unes_disponiveis",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_preco_produto",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_total_vendas_une",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_total_estoque_une",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "health_check",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "langchain_core.tools",
          "pandas",
          "os",
          "logging",
          "typing",
          "functools",
          "pathlib",
          "app.core.validators.schema_validator",
          "app.core.utils.query_validator",
          "app.core.utils.error_handler",
          "app.infrastructure.data.duckdb_adapter",
          "app.infrastructure.data.hybrid_adapter",
          "pyarrow.parquet",
          "pathlib"
        ],
        "constants": [
          "USE_HYBRID_ADAPTER",
          "COLUMN_MAPPING_SQL",
          "COLUMN_MAPPING_PARQUET"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\tools\\une_tools_backup_old.py",
      "name": "une_tools_backup_old.py",
      "extension": ".py",
      "size": 16866,
      "category": "source_python",
      "purpose": "Ferramentas: Define classes: HybridAdapter",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "HybridAdapter",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "fetch_data",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_known_columns",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "tool",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_get_data_adapter",
            "docstring": "Returns a cached instance of HybridAdapter.\nIn a real scenario, configuration for parquet_dir and sql_server_conn_str\nwould come from settings.",
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F9BA00>"
            ]
          },
          {
            "name": "_normalize_dataframe",
            "docstring": "Normalizes column names from SQL to Parquet conventions if necessary,\nand ensures consistent data types.\nPlaceholder for actual normalization logic.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_load_data",
            "docstring": "Loads data using the HybridAdapter with given filters and columns.\nIncludes basic schema validation and error handling (placeholder).",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "calcular_abastecimento_une",
            "docstring": "Calcula a necessidade de abastecimento para uma UNE específica, opcionalmente por segmento.\nRetorna os produtos com maior criticidade de abastecimento.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "calcular_mc_produto",
            "docstring": "Calcula a Margem de Contribuição (MC) para um produto específico em uma UNE.\nA MC é baseada na 'media_considerada_lv' ou na média de vendas, conforme regras de negócio.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "calcular_preco_final_une",
            "docstring": "Calcula o preço final de venda para um produto em uma UNE específica,\nconsiderando políticas de precificação (placeholder).",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "validar_transferencia_produto",
            "docstring": "Valida se uma transferência de produto entre UNEs é possível,\nconsiderando estoque na origem, linha verde do destino, etc.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "sugerir_transferencias_automaticas",
            "docstring": "Sugere transferências automáticas baseadas em produtos com alta criticidade de ruptura\ne disponibilidade em outras UNEs.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "encontrar_rupturas_criticas",
            "docstring": "Identifica UNEs/produtos com maior probabilidade de ruptura crítica,\nbaseado em estoque atual, linha verde e vendas diárias.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "typing",
          "functools"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\unified_data_tools.py",
      "name": "unified_data_tools.py",
      "extension": ".py",
      "size": 12415,
      "category": "source_python",
      "purpose": "Ferramentas: Ferramentas unificadas para acessar dados de Filial_Madureira.parquet",
      "details": {
        "type": "python",
        "docstring": "Ferramentas unificadas para acessar dados de Filial_Madureira.parquet\nEste arquivo foi refatorado para usar o DataSourceManager centralizado.",
        "classes": [],
        "functions": [
          {
            "name": "_truncate_df_for_llm",
            "docstring": "Trunca o DataFrame e prepara a resposta para o LLM.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "listar_colunas_disponiveis",
            "docstring": "IMPORTANTE: Use esta ferramenta PRIMEIRO quando não souber quais colunas existem!\n\nLista todas as colunas disponíveis na fonte de dados principal (Filial_Madureira.parquet)\ncom seus tipos de dados e exemplos de valores.\n\nEsta é a ÚNICA fonte de dados do sistema. Não existe banco SQL ativo.\n\nReturns:\n    Dicionário com lista de colunas, tipos e exemplos de valores.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "consultar_dados",
            "docstring": "Consulta dados na fonte de dados Filial_Madureira.parquet.\n\nUse `listar_colunas_disponiveis` para ver as colunas.\n\nArgs:\n    coluna: Nome da coluna para filtrar (opcional).\n    valor: Valor a buscar na coluna (aceita string, int ou float).\n    coluna_retorno: Coluna específica para retornar (opcional).\n    limite: Limite de registros (padrão: 100).\n\nReturns:\n    Uma string formatada com os dados consultados ou uma mensagem de erro/não encontrado.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "buscar_produto",
            "docstring": "Busca produtos por código ou nome usando o DataSourceManager.\n\nArgs:\n    codigo: Código do produto (busca em 'CODIGO').\n    nome: Nome do produto (busca parcial em 'DESCRIÇÃO').\n    limite: Número máximo de resultados.\n\nReturns:\n    Dicionário com os produtos encontrados.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          },
          {
            "name": "obter_estoque",
            "docstring": "Obtém informações de estoque de um produto usando o DataSourceManager.\n\nArgs:\n    codigo_produto: Código do produto.\n    nome_produto: Nome do produto.\n\nReturns:\n    Dados de estoque do produto.",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "logging",
          "typing",
          "pandas",
          "langchain_core.tools",
          "app.core.data_source_manager"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\universal_chart_generator.py",
      "name": "universal_chart_generator.py",
      "extension": ".py",
      "size": 10499,
      "category": "source_python",
      "purpose": "Ferramenta Universal de Geração de Gráficos - Context7 2025",
      "details": {
        "type": "python",
        "docstring": "Ferramenta Universal de Geração de Gráficos - Context7 2025\nSolução definitiva para gráficos com filtros dinâmicos e performance otimizada.",
        "classes": [],
        "functions": [
          {
            "name": "_export_chart_to_json",
            "docstring": "Exporta figura como JSON para frontend.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "gerar_grafico_universal_v2",
            "docstring": "Gera qualquer tipo de gráfico com filtros dinâmicos.\n\nEsta é a ferramenta UNIVERSAL para geração de gráficos.\nSubstitui todas as ferramentas específicas anteriores.\n\nArgs:\n    descricao: Descrição do que deve ser visualizado (ex: \"vendas por segmento\")\n    filtro_une: Código da loja/UNE para filtrar (ex: 1685)\n    filtro_segmento: Nome do segmento para filtrar (ex: \"ARMARINHO\")\n    filtro_categoria: Nome da categoria para filtrar\n    filtro_produto: Código do produto (SKU) para análise individual (ex: 369946)\n    tipo_grafico: Tipo de gráfico (\"bar\", \"pie\", \"line\", \"auto\")\n    limite: Número máximo de itens no gráfico\n\nReturns:\n    Gráfico Plotly JSON com dados filtrados\n\nExemplos:\n    - gerar_grafico_universal_v2(descricao=\"vendas por segmento\", filtro_une=1685)\n    - gerar_grafico_universal_v2(descricao=\"top produtos\", filtro_segmento=\"ARMARINHO\", limite=20)\n    - gerar_grafico_universal_v2(descricao=\"estoque por categoria\", tipo_grafico=\"bar\")\n    - gerar_grafico_universal_v2(descricao=\"vendas mensais\", filtro_produto=369946)",
            "is_async": false,
            "decorators": [
              "tool"
            ]
          }
        ],
        "imports": [
          "logging",
          "typing",
          "pandas",
          "polars",
          "plotly.graph_objects",
          "langchain_core.tools",
          "app.core.data_source_manager"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\tools\\verify_imports.py",
      "name": "verify_imports.py",
      "extension": ".py",
      "size": 1218,
      "category": "source_python",
      "purpose": "Funções: check_import",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "check_import",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "importlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 16,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\agent_cache.py",
      "name": "agent_cache.py",
      "extension": ".py",
      "size": 6109,
      "category": "source_python",
      "purpose": "Agente BI: Agent Cache - Cache em memória para resultados de ferramentas",
      "details": {
        "type": "python",
        "docstring": "Agent Cache - Cache em memória para resultados de ferramentas\nMelhoria 2024: Reduz latência em queries repetidas em até 80%",
        "classes": [
          {
            "name": "AgentCache",
            "docstring": "Cache simples em memória para resultados de ferramentas.\n\nFeatures:\n- TTL configurável (padrão: 5 minutos)\n- Limpeza automática de entradas expiradas\n- Hash de argumentos para chave única\n- Thread-safe (básico)",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o cache.\n\nArgs:\n    ttl_minutes: Tempo de vida das entradas em minutos",
                "is_async": false
              },
              {
                "name": "_generate_key",
                "docstring": "Gera chave única baseada no nome da ferramenta e argumentos.\n\nArgs:\n    tool_name: Nome da ferramenta\n    **kwargs: Argumentos da ferramenta\n    \nReturns:\n    Hash MD5 da combinação",
                "is_async": false
              },
              {
                "name": "get",
                "docstring": "Recupera valor do cache se existir e não estiver expirado.\n\nArgs:\n    tool_name: Nome da ferramenta\n    **kwargs: Argumentos da ferramenta\n    \nReturns:\n    Valor cacheado ou None se não encontrado/expirado",
                "is_async": false
              },
              {
                "name": "set",
                "docstring": "Armazena valor no cache.\n\nArgs:\n    tool_name: Nome da ferramenta\n    value: Valor a ser cacheado\n    **kwargs: Argumentos da ferramenta",
                "is_async": false
              },
              {
                "name": "clear",
                "docstring": "Limpa todo o cache.",
                "is_async": false
              },
              {
                "name": "cleanup_expired",
                "docstring": "Remove entradas expiradas do cache.\n\nReturns:\n    Número de entradas removidas",
                "is_async": false
              },
              {
                "name": "get_stats",
                "docstring": "Retorna estatísticas do cache.\n\nReturns:\n    Dicionário com estatísticas",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_agent_cache",
            "docstring": "Retorna instância singleton do cache.\n\nArgs:\n    ttl_minutes: TTL em minutos (usado apenas na primeira chamada)\n    \nReturns:\n    Instância do AgentCache",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "cached_tool",
            "docstring": "Decorator para cachear resultados de ferramentas.\n\nUsage:\n    @cached_tool(ttl_minutes=5)\n    @tool\n    def my_tool(arg1: str, arg2: int) -> Dict:\n        # ... expensive operation\n        return result\n\nArgs:\n    ttl_minutes: Tempo de vida do cache em minutos",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "hashlib",
          "json",
          "logging",
          "datetime",
          "typing",
          "functools"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\cache_cleaner.py",
      "name": "cache_cleaner.py",
      "extension": ".py",
      "size": 12421,
      "category": "source_python",
      "purpose": "Sistema Automático de Limpeza de Cache",
      "details": {
        "type": "python",
        "docstring": "Sistema Automático de Limpeza de Cache\nAutor: Agent_Solution_BI (Adaptado para FastAPI)\nData: 2025-12-03\n\nEste módulo implementa limpeza automática de caches para:\n- __pycache__ (bytecode Python)\n- data/cache (cache LLM responses)\n- data/cache_agent_graph (cache de grafos)\n- Versionamento automático para invalidação de cache\n\nExecuta automaticamente no startup do FastAPI.",
        "classes": [
          {
            "name": "CacheCleaner",
            "docstring": "Sistema centralizado de limpeza automática de cache com versionamento.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o limpador de cache.\n\nArgs:\n    base_path: Diretório raiz do projeto (default: cwd)\n    max_age_days: Idade máxima de arquivos de cache (default: 7 dias)",
                "is_async": false
              },
              {
                "name": "get_code_version_hash",
                "docstring": "✅ OTIMIZAÇÃO v2.2: Gera hash baseado apenas em arquivos críticos (10-20 arquivos)\nReduz tempo de processamento de 500ms-1.5s para ~50-100ms (10x+ mais rápido)\n\nReturns:\n    Hash SHA256 dos arquivos Python críticos (primeiros 12 caracteres)",
                "is_async": false
              },
              {
                "name": "load_version_info",
                "docstring": "Carrega informações de versão do cache.\n\nReturns:\n    Dict com version_hash, last_cleaned, etc.",
                "is_async": false
              },
              {
                "name": "save_version_info",
                "docstring": "Salva informações de versão do cache.\n\nArgs:\n    info: Dicionário com version_hash, last_cleaned, etc.",
                "is_async": false
              },
              {
                "name": "clean_pycache",
                "docstring": "Remove todos os diretórios __pycache__ do projeto.\n\nReturns:\n    (num_dirs_removed, total_size_mb)",
                "is_async": false
              },
              {
                "name": "clean_old_files",
                "docstring": "Remove arquivos antigos de um diretório.\n\nArgs:\n    directory: Diretório a limpar\n    max_age_seconds: Idade máxima (default: self.max_age_seconds)\n\nReturns:\n    (num_files_removed, total_size_mb)",
                "is_async": false
              },
              {
                "name": "clean_all_cache",
                "docstring": "Executa limpeza completa de todos os caches.\n\nArgs:\n    force: Se True, limpa tudo independente da versão\n\nReturns:\n    Dict com estatísticas da limpeza",
                "is_async": false
              },
              {
                "name": "clean_on_startup",
                "docstring": "Método de conveniência para executar no startup do FastAPI.\n\nArgs:\n    force: Forçar limpeza completa",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "run_cache_cleanup",
            "docstring": "Função de conveniência para executar limpeza de cache.\n\nArgs:\n    base_path: Diretório raiz do projeto\n    max_age_days: Idade máxima de arquivos de cache\n    force: Forçar limpeza completa\n\nReturns:\n    Dict com estatísticas da limpeza",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "shutil",
          "logging",
          "hashlib",
          "json",
          "datetime",
          "pathlib",
          "typing",
          "sys"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\chart_saver.py",
      "name": "chart_saver.py",
      "extension": ".py",
      "size": 1967,
      "category": "source_python",
      "purpose": "Funções: save_chart",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "save_chart",
            "docstring": "Salva um gráfico JSON em um arquivo no diretório de dashboards.\n\nArgs:\n    chart_json (str): A string JSON do gráfico Plotly.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "json",
          "uuid",
          "datetime",
          "pathlib",
          "logging"
        ],
        "constants": [
          "DASHBOARD_DIR"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\utils\\confidence_scorer.py",
      "name": "confidence_scorer.py",
      "extension": ".py",
      "size": 7854,
      "category": "source_python",
      "purpose": "Confidence Scoring para Respostas LLM",
      "details": {
        "type": "python",
        "docstring": "Confidence Scoring para Respostas LLM\n======================================\n\nCalcula score de confiança para respostas do agente baseado em múltiplos sinais:\n- Qualidade da resposta (comprimento, estrutura)\n- Similaridade com exemplos conhecidos (RAG)\n- Presença de palavras de incerteza\n- Sucesso de tool calls\n\nUsado para:\n- Low-confidence routing (< 0.7 → supervisão humana)\n- Priorização de feedback collection\n- Métricas de qualidade\n\nAuthor: Agent BI Team\nDate: 2025-12-27",
        "classes": [
          {
            "name": "ConfidenceScorer",
            "docstring": "Calcula confidence score (0.0-1.0) para respostas LLM.\n\nSinais considerados:\n1. Response quality (40%)\n2. RAG similarity (30%)\n3. Tool success (20%)\n4. Uncertainty markers (10%)",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o ConfidenceScorer.",
                "is_async": false
              },
              {
                "name": "calculate_confidence",
                "docstring": "Calcula confidence score composto.\n\nArgs:\n    response: Resposta gerada pelo LLM\n    rag_similarity: Score de similaridade RAG (0.0-1.0)\n    tool_results: Lista de resultados de tool calls\n    query_length: Comprimento da query original\n\nReturns:\n    Confidence score (0.0-1.0)",
                "is_async": false
              },
              {
                "name": "_calculate_response_quality",
                "docstring": "Calcula qualidade da resposta baseado em heurísticas.\n\nFatores:\n- Comprimento adequado (não muito curta, não muito longa)\n- Presença de estrutura (parágrafos, listas)\n- Proporção query/response\n- Presença de dados numéricos/específicos",
                "is_async": false
              },
              {
                "name": "_calculate_tool_success",
                "docstring": "Calcula sucesso das tool calls.\n\nArgs:\n    tool_results: Lista de resultados de ferramentas\n\nReturns:\n    Score 0.0-1.0 (1.0 = todas ferramentas bem-sucedidas)",
                "is_async": false
              },
              {
                "name": "_calculate_uncertainty_score",
                "docstring": "Penaliza respostas com marcadores de incerteza.\n\nReturns:\n    Score 0.0-1.0 (1.0 = sem incerteza, 0.0 = muita incerteza)",
                "is_async": false
              },
              {
                "name": "get_confidence_label",
                "docstring": "Converte score numérico em label qualitativo.\n\nArgs:\n    score: Confidence score (0.0-1.0)\n\nReturns:\n    Label: 'high', 'medium', ou 'low'",
                "is_async": false
              },
              {
                "name": "should_route_to_human",
                "docstring": "Decide se deve rotear para supervisão humana.\n\nArgs:\n    score: Confidence score\n    threshold: Threshold de decisão (padrão 0.7)\n\nReturns:\n    True se deve rotear para humano",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_confidence_scorer",
            "docstring": "Retorna instância singleton do ConfidenceScorer.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "re",
          "logging",
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\error_handler.py",
      "name": "error_handler.py",
      "extension": ".py",
      "size": 12783,
      "category": "source_python",
      "purpose": "Error Handler - Gerenciamento centralizado de erros.",
      "details": {
        "type": "python",
        "docstring": "Error Handler - Gerenciamento centralizado de erros.\n\nEste módulo fornece tratamento robusto e centralizado de erros\npara o sistema Agent Solution BI.\n\nFuncionalidades:\n- Captura de exceções específicas (ParquetFileError, etc)\n- Logging estruturado com contexto completo\n- Mensagens user-friendly\n- Rastreamento de erros recorrentes\n\nAutor: Code Agent\nData: 2025-10-17",
        "classes": [
          {
            "name": "APIError",
            "docstring": "Exceção customizada para erros da API",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Exception"
            ]
          },
          {
            "name": "ErrorContext",
            "docstring": "Contexto de erro com informações detalhadas.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa contexto de erro.\n\nArgs:\n    error: Exceção capturada\n    context: Dicionário com contexto (função, parâmetros, etc)\n    user_message: Mensagem personalizada para o usuário",
                "is_async": false
              },
              {
                "name": "_generate_user_message",
                "docstring": "Gera mensagem amigável baseada no tipo de erro.\n\nReturns:\n    Mensagem formatada para o usuário",
                "is_async": false
              },
              {
                "name": "to_dict",
                "docstring": "Converte contexto para dicionário.\n\nReturns:\n    Dict com informações do erro",
                "is_async": false
              },
              {
                "name": "log",
                "docstring": "Registra erro no log.\n\nArgs:\n    level: Nível de log (logging.ERROR, logging.WARNING, etc)",
                "is_async": false
              },
              {
                "name": "save_to_file",
                "docstring": "Salva erro em arquivo para análise posterior.",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "ErrorHandler",
            "docstring": "Gerenciador centralizado de erros.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o gerenciador de erros.",
                "is_async": false
              },
              {
                "name": "handle_error",
                "docstring": "Trata um erro de forma centralizada.\n\nArgs:\n    error: Exceção capturada\n    context: Contexto da operação\n    user_message: Mensagem personalizada para usuário\n    log_level: Nível de log\n    save_to_file: Se deve salvar em arquivo\n\nReturns:\n    ErrorContext com informações do erro",
                "is_async": false
              },
              {
                "name": "get_error_stats",
                "docstring": "Retorna estatísticas de erros.\n\nReturns:\n    Dict com contadores e informações de erros",
                "is_async": false
              },
              {
                "name": "clear_stats",
                "docstring": "Limpa estatísticas de erro.",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "ParquetErrorHandler",
            "docstring": "Handler específico para erros relacionados a arquivos Parquet.",
            "methods": [
              {
                "name": "handle_parquet_error",
                "docstring": "Trata erros específicos de Parquet.\n\nArgs:\n    error: Exceção\n    file_path: Caminho do arquivo Parquet\n\nReturns:\n    Dict com resposta de erro",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "handle_error",
            "docstring": "Função auxiliar para tratamento de erro.\n\nArgs:\n    error: Exceção\n    context: Contexto\n    user_message: Mensagem para usuário\n\nReturns:\n    ErrorContext",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_error_stats",
            "docstring": "Retorna estatísticas de erros.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "error_handler_decorator",
            "docstring": "Decorador para tratamento automático de erros.\n\nArgs:\n    context_func: Função que retorna contexto (recebe args, kwargs)\n    user_message: Mensagem personalizada para usuário\n    return_on_error: Valor a retornar em caso de erro\n\nExample:\n    @error_handler_decorator(\n        context_func=lambda *args, **kwargs: {'function': 'my_func', 'args': args},\n        return_on_error={'success': False, 'data': []}\n    )\n    def my_function(param1, param2):\n        # código que pode gerar erro\n        pass",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "create_error_response",
            "docstring": "Cria resposta padronizada de erro.\n\nArgs:\n    error: Exceção capturada\n    context: Contexto da operação\n    include_details: Se deve incluir detalhes técnicos\n\nReturns:\n    Dict com resposta de erro formatada",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "traceback",
          "typing",
          "datetime",
          "pathlib",
          "functools",
          "json"
        ],
        "constants": [
          "ERROR_LOG_DIR"
        ]
      }
    },
    {
      "path": "backend\\app\\core\\utils\\error_handler_backup.py",
      "name": "error_handler_backup.py",
      "extension": ".py",
      "size": 4596,
      "category": "source_python",
      "purpose": "Define classes: APIError",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "APIError",
            "docstring": "Custom exception for API-related errors.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "to_dict",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Exception"
            ]
          }
        ],
        "functions": [
          {
            "name": "error_handler_decorator",
            "docstring": "Decorator for handling errors in FastAPI endpoints or core logic functions.\nIt logs the error in a structured format and returns a user-friendly APIError response.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "functools",
          "logging",
          "typing",
          "inspect",
          "asyncio"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\fast_path_detector.py",
      "name": "fast_path_detector.py",
      "extension": ".py",
      "size": 3635,
      "category": "source_python",
      "purpose": "Funções: detect_fast_path_query",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "detect_fast_path_query",
            "docstring": "Detects if a query can be handled by a fast-path, bypassing complex agent orchestration. \n\nFast-path queries are typically simple, direct requests that can be routed to a\nspecific tool or information retrieval mechanism without LLM reasoning steps.\n\nArgs:\n    query: The user's natural language query.\n\nReturns:\n    The name of the target node/tool for the fast-path, or None if no fast-path is detected.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "re",
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\field_mapper.py",
      "name": "field_mapper.py",
      "extension": ".py",
      "size": 7217,
      "category": "source_python",
      "purpose": "Define classes: FieldMapper",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "FieldMapper",
            "docstring": "Maps natural language terms to actual database field names using a catalog.\nAlso provides known fields for agents.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_load_catalog",
                "docstring": "Loads the catalog from a JSON file.\nPlaceholder implementation. In a real scenario, this would load a dynamic catalog.",
                "is_async": false
              },
              {
                "name": "_get_default_placeholder_catalog",
                "docstring": "Default catalog if file not found or invalid.\nUses actual column names from admmat.parquet (UPPERCASE).",
                "is_async": false
              },
              {
                "name": "map_term",
                "docstring": "Maps a natural language term to its corresponding database field name.\nPerforms a case-insensitive lookup.",
                "is_async": false
              },
              {
                "name": "get_known_fields",
                "docstring": "Returns a list of all known natural language terms in the catalog.",
                "is_async": false
              },
              {
                "name": "get_db_fields",
                "docstring": "Returns a list of all known database field names in the catalog.",
                "is_async": false
              },
              {
                "name": "suggest_correction",
                "docstring": "Suggests a correction for an invalid term based on similarity.\nPlaceholder for a more advanced fuzzy matching implementation.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "typing",
          "os"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\query_history.py",
      "name": "query_history.py",
      "extension": ".py",
      "size": 8871,
      "category": "source_python",
      "purpose": "Define classes: QueryHistory",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "QueryHistory",
            "docstring": "Manages user query history, persisting it to daily JSONL files.\nAllows for searching and filtering of past queries.\n(T1.3.3 from TASK_LIST)",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_daily_file_path",
                "docstring": "Generates the file path for a given day.",
                "is_async": false
              },
              {
                "name": "add_query",
                "docstring": "Adds a new query entry to the daily history file.",
                "is_async": false
              },
              {
                "name": "_summarize_response",
                "docstring": "Creates a brief summary of the response for history logging.",
                "is_async": false
              },
              {
                "name": "_hash_response",
                "docstring": "Generates a hash of the full response for later integrity checks or matching.",
                "is_async": false
              },
              {
                "name": "get_history",
                "docstring": "Retrieves query history for a user, within a date range, with an optional limit.",
                "is_async": false
              },
              {
                "name": "search_queries",
                "docstring": "Searches query history for entries containing a specific keyword.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "os",
          "datetime",
          "typing",
          "app.config.settings",
          "hashlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\query_validator.py",
      "name": "query_validator.py",
      "extension": ".py",
      "size": 11999,
      "category": "source_python",
      "purpose": "Query Validator - Validador de queries Parquet.",
      "details": {
        "type": "python",
        "docstring": "Query Validator - Validador de queries Parquet.\n\nEste módulo fornece validação robusta de queries antes da execução,\nincluindo verificação de colunas, tipos e timeout.\n\nFuncionalidades:\n- Validação de colunas antes de filtrar\n- Tratamento de valores None/null\n- Timeout para queries longas\n- Mensagens de erro user-friendly\n\nAutor: Code Agent\nData: 2025-10-17",
        "classes": [
          {
            "name": "QueryTimeout",
            "docstring": "Exceção levantada quando query excede timeout.",
            "methods": [],
            "bases": [
              "Exception"
            ]
          },
          {
            "name": "QueryValidator",
            "docstring": "Validador de queries com timeout e verificação de integridade.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o validador.\n\nArgs:\n    default_timeout: Timeout padrão em segundos",
                "is_async": false
              },
              {
                "name": "timeout_context",
                "docstring": "Context manager para timeout de queries.\n\nArgs:\n    seconds: Tempo máximo de execução em segundos\n\nRaises:\n    QueryTimeout: Se a query exceder o tempo limite",
                "is_async": false
              },
              {
                "name": "validate_columns_in_dataframe",
                "docstring": "Valida se colunas existem no DataFrame.\n\nArgs:\n    df: DataFrame a validar\n    required_columns: Lista de colunas obrigatórias\n    table_name: Nome da tabela (para mensagens de erro)\n\nReturns:\n    Tupla (is_valid, missing_columns)",
                "is_async": false
              },
              {
                "name": "validate_filter_column",
                "docstring": "Valida se uma coluna existe antes de aplicar filtro.\n\nArgs:\n    df: DataFrame\n    column_name: Nome da coluna\n    table_name: Nome da tabela\n\nReturns:\n    True se a coluna existe",
                "is_async": false
              },
              {
                "name": "handle_null_values",
                "docstring": "Trata valores nulos em uma coluna.\n\nArgs:\n    df: DataFrame\n    column_name: Nome da coluna\n    strategy: Estratégia ('drop', 'fill', 'keep')\n    fill_value: Valor para preencher (se strategy='fill')\n\nReturns:\n    DataFrame com valores nulos tratados",
                "is_async": false
              },
              {
                "name": "safe_filter",
                "docstring": "Aplica filtro de forma segura com tratamento de erros.\n\nArgs:\n    df: DataFrame\n    filter_func: Função de filtro\n    error_message: Mensagem de erro personalizada\n\nReturns:\n    DataFrame filtrado ou original em caso de erro",
                "is_async": false
              },
              {
                "name": "execute_with_timeout",
                "docstring": "Executa função com timeout.\n\nArgs:\n    func: Função a executar\n    timeout: Tempo limite em segundos (usa default se None)\n    *args: Argumentos posicionais\n    **kwargs: Argumentos nomeados\n\nReturns:\n    Resultado da função\n\nRaises:\n    QueryTimeout: Se exceder o tempo limite",
                "is_async": false
              },
              {
                "name": "validate_and_convert_types",
                "docstring": "Valida e converte tipos de colunas.\n\nArgs:\n    df: DataFrame\n    column_types: Dict {column_name: desired_type}\n        Tipos suportados: 'int', 'float', 'str', 'datetime'\n\nReturns:\n    DataFrame com tipos convertidos",
                "is_async": false
              },
              {
                "name": "get_user_friendly_error",
                "docstring": "Converte exceção em mensagem user-friendly.\n\nArgs:\n    error: Exceção capturada\n\nReturns:\n    Mensagem de erro formatada para o usuário",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "safe_convert_types",
            "docstring": "Compat shim: nome legado esperado por alguns testes/scripts.\n\nEncaminha para `validate_and_convert_types` do `QueryValidator`.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validate_columns",
            "docstring": "Valida colunas em DataFrame.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "handle_nulls",
            "docstring": "Trata valores nulos.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "safe_filter",
            "docstring": "Aplica filtro com segurança.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_friendly_error",
            "docstring": "Converte erro em mensagem amigável.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "signal",
          "typing",
          "contextlib",
          "pandas"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\response_cache.py",
      "name": "response_cache.py",
      "extension": ".py",
      "size": 7029,
      "category": "source_python",
      "purpose": "Define classes: ResponseCache",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "ResponseCache",
            "docstring": "Manages caching of LLM responses on disk with a configurable TTL.\nNormalizes queries for better cache hit rates.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_cache_file_path",
                "docstring": "Generates a file path for a given cache key.",
                "is_async": false
              },
              {
                "name": "generate_key",
                "docstring": "Generates a cache key by normalizing the query and hashing it.\nThis ensures consistent keys for similar queries.",
                "is_async": false
              },
              {
                "name": "_normalize_query",
                "docstring": "Normalizes a query string for caching purposes.\nRemoves stopwords, standardizes spaces, lowercases, removes irrelevant punctuation.\n(T6.1.3 from TASK_LIST, but implemented here as it's directly related to cache key generation)",
                "is_async": false
              },
              {
                "name": "get",
                "docstring": "Retrieves a cached response if it exists and is not expired.",
                "is_async": false
              },
              {
                "name": "set",
                "docstring": "Stores a response in the cache with a timestamp.",
                "is_async": false
              },
              {
                "name": "clean_expired_cache",
                "docstring": "Cleans up expired cache files (T1.3.1 - cache_cleaner).\nThis method will be called by a separate cache cleaner utility in production,\nbut can be manually triggered or run periodically.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "os",
          "hashlib",
          "datetime",
          "typing",
          "app.config.settings",
          "re",
          "time"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\response_parser.py",
      "name": "response_parser.py",
      "extension": ".py",
      "size": 4485,
      "category": "source_python",
      "purpose": "Utilitários para parsear e processar respostas do agente.",
      "details": {
        "type": "python",
        "docstring": "Utilitários para parsear e processar respostas do agente.\nDetecta gráficos, dataframes e textos nas respostas.",
        "classes": [],
        "functions": [
          {
            "name": "parse_agent_response",
            "docstring": "Parseia a resposta do agente e extrai dados estruturados.\n\nArgs:\n    response: String da resposta do agente\n\nReturns:\n    Tupla (tipo, dados_processados)\n    Tipos: \"chart\", \"text\", \"error\"",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "_extract_chart_from_response",
            "docstring": "Extrai dados de gráfico de uma resposta de ferramenta.\n\nArgs:\n    response: String contendo dados do gráfico\n\nReturns:\n    Tupla (tipo, figura_plotly ou erro)",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "detect_dataframe_response",
            "docstring": "Detecta se a resposta é um DataFrame.\n\nArgs:\n    response: Resposta a verificar\n\nReturns:\n    True se for DataFrame, False caso contrário",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "json",
          "logging",
          "typing",
          "plotly.graph_objects",
          "pandas",
          "re"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\response_validator.py",
      "name": "response_validator.py",
      "extension": ".py",
      "size": 8303,
      "category": "source_python",
      "purpose": "Response Validator - Valida respostas do agente para detectar erros e alucinações",
      "details": {
        "type": "python",
        "docstring": "Response Validator - Valida respostas do agente para detectar erros e alucinações\nUsa técnicas de verificação para melhorar precisão",
        "classes": [
          {
            "name": "ValidationResult",
            "docstring": "Resultado da validação de resposta.",
            "methods": [],
            "bases": []
          },
          {
            "name": "ResponseValidator",
            "docstring": "Valida respostas do ChatBI para detectar:\n- Alucinações (dados inventados)\n- Inconsistências numéricas\n- Referências a dados inexistentes\n- Erros de formatação",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "validate",
                "docstring": "Valida uma resposta do agente.\n\nArgs:\n    response: Resposta do agente\n    query: Pergunta original do usuário\n    \nReturns:\n    ValidationResult com status e detalhes",
                "is_async": false
              },
              {
                "name": "_extract_text",
                "docstring": "Extrai texto da resposta do agente.",
                "is_async": false
              },
              {
                "name": "_check_hallucination",
                "docstring": "Verifica indicadores de alucinação.",
                "is_async": false
              },
              {
                "name": "_has_error_pattern",
                "docstring": "Verifica padrões de erro conhecidos.",
                "is_async": false
              },
              {
                "name": "_check_column_references",
                "docstring": "Verifica referências a colunas potencialmente inválidas.",
                "is_async": false
              },
              {
                "name": "_check_numeric_consistency",
                "docstring": "Verifica consistência de valores numéricos.",
                "is_async": false
              },
              {
                "name": "get_stats",
                "docstring": "Retorna estatísticas de validação.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_validator",
            "docstring": "Retorna instância singleton do validador.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validate_response",
            "docstring": "Valida resposta do agente.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validator_stats",
            "docstring": "Retorna estatísticas do validador.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "re",
          "typing",
          "dataclasses"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\semantic_cache.py",
      "name": "semantic_cache.py",
      "extension": ".py",
      "size": 10098,
      "category": "source_python",
      "purpose": "Semantic Cache - Cache inteligente baseado em similaridade semântica",
      "details": {
        "type": "python",
        "docstring": "Semantic Cache - Cache inteligente baseado em similaridade semântica\nPermite respostas instantâneas para perguntas similares",
        "classes": [
          {
            "name": "SemanticCache",
            "docstring": "Cache semântico para respostas do ChatBI.\n\nCaracterísticas:\n- Hash baseado em normalização da query\n- TTL configurável\n- Persistência em disco\n- Estatísticas de hit/miss",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_normalize_query",
                "docstring": "Normaliza query para melhor matching.",
                "is_async": false
              },
              {
                "name": "_generate_key",
                "docstring": "Gera chave hash para a query normalizada.",
                "is_async": false
              },
              {
                "name": "_find_similar_entry",
                "docstring": "Busca entrada similar no índice usando similaridade de strings.\nPerformance optimization: Limitado às últimas 100 queries para não pesar CPU.\nReturns: (key, similarity_score)",
                "is_async": false
              },
              {
                "name": "_load_index",
                "docstring": "Carrega índice do disco.",
                "is_async": false
              },
              {
                "name": "_save_index",
                "docstring": "Salva índice no disco.",
                "is_async": false
              },
              {
                "name": "get",
                "docstring": "Busca resposta em cache.\n\nArgs:\n    query: Pergunta do usuário\n\nReturns:\n    Resposta cacheada ou None se não encontrada/expirada",
                "is_async": false
              },
              {
                "name": "set",
                "docstring": "Armazena resposta em cache.\n\nArgs:\n    query: Pergunta do usuário\n    response: Resposta a cachear\n    \nReturns:\n    True se armazenado com sucesso",
                "is_async": false
              },
              {
                "name": "_remove_entry",
                "docstring": "Remove entrada do cache.",
                "is_async": false
              },
              {
                "name": "_cleanup_oldest",
                "docstring": "Remove entradas mais antigas.",
                "is_async": false
              },
              {
                "name": "clear",
                "docstring": "Limpa todo o cache.",
                "is_async": false
              },
              {
                "name": "get_stats",
                "docstring": "Retorna estatísticas do cache.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_semantic_cache",
            "docstring": "Retorna instância singleton do cache.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "cache_get",
            "docstring": "Busca resposta em cache.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "cache_set",
            "docstring": "Armazena resposta em cache.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "cache_stats",
            "docstring": "Retorna estatísticas do cache.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "hashlib",
          "json",
          "logging",
          "os",
          "time",
          "pathlib",
          "typing",
          "difflib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\serializers.py",
      "name": "serializers.py",
      "extension": ".py",
      "size": 5681,
      "category": "source_python",
      "purpose": "Utilitários de serialização para tipos complexos Python/SQLAlchemy.",
      "details": {
        "type": "python",
        "docstring": "Utilitários de serialização para tipos complexos Python/SQLAlchemy.\nResolve erros como \"Object of type MapComposite is not JSON serializable\".",
        "classes": [
          {
            "name": "TypeConverter",
            "docstring": "Conversor genérico de tipos para serialização JSON.",
            "methods": [
              {
                "name": "convert",
                "docstring": "Converte qualquer objeto para formato JSON-serializável.\n\nTrata casos especiais:\n- SQLAlchemy Row / MapComposite\n- Tipos numpy (int64, float64, etc.)\n- Tipos pandas (Timestamp, Timedelta)\n- Datetime, Decimal, bytes\n- Objetos genéricos com __dict__\n\nArgs:\n    obj: Objeto a ser convertido\n\nReturns:\n    Objeto serializável em JSON",
                "is_async": false
              },
              {
                "name": "to_json",
                "docstring": "Converte objeto para string JSON de forma segura.\n\nArgs:\n    obj: Objeto a ser convertido\n    **kwargs: Argumentos adicionais para json.dumps\n\nReturns:\n    String JSON",
                "is_async": false
              },
              {
                "name": "from_query_rows",
                "docstring": "Converte linhas de resultado de query para lista de dicionários.\nEspecialmente útil para resultados SQLAlchemy.\n\nArgs:\n    rows: Lista de Row objects ou dicts\n\nReturns:\n    Lista de dicionários JSON-serializáveis",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "safe_json_dumps",
            "docstring": "Wrapper para TypeConverter.to_json() para compatibilidade com código existente.\n\nArgs:\n    obj: Objeto a ser convertido\n    **kwargs: Argumentos para json.dumps\n\nReturns:\n    String JSON",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "convert_mapcomposite",
            "docstring": "Converte recursivamente objetos MapComposite para dict.\nFunção auxiliar para compatibilidade com código existente.\n\nArgs:\n    obj: Objeto a ser convertido\n\nReturns:\n    Objeto com MapComposite convertido",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "json",
          "logging",
          "typing",
          "datetime",
          "decimal",
          "pandas",
          "numpy"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\session_manager.py",
      "name": "session_manager.py",
      "extension": ".py",
      "size": 3152,
      "category": "source_python",
      "purpose": "Define classes: SessionManager",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "SessionManager",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_get_file_path",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "get_history",
                "docstring": "Retrieves chat history for a given session ID, verified by user_id.",
                "is_async": false
              },
              {
                "name": "add_message",
                "docstring": "Adds a message to the session history, ensuring user_id is stored.",
                "is_async": false
              },
              {
                "name": "clear_session",
                "docstring": "Deletes a session file.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "json",
          "os",
          "logging",
          "typing",
          "pathlib",
          "uuid"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\utils\\tool_scoping.py",
      "name": "tool_scoping.py",
      "extension": ".py",
      "size": 7784,
      "category": "source_python",
      "purpose": "Ferramentas: Tool Scoping - Controle de acesso a ferramentas baseado em role do usuário.",
      "details": {
        "type": "python",
        "docstring": "Tool Scoping - Controle de acesso a ferramentas baseado em role do usuário.\n\nImplementa permission boundaries para agents, limitando quais ferramentas\ncada tipo de usuário pode acessar (security best practice 2025).\n\nAuthor: Context7 2025",
        "classes": [
          {
            "name": "ToolPermissionManager",
            "docstring": "Gerencia permissões de ferramentas por role de usuário",
            "methods": [
              {
                "name": "get_tools_for_role",
                "docstring": "Retorna lista de ferramentas filtrada baseada no role do usuário.\n\nArgs:\n    all_tools: Lista completa de ferramentas disponíveis\n    user_role: Role do usuário (admin, analyst, viewer, guest)\n\nReturns:\n    Lista filtrada de ferramentas que o usuário pode acessar",
                "is_async": false
              },
              {
                "name": "is_tool_allowed",
                "docstring": "Verifica se uma ferramenta específica é permitida para um role.\n\nArgs:\n    tool_name: Nome da ferramenta\n    user_role: Role do usuário\n\nReturns:\n    True se permitido, False caso contrário",
                "is_async": false
              },
              {
                "name": "get_role_description",
                "docstring": "Retorna descrição do nível de acesso do role",
                "is_async": false
              },
              {
                "name": "list_available_tools",
                "docstring": "Lista nomes das ferramentas disponíveis para um role.\n\nArgs:\n    user_role: Role do usuário\n\nReturns:\n    Lista de nomes de ferramentas permitidas",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "DummyTool",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "get_scoped_tools",
            "docstring": "Helper function para obter tools filtradas baseado no user data.\n\nArgs:\n    all_tools: Lista de todas as ferramentas\n    user_data: Dicionário com dados do usuário (deve conter 'role')\n\nReturns:\n    Lista filtrada de ferramentas\n\nExample:\n    >>> user = {\"username\": \"john\", \"role\": \"analyst\"}\n    >>> scoped_tools = get_scoped_tools(bi_tools, user)",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "typing",
          "langchain_core.tools"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\validators\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 2,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\validators\\schema_validator.py",
      "name": "schema_validator.py",
      "extension": ".py",
      "size": 14534,
      "category": "source_python",
      "purpose": "SchemaValidator - Validador de schemas Parquet.",
      "details": {
        "type": "python",
        "docstring": "SchemaValidator - Validador de schemas Parquet.\n\nEste módulo fornece validação robusta de schemas Parquet contra\no catálogo de dados corporativo (catalog_focused.json).\n\nFuncionalidades:\n- Validação de tipos de dados\n- Detecção de incompatibilidades de schema\n- Mensagens de erro contextualizadas\n- Verificação de colunas obrigatórias\n\nAutor: Code Agent\nData: 2025-10-17",
        "classes": [
          {
            "name": "SchemaValidator",
            "docstring": "Validador de schemas Parquet contra catálogo corporativo.\n\nAttributes:\n    catalog (Dict): Catálogo de dados carregado do JSON\n    catalog_path (Path): Caminho para o arquivo de catálogo",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o validador de schema.\n\nArgs:\n    catalog_path: Caminho para catalog_focused.json (opcional)",
                "is_async": false
              },
              {
                "name": "_load_catalog",
                "docstring": "Carrega o catálogo de dados do arquivo JSON.\n\nReturns:\n    Dict contendo o catálogo de dados\n\nRaises:\n    FileNotFoundError: Se o catálogo não existir\n    json.JSONDecodeError: Se o JSON for inválido",
                "is_async": false
              },
              {
                "name": "validate_parquet_file",
                "docstring": "Valida um arquivo Parquet contra o catálogo.\n\nArgs:\n    parquet_path: Caminho para o arquivo Parquet\n    table_name: Nome da tabela no catálogo (inferido do arquivo se None)\n\nReturns:\n    Tupla (is_valid, errors) onde:\n        - is_valid: True se schema válido\n        - errors: Lista de mensagens de erro",
                "is_async": false
              },
              {
                "name": "_get_expected_schema",
                "docstring": "Obtém o schema esperado do catálogo para uma tabela.\n\nArgs:\n    table_name: Nome da tabela\n\nReturns:\n    Dict com schema esperado ou None se não encontrado",
                "is_async": false
              },
              {
                "name": "_validate_columns",
                "docstring": "Valida se as colunas esperadas estão presentes no Parquet.\n\nArgs:\n    parquet_schema: Schema do arquivo Parquet\n    expected_schema: Schema esperado do catálogo\n    table_name: Nome da tabela\n\nReturns:\n    Lista de erros encontrados",
                "is_async": false
              },
              {
                "name": "_validate_types",
                "docstring": "Valida se os tipos de dados são compatíveis.\n\nArgs:\n    parquet_schema: Schema do arquivo Parquet\n    expected_schema: Schema esperado do catálogo\n    table_name: Nome da tabela\n\nReturns:\n    Lista de erros de incompatibilidade de tipos",
                "is_async": false
              },
              {
                "name": "_is_type_compatible",
                "docstring": "Verifica se um tipo Parquet é compatível com o tipo esperado.\n\nArgs:\n    parquet_type: Tipo do Parquet (ex: 'int64', 'string')\n    expected_type: Tipo esperado do catálogo\n\nReturns:\n    True se os tipos são compatíveis",
                "is_async": false
              },
              {
                "name": "get_table_schema",
                "docstring": "Retorna o schema esperado para uma tabela do catálogo.\n\nArgs:\n    table_name: Nome da tabela\n\nReturns:\n    Dict com schema da tabela ou None se não encontrada",
                "is_async": false
              },
              {
                "name": "list_required_columns",
                "docstring": "Lista as colunas obrigatórias de uma tabela.\n\nArgs:\n    table_name: Nome da tabela\n\nReturns:\n    Lista de nomes de colunas obrigatórias",
                "is_async": false
              },
              {
                "name": "validate_query_columns",
                "docstring": "Valida se as colunas de uma query existem no schema.\n\nArgs:\n    table_name: Nome da tabela\n    query_columns: Lista de colunas usadas na query\n\nReturns:\n    Tupla (is_valid, invalid_columns)",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "validate_parquet_schema",
            "docstring": "Função auxiliar para validação rápida de schema Parquet.\n\nArgs:\n    parquet_path: Caminho para o arquivo Parquet\n    catalog_path: Caminho para o catálogo (opcional)\n\nReturns:\n    Tupla (is_valid, errors)",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "json",
          "logging",
          "os",
          "pathlib",
          "typing",
          "pyarrow",
          "pyarrow.parquet"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\visualization\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 24,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\core\\visualization\\advanced_charts.py",
      "name": "advanced_charts.py",
      "extension": ".py",
      "size": 3017,
      "category": "source_python",
      "purpose": "Módulo de Gráficos Avançados para Business Intelligence",
      "details": {
        "type": "python",
        "docstring": "Módulo de Gráficos Avançados para Business Intelligence\nVersão simplificada para Agent Solution BI",
        "classes": [
          {
            "name": "AdvancedChartGenerator",
            "docstring": "Gerador de gráficos avançados para análises de negócio.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o gerador de gráficos.",
                "is_async": false
              },
              {
                "name": "create_product_ranking_chart",
                "docstring": "Cria gráfico de ranking de produtos.\n\nArgs:\n    df: DataFrame com dados de produtos\n    limit: Número de produtos no ranking\n    chart_type: Tipo do gráfico\n\nReturns:\n    Figura Plotly",
                "is_async": false
              },
              {
                "name": "create_time_series_chart",
                "docstring": "Cria gráfico de série temporal.",
                "is_async": false
              },
              {
                "name": "create_pie_chart",
                "docstring": "Cria gráfico de pizza.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "pandas",
          "plotly.express",
          "plotly.graph_objects",
          "logging"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\data\\parquet\\admmat.parquet",
      "name": "admmat.parquet",
      "extension": ".parquet",
      "size": 63132216,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "backend\\app\\data\\sessions\\.json",
      "name": ".json",
      "extension": "",
      "size": 947,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\app\\data\\sessions\\04abba9a-06bc-4fbd-b12d-463a267d1c22.json",
      "name": "04abba9a-06bc-4fbd-b12d-463a267d1c22.json",
      "extension": ".json",
      "size": 8311,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\25637002-59ea-4fb9-a38e-d4d7abc2dff0.json",
      "name": "25637002-59ea-4fb9-a38e-d4d7abc2dff0.json",
      "extension": ".json",
      "size": 3694,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\2c1e4ece-046e-4323-9635-671e95379242.json",
      "name": "2c1e4ece-046e-4323-9635-671e95379242.json",
      "extension": ".json",
      "size": 2804,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\355bc17d-fba5-4d95-9729-ad3390b370ed.json",
      "name": "355bc17d-fba5-4d95-9729-ad3390b370ed.json",
      "extension": ".json",
      "size": 448,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\3f26e098-f20b-4a08-929e-58d31fc39b68.json",
      "name": "3f26e098-f20b-4a08-929e-58d31fc39b68.json",
      "extension": ".json",
      "size": 72654,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\46d1c1c0-d075-44f5-9164-0f9bd612ae62.json",
      "name": "46d1c1c0-d075-44f5-9164-0f9bd612ae62.json",
      "extension": ".json",
      "size": 2511,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "user_id",
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\5177828c-eebb-465c-9272-580df78842b1.json",
      "name": "5177828c-eebb-465c-9272-580df78842b1.json",
      "extension": ".json",
      "size": 14017,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\537b72b4-ff3e-47b9-a3d9-3c3d6c7b878b.json",
      "name": "537b72b4-ff3e-47b9-a3d9-3c3d6c7b878b.json",
      "extension": ".json",
      "size": 1049,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "user_id",
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\569e94f3-0699-4f7f-9653-538e567b5af2.json",
      "name": "569e94f3-0699-4f7f-9653-538e567b5af2.json",
      "extension": ".json",
      "size": 317,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\71fda5a5-46a9-4dd2-97e9-57eaa46956a7.json",
      "name": "71fda5a5-46a9-4dd2-97e9-57eaa46956a7.json",
      "extension": ".json",
      "size": 3651,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\7d4cd5bf-9cc7-41be-b400-44bf76f0c5cf.json",
      "name": "7d4cd5bf-9cc7-41be-b400-44bf76f0c5cf.json",
      "extension": ".json",
      "size": 2440,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\7ee2d4ea-ce23-4495-85f2-1dcc09f05b55.json",
      "name": "7ee2d4ea-ce23-4495-85f2-1dcc09f05b55.json",
      "extension": ".json",
      "size": 463,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\82bee385-699c-4f04-a1e3-499031a954d4.json",
      "name": "82bee385-699c-4f04-a1e3-499031a954d4.json",
      "extension": ".json",
      "size": 604,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\85411dd2-0692-4186-acf2-8b489e863367.json",
      "name": "85411dd2-0692-4186-acf2-8b489e863367.json",
      "extension": ".json",
      "size": 4412,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "user_id",
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\a9e60fe1-59cd-436d-b6fa-a66d143975ba.json",
      "name": "a9e60fe1-59cd-436d-b6fa-a66d143975ba.json",
      "extension": ".json",
      "size": 1737,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\b2b0e38a-3cfc-4261-b125-7f98677a6218.json",
      "name": "b2b0e38a-3cfc-4261-b125-7f98677a6218.json",
      "extension": ".json",
      "size": 718,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\c322cc58-a7b7-41b5-be95-089d3c90609e.json",
      "name": "c322cc58-a7b7-41b5-be95-089d3c90609e.json",
      "extension": ".json",
      "size": 10407,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\cache-test-1766325258.json",
      "name": "cache-test-1766325258.json",
      "extension": ".json",
      "size": 899,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\cache-test-1766325969.json",
      "name": "cache-test-1766325969.json",
      "extension": ".json",
      "size": 746,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\d94af482-5693-46ff-8fe5-8e67b75e3437.json",
      "name": "d94af482-5693-46ff-8fe5-8e67b75e3437.json",
      "extension": ".json",
      "size": 319,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\d9a6bc3d-82cf-4ba5-9d93-1ba93f54ecee.json",
      "name": "d9a6bc3d-82cf-4ba5-9d93-1ba93f54ecee.json",
      "extension": ".json",
      "size": 1406,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-cache-1.json",
      "name": "test-cache-1.json",
      "extension": ".json",
      "size": 805,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-cache-2.json",
      "name": "test-cache-2.json",
      "extension": ".json",
      "size": 218,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-complex.json",
      "name": "test-complex.json",
      "extension": ".json",
      "size": 326,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-session-001.json",
      "name": "test-session-001.json",
      "extension": ".json",
      "size": 1970,
      "category": "data",
      "purpose": "Dados de sessão de chat",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-session-002.json",
      "name": "test-session-002.json",
      "extension": ".json",
      "size": 138,
      "category": "data",
      "purpose": "Dados de sessão de chat",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-session-1766324899.json",
      "name": "test-session-1766324899.json",
      "extension": ".json",
      "size": 1524,
      "category": "data",
      "purpose": "Dados de sessão de chat",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-session-1766324987.json",
      "name": "test-session-1766324987.json",
      "extension": ".json",
      "size": 4959,
      "category": "data",
      "purpose": "Dados de sessão de chat",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\data\\sessions\\test-session-1766325867.json",
      "name": "test-session-1766325867.json",
      "extension": ".json",
      "size": 3845,
      "category": "data",
      "purpose": "Dados de sessão de chat",
      "details": {
        "type": "json",
        "keys": [
          "history"
        ]
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\base.py",
      "name": "base.py",
      "extension": ".py",
      "size": 904,
      "category": "source_python",
      "purpose": "Database Adapter Interface",
      "details": {
        "type": "python",
        "docstring": "Database Adapter Interface\nAbstract Base Class for database adapters (Strategy Interface).\nAdapted for Async/FastAPI.",
        "classes": [
          {
            "name": "DatabaseAdapter",
            "docstring": "Abstract Base Class for database adapters.\nDefines the common contract for all database connectivity.",
            "methods": [],
            "bases": [
              "ABC"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "abc",
          "typing"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\config\\column_mapping.py",
      "name": "column_mapping.py",
      "extension": ".py",
      "size": 9541,
      "category": "source_python",
      "purpose": "Mapeamento Oficial de Colunas do Parquet",
      "details": {
        "type": "python",
        "docstring": "Mapeamento Oficial de Colunas do Parquet\nSistema: Agent_Solution_BI\nData: 2025-10-25\n\nEste módulo contém o mapeamento entre nomes legados (código antigo) e nomes reais\ndas colunas do Parquet. Usado para normalizar queries e evitar erros de KeyError.\n\nFONTE: Extraído diretamente do Parquet real (97 colunas)",
        "classes": [],
        "functions": [
          {
            "name": "normalize_column_name",
            "docstring": "Normaliza nome de coluna (legado → real).\n\nArgs:\n    column_name: Nome da coluna (pode ser legado ou real)\n\nReturns:\n    Nome real da coluna ou o próprio nome se não encontrado\n\nExamples:\n    >>> normalize_column_name(\"PRODUTO\")\n    \"codigo\"\n    >>> normalize_column_name(\"VENDA_30DD\")\n    \"venda_30_d\"\n    >>> normalize_column_name(\"codigo\")\n    \"codigo\"",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_column_info",
            "docstring": "Retorna informações sobre uma coluna.\n\nArgs:\n    column_name: Nome da coluna (real ou legado)\n\nReturns:\n    Dicionário com informações ou None\n\nExample:\n    >>> get_column_info(\"PRODUTO\")\n    {\"nome_legado\": [\"PRODUTO\"], \"descricao\": \"Código único...\", ...}",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validate_columns",
            "docstring": "Valida se colunas existem no DataFrame.\n\nArgs:\n    columns: Lista de colunas a validar\n    df_columns: Lista de colunas disponíveis no DataFrame\n\nReturns:\n    {\"valid\": [...], \"invalid\": [...], \"suggestions\": {...}}\n\nExample:\n    >>> validate_columns([\"PRODUTO\", \"VENDA_30DD\"], df.columns)\n    {\"valid\": [\"codigo\", \"venda_30_d\"], \"invalid\": [], \"suggestions\": {}}",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_essential_columns",
            "docstring": "Retorna lista de colunas essenciais.\n\nReturns:\n    Lista com nomes reais das colunas essenciais",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "list_all_columns",
            "docstring": "Lista todas as colunas conhecidas com suas informações.\n\nReturns:\n    Lista de tuplas (nome_real, descricao)",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [],
        "constants": [
          "COLUMN_MAP",
          "COLUMN_INFO",
          "ESSENTIAL_COLUMNS"
        ]
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\dependency.py",
      "name": "dependency.py",
      "extension": ".py",
      "size": 845,
      "category": "source_python",
      "purpose": "Data Adapter Dependency",
      "details": {
        "type": "python",
        "docstring": "Data Adapter Dependency\nProvides the HybridDataAdapter instance to API endpoints.",
        "classes": [],
        "functions": [
          {
            "name": "get_data_adapter",
            "docstring": "Dependency to get the HybridDataAdapter instance from app state.\nThe adapter is initialized in main.py lifespan.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "typing",
          "fastapi",
          "app.infrastructure.data.hybrid_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\duckdb_adapter.py",
      "name": "duckdb_adapter.py",
      "extension": ".py",
      "size": 11511,
      "category": "source_python",
      "purpose": "Adaptador de dados: Define classes: DuckDBAdapter",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "DuckDBAdapter",
            "docstring": "Adapter for querying Parquet files using DuckDB.\nSingleton with Connection Pool + Prepared Statements.\nBleeding Edge 2025: Zero-Copy, Metadata Cache, SIMD-optimized queries.",
            "methods": [
              {
                "name": "__new__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_initialize",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_setup_macros",
                "docstring": "Setup reusable macros and advanced CONFIGURATION.",
                "is_async": false
              },
              {
                "name": "_get_parquet_path",
                "docstring": "Resolve absolute path to parquet file",
                "is_async": false
              },
              {
                "name": "release_pooled_connection",
                "docstring": "Release connection back to pool.",
                "is_async": false
              },
              {
                "name": "get_cursor",
                "docstring": "Returns a thread-local cursor (sync fallback).",
                "is_async": false
              },
              {
                "name": "query",
                "docstring": "Execute raw SQL query and return Pandas DataFrame.",
                "is_async": false
              },
              {
                "name": "query_arrow",
                "docstring": "Execute raw SQL and return PyArrow Table (Zero-Copy).",
                "is_async": false
              },
              {
                "name": "load_data",
                "docstring": "Optimized data loader that builds SQL dynamically.\nReplaces 'pd.read_parquet' with predicate pushdown.\n\nSECURITY: Enforces RLS via app.core.context",
                "is_async": false
              },
              {
                "name": "execute_aggregation",
                "docstring": "Perform fast aggregation directly in DuckDB.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "duckdb",
          "os",
          "pandas",
          "logging",
          "pathlib",
          "typing",
          "pyarrow",
          "asyncio",
          "threading",
          "app.core.context",
          "multiprocessing",
          "pyarrow"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\hybrid_adapter.py",
      "name": "hybrid_adapter.py",
      "extension": ".py",
      "size": 5144,
      "category": "source_python",
      "purpose": "Adaptador de dados: HybridDataAdapter: Adaptador híbrido com fallback automático e inteligente.",
      "details": {
        "type": "python",
        "docstring": "HybridDataAdapter: Adaptador híbrido com fallback automático e inteligente.\nVersão Async para FastAPI.\n\nPrioridade:\n1. SQL Server (se USE_SQL_SERVER=true e conexão OK)\n2. Parquet (fallback sempre disponível)",
        "classes": [
          {
            "name": "HybridDataAdapter",
            "docstring": "Adapter híbrido com fallback automático.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa adapter com configurações do settings.py",
                "is_async": false
              },
              {
                "name": "_init_adapters",
                "docstring": "Inicializa adapters.",
                "is_async": false
              }
            ],
            "bases": [
              "DatabaseAdapter"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "os",
          "asyncio",
          "typing",
          "app.infrastructure.data.base",
          "app.infrastructure.data.sql_server_adapter",
          "app.infrastructure.data.parquet_adapter",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\parquet_adapter.py",
      "name": "parquet_adapter.py",
      "extension": ".py",
      "size": 1210,
      "category": "source_python",
      "purpose": "Adaptador de dados: ParquetAdapter: Adaptador para arquivos Parquet.",
      "details": {
        "type": "python",
        "docstring": "ParquetAdapter: Adaptador para arquivos Parquet.\nVersão Async para FastAPI.",
        "classes": [
          {
            "name": "ParquetAdapter",
            "docstring": "Adapter for Parquet files usando PolarsDaskAdapter (híbrido Polars+Dask).\nAsync wrapper.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "DatabaseAdapter"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "typing",
          "app.infrastructure.data.base",
          "app.infrastructure.data.polars_dask_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\polars_dask_adapter.py",
      "name": "polars_dask_adapter.py",
      "extension": ".py",
      "size": 14150,
      "category": "source_python",
      "purpose": "Adaptador de dados: PolarsDaskAdapter: Adaptador inteligente que escolhe automaticamente entre Polars e Dask.",
      "details": {
        "type": "python",
        "docstring": "PolarsDaskAdapter: Adaptador inteligente que escolhe automaticamente entre Polars e Dask.\nAdaptado para Backend FastAPI (Async).\n\nDecisão automática baseada em tamanho do arquivo:\n- Arquivos < 500MB: Polars (8.1x mais rápido)\n- Arquivos >= 500MB: Dask (escalável, out-of-core)\n\nRecursos:\n- Fallback automático Polars → Dask em caso de erro\n- Validação de integridade de dados\n- Logging detalhado de decisões\n- Feature flag para desabilitar Polars (POLARS_ENABLED=false)\n- Execução assíncrona (run_in_executor) para não bloquear event loop\n\nAutor: Claude Code\nData: 2025-10-20 (Portado para Backend em 2025-11-23)",
        "classes": [
          {
            "name": "PolarsDaskAdapter",
            "docstring": "Adaptador híbrido que escolhe automaticamente entre Polars (rápido) e Dask (escalável).\nVersão Async para FastAPI.",
            "methods": [
              {
                "name": "__init__",
                "docstring": "Inicializa o PolarsDaskAdapter.\n\nArgs:\n    file_path: Caminho para arquivo(s) Parquet (suporta wildcards)",
                "is_async": false
              },
              {
                "name": "_get_file_size_mb",
                "docstring": "Calcula tamanho total do(s) arquivo(s) em MB.",
                "is_async": false
              },
              {
                "name": "_select_engine",
                "docstring": "Seleciona engine automaticamente.",
                "is_async": false
              },
              {
                "name": "_execute_sync",
                "docstring": "Implementação síncrona da query (executada no threadpool).",
                "is_async": false
              },
              {
                "name": "_execute_polars",
                "docstring": "Executa query usando Polars.",
                "is_async": false
              },
              {
                "name": "_execute_dask",
                "docstring": "Executa query usando Dask.",
                "is_async": false
              },
              {
                "name": "_get_schema_sync",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "DatabaseAdapter"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "os",
          "re",
          "time",
          "asyncio",
          "concurrent.futures",
          "typing",
          "pandas",
          "dask.dataframe",
          "app.infrastructure.data.base",
          "app.infrastructure.data.utils.column_validator",
          "polars",
          "glob",
          "pyarrow.parquet",
          "app.infrastructure.data.utils.query_optimizer"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\sql_server_adapter.py",
      "name": "sql_server_adapter.py",
      "extension": ".py",
      "size": 5430,
      "category": "source_python",
      "purpose": "Adaptador de dados: SQLServerAdapter: Adaptador para Microsoft SQL Server usando aioodbc (Async).",
      "details": {
        "type": "python",
        "docstring": "SQLServerAdapter: Adaptador para Microsoft SQL Server usando aioodbc (Async).",
        "classes": [
          {
            "name": "SQLServerAdapter",
            "docstring": "Concrete implementation of the adapter for Microsoft SQL Server (Async).",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "DatabaseAdapter"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "logging",
          "aioodbc",
          "typing",
          "app.infrastructure.data.base",
          "app.core.utils.serializers"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\utils\\column_validator.py",
      "name": "column_validator.py",
      "extension": ".py",
      "size": 11315,
      "category": "source_python",
      "purpose": "Sistema Robusto de Validação e Auto-Correção de Colunas",
      "details": {
        "type": "python",
        "docstring": "Sistema Robusto de Validação e Auto-Correção de Colunas\n========================================================\n\nPrevine erros como ColumnNotFoundError do Polars antes da execução de queries.\n\nFuncionalidades:\n1. Validação preditiva de colunas antes da execução\n2. Auto-correção de nomes de colunas (fuzzy matching)\n3. Sugestões inteligentes para erros\n4. Cache de validações para performance\n5. Integração com column_mapping.py e Polars exceptions\n\nAutor: Claude Code + Context7 Docs\nData: 2025-10-27",
        "classes": [
          {
            "name": "ColumnValidationError",
            "docstring": "Erro de validação de coluna com sugestões.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Exception"
            ]
          }
        ],
        "functions": [
          {
            "name": "get_available_columns_cached",
            "docstring": "Retorna colunas disponíveis no Parquet (com cache).\n\nArgs:\n    file_path: Caminho do arquivo Parquet\n\nReturns:\n    Tupla com nomes das colunas (imutável para cache)",
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B0A5C0>"
            ]
          },
          {
            "name": "validate_column",
            "docstring": "Valida se uma coluna existe no DataFrame.\n\nArgs:\n    column: Nome da coluna a validar\n    available_columns: Lista de colunas disponíveis no DataFrame\n    auto_correct: Se True, tenta corrigir automaticamente\n    raise_on_error: Se True, levanta exceção em vez de retornar erro\n\nReturns:\n    Tupla (is_valid, corrected_name, suggestions)\n    - is_valid: True se coluna é válida/corrigível\n    - corrected_name: Nome corrigido (ou None se não encontrado)\n    - suggestions: Lista de sugestões alternativas\n\nRaises:\n    ColumnValidationError: Se raise_on_error=True e coluna inválida",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validate_columns",
            "docstring": "Valida múltiplas colunas de uma vez.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "safe_select_columns",
            "docstring": "Versão segura de df.select() que valida e corrige colunas antes.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "extract_columns_from_query",
            "docstring": "Extrai nomes de colunas de código Python/Polars.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "validate_query_code",
            "docstring": "Valida código de query antes da execução.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "clear_validation_cache",
            "docstring": "Limpa cache de validações (útil para testes).",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "re",
          "typing",
          "difflib",
          "functools",
          "app.infrastructure.data.config.column_mapping",
          "polars"
        ],
        "constants": [
          "SIMILARITY_THRESHOLD",
          "MAX_SUGGESTIONS",
          "VALIDATION_CACHE"
        ]
      }
    },
    {
      "path": "backend\\app\\infrastructure\\data\\utils\\query_optimizer.py",
      "name": "query_optimizer.py",
      "extension": ".py",
      "size": 9335,
      "category": "source_python",
      "purpose": "Query Optimizer: Otimizador cirúrgico de queries para evitar saturação de buffer.",
      "details": {
        "type": "python",
        "docstring": "Query Optimizer: Otimizador cirúrgico de queries para evitar saturação de buffer.\n\nSoluções implementadas:\n1. Seleção inteligente de colunas (retorna apenas colunas necessárias)\n2. Suporte a lazy loading no Streamlit (height parameter)\n3. Streaming de dados grandes (chunking automático)\n\nPrincípios:\n- NÃO quebra funcionalidade existente\n- NÃO limita dados do usuário\n- Reduz uso de memória em 60-80%\n- Compatível com todo código existente\n\nAutor: Claude Code\nData: 2025-10-26",
        "classes": [],
        "functions": [
          {
            "name": "detect_query_intent",
            "docstring": "Detecta intenção da query para selecionar colunas relevantes.\n\nArgs:\n    query: Pergunta do usuário\n\nReturns:\n    Lista de categorias de colunas necessárias",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_optimized_columns",
            "docstring": "Retorna lista otimizada de colunas baseada na intenção da query.\n\nArgs:\n    available_columns: Todas as colunas disponíveis no dataset\n    query: Pergunta do usuário (opcional, usado para detectar intenção)\n    intent_categories: Categorias de intenção (se já conhecidas)\n\nReturns:\n    Lista de colunas otimizadas (apenas as necessárias)",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "should_use_column_optimization",
            "docstring": "Decide se deve aplicar otimização de colunas baseado no tamanho do resultado.\n\nArgs:\n    num_rows: Número de linhas no resultado\n    num_columns: Número de colunas no resultado\n\nReturns:\n    True se deve otimizar, False caso contrário",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "get_streamlit_height_param",
            "docstring": "Calcula parâmetro height ideal para st.dataframe() baseado no número de linhas.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "optimize_query_result",
            "docstring": "Otimiza resultado de query antes de retornar ao usuário.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging",
          "typing"
        ],
        "constants": [
          "ESSENTIAL_COLUMNS",
          "RARELY_USED_COLUMNS"
        ]
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\migrations\\env.py",
      "name": "env.py",
      "extension": ".py",
      "size": 1884,
      "category": "source_python",
      "purpose": "Funções: run_migrations_offline, run_migrations_online",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "run_migrations_offline",
            "docstring": "Run migrations in 'offline' mode.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "run_migrations_online",
            "docstring": "Run migrations in 'online' mode.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "logging.config",
          "urllib.parse",
          "sqlalchemy",
          "sqlalchemy",
          "alembic",
          "app.config.settings",
          "app.infrastructure.database.models"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\migrations\\script.py.mako",
      "name": "script.py.mako",
      "extension": ".mako",
      "size": 661,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\app\\infrastructure\\database\\migrations\\versions\\fresh_start_migration.py",
      "name": "fresh_start_migration.py",
      "extension": ".py",
      "size": 3423,
      "category": "source_python",
      "purpose": "Criar tabelas do zero",
      "details": {
        "type": "python",
        "docstring": "Criar tabelas do zero\n\nRevision ID: fresh_start\nRevises: \nCreate Date: 2025-11-23 16:35:00",
        "classes": [],
        "functions": [
          {
            "name": "upgrade",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "downgrade",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "typing",
          "alembic",
          "sqlalchemy"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\__init__.py",
      "name": "__init__.py",
      "extension": ".py",
      "size": 626,
      "category": "source_python",
      "purpose": "Inicializador de pacote Python",
      "details": {
        "type": "python",
        "docstring": "Database Models\nExport all models for easy imports",
        "classes": [],
        "functions": [],
        "imports": [
          "app.config.database",
          "app.infrastructure.database.models.audit_log",
          "app.infrastructure.database.models.report",
          "app.infrastructure.database.models.user",
          "app.infrastructure.database.models.admmatao",
          "app.infrastructure.database.models.shared_conversation",
          "app.infrastructure.database.models.user_preference"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\admmatao.py",
      "name": "admmatao.py",
      "extension": ".py",
      "size": 4340,
      "category": "source_python",
      "purpose": "Define classes: Admmatao",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "Admmatao",
            "docstring": null,
            "methods": [
              {
                "name": "__repr__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Base"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "sqlalchemy",
          "sqlalchemy.sql",
          "app.config.database"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\audit_log.py",
      "name": "audit_log.py",
      "extension": ".py",
      "size": 1276,
      "category": "source_python",
      "purpose": "Audit Log Model",
      "details": {
        "type": "python",
        "docstring": "Audit Log Model\nSQLAlchemy model for audit_logs table",
        "classes": [
          {
            "name": "AuditLog",
            "docstring": "Audit log database model",
            "methods": [
              {
                "name": "__repr__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Base"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy.sql",
          "app.config.database"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\report.py",
      "name": "report.py",
      "extension": ".py",
      "size": 1459,
      "category": "source_python",
      "purpose": "Report Model",
      "details": {
        "type": "python",
        "docstring": "Report Model\nSQLAlchemy model for reports table",
        "classes": [
          {
            "name": "Report",
            "docstring": "Report database model",
            "methods": [
              {
                "name": "__repr__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Base"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy.sql",
          "app.config.database"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\shared_conversation.py",
      "name": "shared_conversation.py",
      "extension": ".py",
      "size": 2637,
      "category": "source_python",
      "purpose": "Shared Conversation Model",
      "details": {
        "type": "python",
        "docstring": "Shared Conversation Model\nSQLAlchemy model for shared conversations",
        "classes": [
          {
            "name": "SharedConversation",
            "docstring": "Shared conversation database model for public conversation links",
            "methods": [
              {
                "name": "__repr__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "messages_list",
                "docstring": "Converte a string JSON de messages para uma lista Python.",
                "is_async": false
              },
              {
                "name": "messages_list",
                "docstring": "Define messages a partir de uma lista Python, convertendo para string JSON.",
                "is_async": false
              },
              {
                "name": "is_expired",
                "docstring": "Check if the shared conversation has expired.",
                "is_async": false
              },
              {
                "name": "increment_view_count",
                "docstring": "Increment the view counter.",
                "is_async": false
              }
            ],
            "bases": [
              "Base"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "json",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy.sql",
          "app.config.database"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\user.py",
      "name": "user.py",
      "extension": ".py",
      "size": 2212,
      "category": "source_python",
      "purpose": "User Model",
      "details": {
        "type": "python",
        "docstring": "User Model\nSQLAlchemy model for users table",
        "classes": [
          {
            "name": "User",
            "docstring": "User database model",
            "methods": [
              {
                "name": "__repr__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "segments_list",
                "docstring": "Converte a string JSON de allowed_segments para uma lista Python.",
                "is_async": false
              },
              {
                "name": "segments_list",
                "docstring": "Define allowed_segments a partir de uma lista Python, convertendo para string JSON.",
                "is_async": false
              }
            ],
            "bases": [
              "Base"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "json",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy.sql",
          "app.config.database"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\infrastructure\\database\\models\\user_preference.py",
      "name": "user_preference.py",
      "extension": ".py",
      "size": 1899,
      "category": "source_python",
      "purpose": "User Preference Model",
      "details": {
        "type": "python",
        "docstring": "User Preference Model\nSQLAlchemy model for user preferences and memory",
        "classes": [
          {
            "name": "UserPreference",
            "docstring": "User preference model for storing user-specific preferences and memory",
            "methods": [
              {
                "name": "__repr__",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "Base"
            ]
          },
          {
            "name": "Keys",
            "docstring": "Common preference key constants",
            "methods": [],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy.sql",
          "app.config.database"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\schemas\\analytics.py",
      "name": "analytics.py",
      "extension": ".py",
      "size": 1201,
      "category": "source_python",
      "purpose": "Analytics Schemas",
      "details": {
        "type": "python",
        "docstring": "Analytics Schemas\nPydantic schemas for Analytics API",
        "classes": [
          {
            "name": "AnalyticsFilter",
            "docstring": "Analytics filter parameters",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "AnalyticsData",
            "docstring": "Analytics data point",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "AnalyticsMetric",
            "docstring": "Analytics metric",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ExportRequest",
            "docstring": "Export request schema",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "CustomQueryRequest",
            "docstring": "Custom query request",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "datetime",
          "typing",
          "pydantic"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\schemas\\auth.py",
      "name": "auth.py",
      "extension": ".py",
      "size": 815,
      "category": "source_python",
      "purpose": "Auth Schemas",
      "details": {
        "type": "python",
        "docstring": "Auth Schemas\nPydantic schemas for Authentication",
        "classes": [
          {
            "name": "Token",
            "docstring": "Token response schema",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "TokenData",
            "docstring": "Token payload data",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "LoginRequest",
            "docstring": "Login request schema",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "RefreshTokenRequest",
            "docstring": "Refresh token request schema",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "pydantic"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\schemas\\report.py",
      "name": "report.py",
      "extension": ".py",
      "size": 1414,
      "category": "source_python",
      "purpose": "Report Schemas",
      "details": {
        "type": "python",
        "docstring": "Report Schemas\nPydantic schemas for Report API",
        "classes": [
          {
            "name": "ReportBase",
            "docstring": "Base report schema",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ReportCreate",
            "docstring": "Schema for creating a report",
            "methods": [],
            "bases": [
              "ReportBase"
            ]
          },
          {
            "name": "ReportUpdate",
            "docstring": "Schema for updating a report",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "ReportResponse",
            "docstring": "Schema for report response",
            "methods": [],
            "bases": [
              "ReportBase"
            ]
          },
          {
            "name": "ReportListResponse",
            "docstring": "Schema for report list response",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "pydantic"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\schemas\\user.py",
      "name": "user.py",
      "extension": ".py",
      "size": 2915,
      "category": "source_python",
      "purpose": "User Schemas",
      "details": {
        "type": "python",
        "docstring": "User Schemas\nPydantic schemas for User API",
        "classes": [
          {
            "name": "UserBase",
            "docstring": "Base user schema",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "UserCreate",
            "docstring": "Schema for creating a user",
            "methods": [],
            "bases": [
              "UserBase"
            ]
          },
          {
            "name": "UserUpdate",
            "docstring": "Schema for updating a user",
            "methods": [],
            "bases": [
              "BaseModel"
            ]
          },
          {
            "name": "UserResponse",
            "docstring": "Schema for user response",
            "methods": [
              {
                "name": "model_validate",
                "docstring": "Custom validation to handle allowed_segments conversion from JSON string.\nFIXED: Use segments_list property from User model if available (handles parsing automatically).",
                "is_async": false
              }
            ],
            "bases": [
              "UserBase"
            ]
          },
          {
            "name": "UserInDB",
            "docstring": "Schema for user in database (includes hashed password)",
            "methods": [],
            "bases": [
              "UserResponse"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "uuid",
          "datetime",
          "pydantic",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\app\\templates\\login.html",
      "name": "login.html",
      "extension": ".html",
      "size": 1118,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\CONTINUOUS_LEARNING_GUIDE.md",
      "name": "CONTINUOUS_LEARNING_GUIDE.md",
      "extension": ".md",
      "size": 14912,
      "category": "docs",
      "purpose": "Documentação: Guia de Continuous Learning - Agent BI (2025)",
      "details": {
        "type": "markdown",
        "title": "Guia de Continuous Learning - Agent BI (2025)",
        "sections": [
          "📋 Visão Geral",
          "🚀 Setup Rápido",
          "📚 Arquitetura",
          "🔧 API Reference",
          "💡 Como Usar",
          "📊 Métricas e Monitoramento",
          "🔄 Workflow de Melhoria Contínua",
          "🎯 Best Practices",
          "🐛 Troubleshooting",
          "📈 Roadmap de Melhoria"
        ],
        "preview": "# Guia de Continuous Learning - Agent BI (2025)\n\n## 📋 Visão Geral\n\nEste sistema implementa **Continuous Learning** moderno para LLMs, transformando feedback passivo em melhoria ativa do modelo através de:"
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\1af96ff6522dab74ed93ee0bc381f2bc.json",
      "name": "1af96ff6522dab74ed93ee0bc381f2bc.json",
      "extension": ".json",
      "size": 1745,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\22153012b73bcb1f40c70dd5fcd466bd.json",
      "name": "22153012b73bcb1f40c70dd5fcd466bd.json",
      "extension": ".json",
      "size": 39,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\24758a433ecd09604de2b51b7f880c40.json",
      "name": "24758a433ecd09604de2b51b7f880c40.json",
      "extension": ".json",
      "size": 224,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\25767916627907e8f7d274ae0afc0fc8.json",
      "name": "25767916627907e8f7d274ae0afc0fc8.json",
      "extension": ".json",
      "size": 9504,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result",
          "chart_spec"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\2e3c9a63fffb52f97299883eeddcaa1e.json",
      "name": "2e3c9a63fffb52f97299883eeddcaa1e.json",
      "extension": ".json",
      "size": 144,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\3070057a28f8ee68d1fdf381a97341aa.json",
      "name": "3070057a28f8ee68d1fdf381a97341aa.json",
      "extension": ".json",
      "size": 331,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\30b85e0c920ef58a145e421522e1d320.json",
      "name": "30b85e0c920ef58a145e421522e1d320.json",
      "extension": ".json",
      "size": 1311,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\34e9d20e2057865814feb72f09871385.json",
      "name": "34e9d20e2057865814feb72f09871385.json",
      "extension": ".json",
      "size": 1914,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\38a9f8390c4525a049f90e66b77853af.json",
      "name": "38a9f8390c4525a049f90e66b77853af.json",
      "extension": ".json",
      "size": 507,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\40df51f64b3e2d39580faf89c7d54be0.json",
      "name": "40df51f64b3e2d39580faf89c7d54be0.json",
      "extension": ".json",
      "size": 1778,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\42855106065dc471b5a91887187f1bac.json",
      "name": "42855106065dc471b5a91887187f1bac.json",
      "extension": ".json",
      "size": 1800,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\43fa78def25e84fac067b8fb288e9e2e.json",
      "name": "43fa78def25e84fac067b8fb288e9e2e.json",
      "extension": ".json",
      "size": 39,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\49b65803b8bd245937e20d6e97be37f2.json",
      "name": "49b65803b8bd245937e20d6e97be37f2.json",
      "extension": ".json",
      "size": 557,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\4ae3b266361e3b75ba3db6bbdb23502d.json",
      "name": "4ae3b266361e3b75ba3db6bbdb23502d.json",
      "extension": ".json",
      "size": 460,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\50f970ddb739f3bccf489574d5e9f52c.json",
      "name": "50f970ddb739f3bccf489574d5e9f52c.json",
      "extension": ".json",
      "size": 441,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\5348653381fa50634b2ee8dd001954bc.json",
      "name": "5348653381fa50634b2ee8dd001954bc.json",
      "extension": ".json",
      "size": 434,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\5a74b6b99cd2592d468c14cc2bc97985.json",
      "name": "5a74b6b99cd2592d468c14cc2bc97985.json",
      "extension": ".json",
      "size": 298,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\66d11dacffcc933c743c2ae1f15f5a6c.json",
      "name": "66d11dacffcc933c743c2ae1f15f5a6c.json",
      "extension": ".json",
      "size": 2195,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\6c8b56b3fed46216805ed78f30cf704d.json",
      "name": "6c8b56b3fed46216805ed78f30cf704d.json",
      "extension": ".json",
      "size": 174,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\6dcba9a072715735fde48bac4d242334.json",
      "name": "6dcba9a072715735fde48bac4d242334.json",
      "extension": ".json",
      "size": 2352,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\6fdf9cc4149f5eb2d96671b101fcc68e.json",
      "name": "6fdf9cc4149f5eb2d96671b101fcc68e.json",
      "extension": ".json",
      "size": 135,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\7c7a36596e4c53fe03a7a105c0c4b7f6.json",
      "name": "7c7a36596e4c53fe03a7a105c0c4b7f6.json",
      "extension": ".json",
      "size": 205,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\7df39b2e37a393c80f5747b55483e204.json",
      "name": "7df39b2e37a393c80f5747b55483e204.json",
      "extension": ".json",
      "size": 471,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\810199084a94a86aa58b3a4b781154f2.json",
      "name": "810199084a94a86aa58b3a4b781154f2.json",
      "extension": ".json",
      "size": 441,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\8a03571643a8c08a45b0cca61485d720.json",
      "name": "8a03571643a8c08a45b0cca61485d720.json",
      "extension": ".json",
      "size": 5601,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result",
          "chart_spec"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\8bab08c1b014ec512c97e71311829c37.json",
      "name": "8bab08c1b014ec512c97e71311829c37.json",
      "extension": ".json",
      "size": 1896,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\8e5c349b3e270b3704520127be33fa65.json",
      "name": "8e5c349b3e270b3704520127be33fa65.json",
      "extension": ".json",
      "size": 1260,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\95ec80d9464c5051aec255043444bb57.json",
      "name": "95ec80d9464c5051aec255043444bb57.json",
      "extension": ".json",
      "size": 520,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\96828792686798e29666234032ded85d.json",
      "name": "96828792686798e29666234032ded85d.json",
      "extension": ".json",
      "size": 1929,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\987e4691d1096173ce5fa33386242e60.json",
      "name": "987e4691d1096173ce5fa33386242e60.json",
      "extension": ".json",
      "size": 39,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\9e49cb43bdc537a363dcaea074917292.json",
      "name": "9e49cb43bdc537a363dcaea074917292.json",
      "extension": ".json",
      "size": 5601,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result",
          "chart_spec"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\a8373de016f153ce0c67f037e080b642.json",
      "name": "a8373de016f153ce0c67f037e080b642.json",
      "extension": ".json",
      "size": 943,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result",
          "chart_spec"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\ab20561f0e7cf8533c3a5962bdd8010f.json",
      "name": "ab20561f0e7cf8533c3a5962bdd8010f.json",
      "extension": ".json",
      "size": 39,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\b7bb7c15be6d0d34f747db4ca1a18381.json",
      "name": "b7bb7c15be6d0d34f747db4ca1a18381.json",
      "extension": ".json",
      "size": 2284,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\ba6dd1e8424534cc960b62ce9cb6ad95.json",
      "name": "ba6dd1e8424534cc960b62ce9cb6ad95.json",
      "extension": ".json",
      "size": 360,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\c0d8285d1c57552e23e3bfddf40716a0.json",
      "name": "c0d8285d1c57552e23e3bfddf40716a0.json",
      "extension": ".json",
      "size": 280,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\cache_files.txt",
      "name": "cache_files.txt",
      "extension": ".txt",
      "size": 0,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\data\\cache\\semantic\\cc57f8346af46448819d7e2fa325154e.json",
      "name": "cc57f8346af46448819d7e2fa325154e.json",
      "extension": ".json",
      "size": 1384,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\d3fad6791c9660e38a2f45cd008d4a34.json",
      "name": "d3fad6791c9660e38a2f45cd008d4a34.json",
      "extension": ".json",
      "size": 2140,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\d9b7294e98179dc8e496ac32f933006a.json",
      "name": "d9b7294e98179dc8e496ac32f933006a.json",
      "extension": ".json",
      "size": 9980,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result",
          "chart_spec"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\dfb55e042df58956f554a0e8f36d467a.json",
      "name": "dfb55e042df58956f554a0e8f36d467a.json",
      "extension": ".json",
      "size": 572,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\e1d62205f6ca070d6a8cf5af653bccc2.json",
      "name": "e1d62205f6ca070d6a8cf5af653bccc2.json",
      "extension": ".json",
      "size": 591,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\e499cc4d23451f05c823b77cc22f91bf.json",
      "name": "e499cc4d23451f05c823b77cc22f91bf.json",
      "extension": ".json",
      "size": 477,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\eff06dfeca50cc20a09ec8dcc2a3061c.json",
      "name": "eff06dfeca50cc20a09ec8dcc2a3061c.json",
      "extension": ".json",
      "size": 1856,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\ffe54fd058c60c46606515b6ff81d2f3.json",
      "name": "ffe54fd058c60c46606515b6ff81d2f3.json",
      "extension": ".json",
      "size": 1609,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "type",
          "result"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\semantic\\index.json",
      "name": "index.json",
      "extension": ".json",
      "size": 14004,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": [
          "8e5c349b3e270b3704520127be33fa65",
          "30b85e0c920ef58a145e421522e1d320",
          "810199084a94a86aa58b3a4b781154f2",
          "50f970ddb739f3bccf489574d5e9f52c",
          "43fa78def25e84fac067b8fb288e9e2e",
          "d3fad6791c9660e38a2f45cd008d4a34",
          "6754a149174668fa433aa956f20bbfc4",
          "e1d62205f6ca070d6a8cf5af653bccc2",
          "40df51f64b3e2d39580faf89c7d54be0",
          "6dcba9a072715735fde48bac4d242334",
          "3d5008de9076b3ec11b619f8220288e2",
          "42855106065dc471b5a91887187f1bac",
          "cc57f8346af46448819d7e2fa325154e",
          "34e9d20e2057865814feb72f09871385",
          "c1b3f04a75f3fb05db2ca121d576e22c",
          "4835859d6237f0e5c4872856ed83a9a6",
          "e357ee777e1edb11a0db3f54c1b5d46c",
          "987e4691d1096173ce5fa33386242e60",
          "ecba6a400e1bbd276239529c6ccb3058",
          "49b65803b8bd245937e20d6e97be37f2",
          "789ac87dfe4c43efc4031b09f1875ab7",
          "d058f40d4c4b146b5b4de12e4e17fe81",
          "71cba9b24acf25a2e0e7342407565648",
          "95748cde41d3b6cc66cc0b8fae47fa86",
          "5348653381fa50634b2ee8dd001954bc",
          "e499cc4d23451f05c823b77cc22f91bf",
          "95ec80d9464c5051aec255043444bb57",
          "d9b7294e98179dc8e496ac32f933006a",
          "8a03571643a8c08a45b0cca61485d720",
          "9e49cb43bdc537a363dcaea074917292",
          "dfb55e042df58956f554a0e8f36d467a",
          "7df39b2e37a393c80f5747b55483e204",
          "38a9f8390c4525a049f90e66b77853af",
          "4ae3b266361e3b75ba3db6bbdb23502d",
          "24758a433ecd09604de2b51b7f880c40",
          "6c8b56b3fed46216805ed78f30cf704d",
          "a865aeae97a831c7e57b0e19176f28b2",
          "25767916627907e8f7d274ae0afc0fc8",
          "c0d8285d1c57552e23e3bfddf40716a0",
          "ba6dd1e8424534cc960b62ce9cb6ad95",
          "5a74b6b99cd2592d468c14cc2bc97985",
          "3070057a28f8ee68d1fdf381a97341aa",
          "a8373de016f153ce0c67f037e080b642",
          "eff06dfeca50cc20a09ec8dcc2a3061c",
          "96828792686798e29666234032ded85d",
          "66d11dacffcc933c743c2ae1f15f5a6c",
          "1af96ff6522dab74ed93ee0bc381f2bc",
          "8bab08c1b014ec512c97e71311829c37",
          "b7bb7c15be6d0d34f747db4ca1a18381",
          "ab20561f0e7cf8533c3a5962bdd8010f",
          "ffe54fd058c60c46606515b6ff81d2f3",
          "011b21d8372d76ba7afd7c2cca042f2a",
          "7d09111971bed181f4c204dc940c61c3",
          "c09f0d62a9b7a6487121f46bc5b6e46d",
          "2e3c9a63fffb52f97299883eeddcaa1e",
          "0136f3e258716108312f7528dc328c09",
          "6fdf9cc4149f5eb2d96671b101fcc68e",
          "7c7a36596e4c53fe03a7a105c0c4b7f6"
        ]
      }
    },
    {
      "path": "backend\\data\\cache\\test_semantic\\index.json",
      "name": "index.json",
      "extension": ".json",
      "size": 2,
      "category": "data",
      "purpose": "Cache de dados",
      "details": {
        "type": "json",
        "keys": []
      }
    },
    {
      "path": "backend\\data\\learning\\golden_dataset\\positive\\golden_20251227_152604_013930.json",
      "name": "golden_20251227_152604_013930.json",
      "extension": ".json",
      "size": 297,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "query",
          "response",
          "user_id",
          "confidence_score",
          "tags"
        ]
      }
    },
    {
      "path": "backend\\data\\learning\\golden_dataset\\review\\review_20251227_152604_013930.json",
      "name": "review_20251227_152604_013930.json",
      "extension": ".json",
      "size": 327,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "query",
          "response",
          "feedback_type",
          "user_comment",
          "confidence_score",
          "review_status",
          "priority"
        ]
      }
    },
    {
      "path": "backend\\data\\learning\\golden_dataset\\review\\review_20251227_152604_018362.json",
      "name": "review_20251227_152604_018362.json",
      "extension": ".json",
      "size": 316,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "query",
          "response",
          "feedback_type",
          "user_comment",
          "confidence_score",
          "review_status",
          "priority"
        ]
      }
    },
    {
      "path": "backend\\data\\parquet\\admmat.parquet",
      "name": "admmat.parquet",
      "extension": ".parquet",
      "size": 63132216,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "backend\\data\\parquet\\users.parquet",
      "name": "users.parquet",
      "extension": ".parquet",
      "size": 5024,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "backend\\data\\transferencias\\batch_20251208221533042604.json",
      "name": "batch_20251208221533042604.json",
      "extension": ".json",
      "size": 1368,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "batch_id",
          "modo",
          "solicitante_id",
          "timestamp",
          "total_transferencias",
          "transferencias"
        ]
      }
    },
    {
      "path": "backend\\data\\transferencias\\batch_20251214134747282728.json",
      "name": "batch_20251214134747282728.json",
      "extension": ".json",
      "size": 796,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "batch_id",
          "modo",
          "solicitante_id",
          "timestamp",
          "total_transferencias",
          "transferencias"
        ]
      }
    },
    {
      "path": "backend\\data\\transferencias\\transfer_20251207223105055653.json",
      "name": "transfer_20251207223105055653.json",
      "extension": ".json",
      "size": 180,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "produto_id",
          "une_origem",
          "une_destino",
          "quantidade",
          "solicitante_id",
          "timestamp"
        ]
      }
    },
    {
      "path": "backend\\data\\transferencias\\transfer_past.json",
      "name": "transfer_past.json",
      "extension": ".json",
      "size": 146,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "produto_id",
          "une_origem",
          "une_destino",
          "quantidade",
          "solicitante_id",
          "timestamp"
        ]
      }
    },
    {
      "path": "backend\\DEPENDENCY_ANALYSIS_REPORT.md",
      "name": "DEPENDENCY_ANALYSIS_REPORT.md",
      "extension": ".md",
      "size": 15300,
      "category": "docs",
      "purpose": "Documentação: Relatório de Análise de Dependências - Agent Solution BI Backend",
      "details": {
        "type": "markdown",
        "title": "Relatório de Análise de Dependências - Agent Solution BI Backend",
        "sections": [
          "Resumo Executivo",
          "✅ Dependências Instaladas (32 pacotes)",
          "❌ Dependências FALTANDO (5 pacotes CRÍTICOS)",
          "🔍 Análise Detalhada: Imports por Arquivo",
          "📦 Comparação: pyproject.toml vs requirements.txt",
          "🔧 Solução Recomendada",
          "📊 Versões Compatíveis Recomendadas",
          "⚠️ Conflitos de Versão Identificados",
          "🐳 Correção para Docker",
          "📝 Checklist de Ações"
        ],
        "preview": "# Relatório de Análise de Dependências - Agent Solution BI Backend\n\n**Data**: 26/11/2025\n**Python**: 3.11.0\n**Projeto**: Agent Solution BI (FastAPI + LangChain + Gemini)"
      }
    },
    {
      "path": "backend\\fix_admin_role.py",
      "name": "fix_admin_role.py",
      "extension": ".py",
      "size": 1939,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "polars",
          "pathlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\fix_supabase_admin.py",
      "name": "fix_supabase_admin.py",
      "extension": ".py",
      "size": 6513,
      "category": "source_python",
      "purpose": "Script para verificar e corrigir usuário admin no Supabase",
      "details": {
        "type": "python",
        "docstring": "Script para verificar e corrigir usuário admin no Supabase",
        "classes": [],
        "functions": [
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "sys",
          "asyncio",
          "app.config.settings",
          "app.core.supabase_client",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\fix_supabase_admin_clean.py",
      "name": "fix_supabase_admin_clean.py",
      "extension": ".py",
      "size": 6555,
      "category": "source_python",
      "purpose": "Script para verificar e corrigir usuário admin no Supabase",
      "details": {
        "type": "python",
        "docstring": "Script para verificar e corrigir usuário admin no Supabase",
        "classes": [],
        "functions": [
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "sys",
          "asyncio",
          "app.config.settings",
          "app.core.supabase_client",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\install_missing_deps.bat",
      "name": "install_missing_deps.bat",
      "extension": ".bat",
      "size": 3834,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\logs\\api\\api.log",
      "name": "api.log",
      "extension": ".log",
      "size": 3075297,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\logs\\app\\app.log",
      "name": "app.log",
      "extension": ".log",
      "size": 664958,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\logs\\audit\\audit.log",
      "name": "audit.log",
      "extension": ".log",
      "size": 151715,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\logs\\chat\\chat.log",
      "name": "chat.log",
      "extension": ".log",
      "size": 0,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\logs\\errors\\critical.log",
      "name": "critical.log",
      "extension": ".log",
      "size": 409507,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\logs\\errors\\errors.log",
      "name": "errors.log",
      "extension": ".log",
      "size": 496016,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\logs\\security\\security.log",
      "name": "security.log",
      "extension": ".log",
      "size": 114595,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\main.py",
      "name": "main.py",
      "extension": ".py",
      "size": 5703,
      "category": "config",
      "purpose": "Ponto de entrada da aplicação FastAPI",
      "details": {}
    },
    {
      "path": "backend\\migrations\\create_new_tables.sql",
      "name": "create_new_tables.sql",
      "extension": ".sql",
      "size": 2350,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\MODERNIZATION_COMPLETE.md",
      "name": "MODERNIZATION_COMPLETE.md",
      "extension": ".md",
      "size": 13707,
      "category": "docs",
      "purpose": "Documentação: Modernização do Agent BI - Implementação Completa",
      "details": {
        "type": "markdown",
        "title": "Modernização do Agent BI - Implementação Completa",
        "sections": [
          "Resumo Executivo",
          "Ação 1: Consolidar System Prompt",
          "Ação 2: Consolidar Ferramentas (Remover Recursivas)",
          "Ação 3: Integrar RAG (Retrieval-Augmented Generation)",
          "Ação 4: Melhorar Context7 Storytelling",
          "Arquivos Modificados",
          "Testes Recomendados",
          "Próximos Passos (Recomendações P1)",
          "Changelog",
          "Métricas de Impacto"
        ],
        "preview": "# Modernização do Agent BI - Implementação Completa\n**Data:** 2025-12-27\n**Prioridade:** P0 (Crítico)\n\n---"
      }
    },
    {
      "path": "backend\\PRODUCT_ANALYSIS_FIX.md",
      "name": "PRODUCT_ANALYSIS_FIX.md",
      "extension": ".md",
      "size": 11746,
      "category": "docs",
      "purpose": "Documentação: Correção: Análise de Produto Individual",
      "details": {
        "type": "markdown",
        "title": "Correção: Análise de Produto Individual",
        "sections": [
          "📋 Problema Reportado",
          "🔍 Causa Raiz Identificada",
          "✅ Soluções Implementadas",
          "🧪 Validação (Todos os Testes Passaram)",
          "📊 Resumo das Mudanças",
          "🎯 Fluxo Correto (Após Correção)",
          "🚀 Como Usar (Exemplos)",
          "📝 Notas Técnicas",
          "🎉 Conclusão"
        ],
        "preview": "# Correção: Análise de Produto Individual\n\n**Data:** 2025-12-27\n**Status:** ✅ CONCLUÍDO E TESTADO\n"
      }
    },
    {
      "path": "backend\\pyproject.toml",
      "name": "pyproject.toml",
      "extension": ".toml",
      "size": 2089,
      "category": "config",
      "purpose": "Configuração do projeto Python",
      "details": {}
    },
    {
      "path": "backend\\QUICKSTART.md",
      "name": "QUICKSTART.md",
      "extension": ".md",
      "size": 1698,
      "category": "docs",
      "purpose": "Documentação: 🚀 Quick Start - Backend FastAPI",
      "details": {
        "type": "markdown",
        "title": "🚀 Quick Start - Backend FastAPI",
        "sections": [
          "Início Rápido (5 minutos)",
          "✅ Pronto!",
          "📝 Credenciais Padrão"
        ],
        "preview": "# 🚀 Quick Start - Backend FastAPI\n\n## Início Rápido (5 minutos)\n\n### 1. Clonar e Navegar"
      }
    },
    {
      "path": "backend\\README.md",
      "name": "README.md",
      "extension": ".md",
      "size": 2390,
      "category": "docs",
      "purpose": "Documentação: Agent BI Backend",
      "details": {
        "type": "markdown",
        "title": "Agent BI Backend",
        "sections": [
          "🚀 Quick Start",
          "📚 Documentação",
          "🏗️ Arquitetura",
          "🔐 Autenticação",
          "🧪 Testes",
          "📦 Dependências Principais",
          "🔧 Desenvolvimento",
          "🚢 Deploy",
          "📝 License"
        ],
        "preview": "# Agent BI Backend\n\nBackend FastAPI moderno para Agent Solution BI.\n\n## 🚀 Quick Start"
      }
    },
    {
      "path": "backend\\requirements-code-chat.txt",
      "name": "requirements-code-chat.txt",
      "extension": ".txt",
      "size": 517,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\requirements-docker.txt",
      "name": "requirements-docker.txt",
      "extension": ".txt",
      "size": 4162,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "backend\\requirements.txt",
      "name": "requirements.txt",
      "extension": ".txt",
      "size": 11517,
      "category": "config",
      "purpose": "Dependências Python",
      "details": {}
    },
    {
      "path": "backend\\scripts\\analyze_parquet.py",
      "name": "analyze_parquet.py",
      "extension": ".py",
      "size": 3904,
      "category": "source_python",
      "purpose": "Script para analisar a estrutura do admmat.parquet",
      "details": {
        "type": "python",
        "docstring": "Script para analisar a estrutura do admmat.parquet\ne gerar documentação para o ChatBI",
        "classes": [],
        "functions": [
          {
            "name": "analyze_parquet_structure",
            "docstring": "Analisa estrutura do arquivo Parquet",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pandas",
          "pyarrow.parquet",
          "pathlib",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\backend\\data\\parquet\\admmat.parquet",
      "name": "admmat.parquet",
      "extension": ".parquet",
      "size": 12933,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "backend\\scripts\\check_admin.py",
      "name": "check_admin.py",
      "extension": ".py",
      "size": 1802,
      "category": "source_python",
      "purpose": "Verificar se usuário admin existe",
      "details": {
        "type": "python",
        "docstring": "Verificar se usuário admin existe",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.config.database",
          "app.infrastructure.database.models",
          "sqlalchemy",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\check_config.py",
      "name": "check_config.py",
      "extension": ".py",
      "size": 1501,
      "category": "source_python",
      "purpose": "Script Simples de Verificação - Configurações",
      "details": {
        "type": "python",
        "docstring": "Script Simples de Verificação - Configurações",
        "classes": [],
        "functions": [],
        "imports": [
          "sys",
          "pathlib",
          "app.config.settings",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\check_specific_users.py",
      "name": "check_specific_users.py",
      "extension": ".py",
      "size": 1687,
      "category": "source_python",
      "purpose": "Funções: check_sql, check_parquet",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "check_sql",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "check_parquet",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pyodbc",
          "polars",
          "pathlib"
        ],
        "constants": [
          "CONN_STR",
          "PARQUET_PATH",
          "USERS_TO_CHECK"
        ]
      }
    },
    {
      "path": "backend\\scripts\\check_supabase_users.py",
      "name": "check_supabase_users.py",
      "extension": ".py",
      "size": 2064,
      "category": "source_python",
      "purpose": "Funções: check_supabase",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "check_supabase",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "pathlib",
          "app.config.settings",
          "supabase"
        ],
        "constants": [
          "USERS_TO_CHECK"
        ]
      }
    },
    {
      "path": "backend\\scripts\\clean_corrupted_cache.py",
      "name": "clean_corrupted_cache.py",
      "extension": ".py",
      "size": 1666,
      "category": "source_python",
      "purpose": "Script para limpar cache semantic corrompido com erros \"Maximum conversation turns exceeded\"",
      "details": {
        "type": "python",
        "docstring": "Script para limpar cache semantic corrompido com erros \"Maximum conversation turns exceeded\"",
        "classes": [],
        "functions": [
          {
            "name": "clean_corrupted_cache",
            "docstring": "Remove arquivos de cache que contem erros de max turns",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "json",
          "os",
          "pathlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\create_dummy_parquet.py",
      "name": "create_dummy_parquet.py",
      "extension": ".py",
      "size": 3607,
      "category": "source_python",
      "purpose": "Funções: create_dummy_data",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "create_dummy_data",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "polars",
          "numpy",
          "pathlib",
          "datetime",
          "random"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\create_parquet_users.py",
      "name": "create_parquet_users.py",
      "extension": ".py",
      "size": 1858,
      "category": "source_python",
      "purpose": "Create users.parquet file for authentication when SQL Server is not available",
      "details": {
        "type": "python",
        "docstring": "Create users.parquet file for authentication when SQL Server is not available\n\nPassword: Admin@2024\nPre-generated hash using bcrypt",
        "classes": [],
        "functions": [],
        "imports": [
          "polars",
          "uuid",
          "pathlib",
          "datetime",
          "json"
        ],
        "constants": [
          "ADMIN_PASSWORD_HASH",
          "USER_PASSWORD_HASH"
        ]
      }
    },
    {
      "path": "backend\\scripts\\create_users.py",
      "name": "create_users.py",
      "extension": ".py",
      "size": 1697,
      "category": "source_python",
      "purpose": "Create users.parquet file for authentication",
      "details": {
        "type": "python",
        "docstring": "Create users.parquet file for authentication",
        "classes": [],
        "functions": [],
        "imports": [
          "polars",
          "uuid",
          "pathlib",
          "datetime",
          "json",
          "passlib.context"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\data\\parquet\\admmat.parquet",
      "name": "admmat.parquet",
      "extension": ".parquet",
      "size": 12933,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "backend\\scripts\\diagnostico_auth.py",
      "name": "diagnostico_auth.py",
      "extension": ".py",
      "size": 11762,
      "category": "source_python",
      "purpose": "Script de Diagnóstico - Autenticação Backend",
      "details": {
        "type": "python",
        "docstring": "Script de Diagnóstico - Autenticação Backend\nVerifica todas as configurações necessárias para o login funcionar",
        "classes": [],
        "functions": [
          {
            "name": "print_header",
            "docstring": "Print formatted header",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "print_check",
            "docstring": "Print check result",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.config.settings",
          "app.config.security",
          "app.config.database",
          "sqlalchemy",
          "app.config.database",
          "app.infrastructure.database.models",
          "sqlalchemy",
          "app.config.security",
          "app.config.database",
          "app.infrastructure.database.models",
          "app.config.security",
          "sqlalchemy",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\init_db.py",
      "name": "init_db.py",
      "extension": ".py",
      "size": 1745,
      "category": "source_python",
      "purpose": "Script to initialize SQL Server database.",
      "details": {
        "type": "python",
        "docstring": "Script to initialize SQL Server database.\nCreates the database if it doesn't exist.",
        "classes": [],
        "functions": [
          {
            "name": "create_database",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "pyodbc",
          "dotenv",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\inspect_parquet.py",
      "name": "inspect_parquet.py",
      "extension": ".py",
      "size": 832,
      "category": "source_python",
      "purpose": "Inspect Parquet Schema",
      "details": {
        "type": "python",
        "docstring": "Inspect Parquet Schema",
        "classes": [],
        "functions": [],
        "imports": [
          "pandas",
          "pyarrow.parquet"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\list_segments.py",
      "name": "list_segments.py",
      "extension": ".py",
      "size": 1078,
      "category": "source_python",
      "purpose": "Funções: list_segments",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "list_segments",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "polars",
          "sys",
          "time",
          "pathlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\load_data.py",
      "name": "load_data.py",
      "extension": ".py",
      "size": 3562,
      "category": "source_python",
      "purpose": "Load data from Parquet to SQL Server",
      "details": {
        "type": "python",
        "docstring": "Load data from Parquet to SQL Server",
        "classes": [],
        "functions": [],
        "imports": [
          "pandas",
          "pyodbc",
          "sys",
          "time",
          "numpy",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\seed_admin.py",
      "name": "seed_admin.py",
      "extension": ".py",
      "size": 1950,
      "category": "source_python",
      "purpose": "Seed Admin User Script",
      "details": {
        "type": "python",
        "docstring": "Seed Admin User Script\nCreates initial admin user for the system",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.config.database",
          "app.config.security",
          "app.infrastructure.database.models",
          "sqlalchemy"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\seed_test_user.py",
      "name": "seed_test_user.py",
      "extension": ".py",
      "size": 2149,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Seed Test User Script\nCreates a test user for specific segment access",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "json",
          "app.config.database",
          "app.config.security",
          "app.infrastructure.database.models",
          "sqlalchemy"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\sync_admmat.py",
      "name": "sync_admmat.py",
      "extension": ".py",
      "size": 4335,
      "category": "source_python",
      "purpose": "Script de Migração: SQL Server -> Parquet (admmat.parquet)",
      "details": {
        "type": "python",
        "docstring": "Script de Migração: SQL Server -> Parquet (admmat.parquet)\n----------------------------------------------------------\nEste script sincroniza os dados da tabela 'admmatao' do SQL Server para o arquivo\n'admmat.parquet', fornecendo uma interface visual de progresso.\n\nFuncionalidades:\n- Conexão segura via ODBC\n- Leitura em chunks para eficiência de memória\n- Barra de progresso visual (tqdm)\n- Estatísticas finais de migração",
        "classes": [],
        "functions": [
          {
            "name": "get_row_count",
            "docstring": "Obtém o número total de linhas na tabela para a barra de progresso.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "sync_data",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pandas",
          "pyodbc",
          "sys",
          "time",
          "os",
          "pathlib",
          "tqdm",
          "sqlalchemy",
          "warnings",
          "codecs"
        ],
        "constants": [
          "PARQUET_FILE",
          "SERVER",
          "DATABASE",
          "USERNAME",
          "PASSWORD",
          "DRIVER",
          "TABLE_NAME",
          "CONNECTION_STRING"
        ]
      }
    },
    {
      "path": "backend\\scripts\\sync_sql_to_parquet.py",
      "name": "sync_sql_to_parquet.py",
      "extension": ".py",
      "size": 2029,
      "category": "source_python",
      "purpose": "Sync SQL Server to Parquet (Ajustado)",
      "details": {
        "type": "python",
        "docstring": "Sync SQL Server to Parquet (Ajustado)\nExtrai dados do SQL Server (tabela admmatao) e gera o arquivo admmat.parquet.\nGarante que o Agente BI tenha dados atualizados e performantes.",
        "classes": [],
        "functions": [
          {
            "name": "sync_data",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pandas",
          "pyodbc",
          "sys",
          "time",
          "os",
          "pathlib"
        ],
        "constants": [
          "SERVER",
          "DATABASE",
          "USERNAME",
          "PASSWORD",
          "DRIVER",
          "CONNECTION_STRING",
          "TARGET_PATHS"
        ]
      }
    },
    {
      "path": "backend\\scripts\\sync_sql_to_parquet_batch.py",
      "name": "sync_sql_to_parquet_batch.py",
      "extension": ".py",
      "size": 3056,
      "category": "source_python",
      "purpose": "Sync SQL Server to Parquet - OTIMIZADO COM BATCHES",
      "details": {
        "type": "python",
        "docstring": "Sync SQL Server to Parquet - OTIMIZADO COM BATCHES\nExtrai 1.1M+ linhas da tabela admmatao em batches para evitar timeout",
        "classes": [],
        "functions": [
          {
            "name": "sync_data",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pyodbc",
          "polars",
          "pathlib",
          "time",
          "traceback"
        ],
        "constants": [
          "SERVER",
          "DATABASE",
          "USERNAME",
          "PASSWORD",
          "DRIVER",
          "BATCH_SIZE",
          "CONNECTION_STRING",
          "TARGET_PATHS"
        ]
      }
    },
    {
      "path": "backend\\scripts\\sync_supabase_to_sql.py",
      "name": "sync_supabase_to_sql.py",
      "extension": ".py",
      "size": 2867,
      "category": "source_python",
      "purpose": "Funções: sync_users",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "sync_users",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "pyodbc",
          "pathlib",
          "app.config.settings",
          "supabase"
        ],
        "constants": [
          "CONN_STR"
        ]
      }
    },
    {
      "path": "backend\\scripts\\test_continuous_learning.py",
      "name": "test_continuous_learning.py",
      "extension": ".py",
      "size": 7898,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": "Script de Teste - Sistema de Continuous Learning\n=================================================\n\nTesta todos os componentes do sistema de aprendizado contínuo:\n- ContinuousLearner\n- HybridRetriever\n- ConfidenceScorer\n\nExecute: python scripts/test_continuous_learning.py",
        "classes": [],
        "functions": [
          {
            "name": "print_section",
            "docstring": "Helper para imprimir seções.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.core.learning.continuous_learner",
          "app.core.rag.hybrid_retriever",
          "app.core.utils.confidence_scorer",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\test_db_connection_headless.py",
      "name": "test_db_connection_headless.py",
      "extension": ".py",
      "size": 3660,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Script de Teste de Conexão SQL Server (Headless/Sem Navegador)\n--------------------------------------------------------------\nEste script testa a conexão com o banco de dados SQL Server utilizando\nas configurações definidas em app.config.settings, carregadas do arquivo .env.\n\nNão abre browser. Executa apenas no terminal.",
        "classes": [],
        "functions": [],
        "imports": [
          "sys",
          "os",
          "asyncio",
          "sqlalchemy.ext.asyncio",
          "sqlalchemy",
          "pathlib",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\test_graph_fix.py",
      "name": "test_graph_fix.py",
      "extension": ".py",
      "size": 3178,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "os",
          "sys",
          "json",
          "dotenv",
          "app.config.settings",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.rag.query_retriever",
          "app.core.learning.pattern_matcher",
          "app.core.utils.response_cache",
          "app.core.utils.query_history",
          "app.core.agents.code_gen_agent",
          "app.core.agents.caculinha_bi_agent",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\test_integration.py",
      "name": "test_integration.py",
      "extension": ".py",
      "size": 4658,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste de Integração do Sistema\n------------------------------\nEste script simula o comportamento da aplicação carregando o \nHybridDataAdapter e executando consultas reais. Isso garante que\na aplicação (backend) conseguirá acessar os dados migrados corretamente.",
        "classes": [],
        "functions": [],
        "imports": [
          "sys",
          "os",
          "asyncio",
          "pathlib",
          "app.infrastructure.data.hybrid_adapter",
          "codecs",
          "traceback"
        ],
        "constants": [
          "ROOT_DIR"
        ]
      }
    },
    {
      "path": "backend\\scripts\\test_login.py",
      "name": "test_login.py",
      "extension": ".py",
      "size": 947,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Testar login via API",
        "classes": [],
        "functions": [],
        "imports": [
          "requests",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\test_product_analysis_fix.py",
      "name": "test_product_analysis_fix.py",
      "extension": ".py",
      "size": 4373,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Script de teste para validar a correção de análise de produto individual.\n\nTesta:\n1. consultar_dados_flexivel com filtro de PRODUTO\n2. gerar_grafico_universal_v2 com filtro_produto\n3. buscar_produtos_inteligente (RAG)",
        "classes": [],
        "functions": [],
        "imports": [
          "sys",
          "os",
          "app.core.tools.flexible_query_tool",
          "app.core.tools.universal_chart_generator",
          "app.core.tools.semantic_search_tool",
          "traceback",
          "traceback",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\test_windows_auth.py",
      "name": "test_windows_auth.py",
      "extension": ".py",
      "size": 1770,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": "Test SQL Server Connection - Windows Auth\nTests connection using Trusted_Connection=yes",
        "classes": [],
        "functions": [
          {
            "name": "test_windows_auth",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pyodbc"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\update_env.py",
      "name": "update_env.py",
      "extension": ".py",
      "size": 3531,
      "category": "source_python",
      "purpose": "Atualizar DATABASE_URL no arquivo .env do backend",
      "details": {
        "type": "python",
        "docstring": "Atualizar DATABASE_URL no arquivo .env do backend",
        "classes": [],
        "functions": [],
        "imports": [
          "os",
          "pathlib",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\validate_modernization.py",
      "name": "validate_modernization.py",
      "extension": ".py",
      "size": 4447,
      "category": "source_python",
      "purpose": "Script de validação rápida das melhorias de modernização.",
      "details": {
        "type": "python",
        "docstring": "Script de validação rápida das melhorias de modernização.\nExecuta testes manuais sem depender do pytest.",
        "classes": [
          {
            "name": "DummyTool",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_run",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseTool"
            ]
          }
        ],
        "functions": [],
        "imports": [
          "sys",
          "os",
          "app.core.tools.chart_tools",
          "app.core.tools.semantic_search_tool",
          "app.core.utils.tool_scoping",
          "langchain_core.tools",
          "app.core.agents",
          "traceback",
          "traceback",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\scripts\\verify_parquet_data.py",
      "name": "verify_parquet_data.py",
      "extension": ".py",
      "size": 4083,
      "category": "source_python",
      "purpose": "Script de Verificação de Dados (Data Integrity Check)",
      "details": {
        "type": "python",
        "docstring": "Script de Verificação de Dados (Data Integrity Check)\n---------------------------------------------------\nEste script carrega o arquivo admmat.parquet gerado e executa\numa série de consultas analíticas para validar os dados.",
        "classes": [],
        "functions": [
          {
            "name": "verify_data",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pandas",
          "pathlib",
          "sys",
          "codecs"
        ],
        "constants": [
          "PARQUET_FILE"
        ]
      }
    },
    {
      "path": "backend\\test_chart_tools.py",
      "name": "test_chart_tools.py",
      "extension": ".py",
      "size": 1720,
      "category": "test",
      "purpose": "Ferramentas: Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "test_chart_tool",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "json",
          "dotenv",
          "app.core.tools.chart_tools",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\test_login_debug.log",
      "name": "test_login_debug.log",
      "extension": ".log",
      "size": 570,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "backend\\test_supabase_login.py",
      "name": "test_supabase_login.py",
      "extension": ".py",
      "size": 4037,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Script para testar login do admin via Supabase",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "app.core.auth_service",
          "app.config.security",
          "jwt",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\conftest.py",
      "name": "conftest.py",
      "extension": ".py",
      "size": 923,
      "category": "test",
      "purpose": "Testes unitários (2 testes)",
      "details": {
        "type": "python",
        "docstring": "Test configuration",
        "classes": [],
        "functions": [
          {
            "name": "admin_token",
            "docstring": "Admin JWT token for testing",
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "user_token",
            "docstring": "User JWT token for testing",
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          }
        ],
        "imports": [
          "pytest",
          "sys",
          "os",
          "httpx",
          "main",
          "app.config.security",
          "app.config.security"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\integration\\test_auth.py",
      "name": "test_auth.py",
      "extension": ".py",
      "size": 1642,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Test Auth Endpoints\nUnit tests for authentication",
        "classes": [],
        "functions": [],
        "imports": [
          "pytest",
          "httpx",
          "app.config.security",
          "main"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\integration\\test_chat_endpoint.py",
      "name": "test_chat_endpoint.py",
      "extension": ".py",
      "size": 8914,
      "category": "test",
      "purpose": "Endpoints API: Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "mock_dependencies",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F57280>"
            ]
          }
        ],
        "imports": [
          "pytest",
          "fastapi.testclient",
          "unittest.mock",
          "json",
          "asyncio",
          "main",
          "app.config.settings",
          "app.core.utils.response_cache",
          "app.core.utils.query_history",
          "app.core.utils.field_mapper",
          "app.core.rag.query_retriever",
          "app.core.learning.pattern_matcher",
          "app.core.agents.code_gen_agent",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\integration\\test_transfers_endpoint.py",
      "name": "test_transfers_endpoint.py",
      "extension": ".py",
      "size": 7577,
      "category": "test",
      "purpose": "Endpoints API: Testes unitários (9 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "mock_auth_and_tools",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87A6FFD0>"
            ]
          },
          {
            "name": "clean_transfer_requests_dir",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "test_validate_transfer_success",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_validate_transfer_invalid_payload",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfer_suggestions_success",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfer_suggestions_with_params",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_create_transfer_request_success",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfers_report_success",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfers_report_with_date_filter",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pytest",
          "fastapi.testclient",
          "unittest.mock",
          "json",
          "os",
          "pathlib",
          "datetime",
          "main",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\manual\\test_filters.py",
      "name": "test_filters.py",
      "extension": ".py",
      "size": 5440,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": "Script de teste para verificar funcionamento dos filtros de Analytics",
        "classes": [],
        "functions": [
          {
            "name": "test_filters",
            "docstring": "Testa o novo sistema de filtros",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "requests",
          "json",
          "traceback"
        ],
        "constants": [
          "BASE_URL",
          "USERNAME",
          "PASSWORD"
        ]
      }
    },
    {
      "path": "backend\\tests\\manual_benchmark.py",
      "name": "manual_benchmark.py",
      "extension": ".py",
      "size": 6182,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "sys",
          "os",
          "asyncio",
          "time",
          "json",
          "datetime",
          "app.config.settings",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter_v2",
          "app.core.utils.field_mapper",
          "app.core.rag.query_retriever",
          "app.core.learning.pattern_matcher",
          "app.core.utils.response_cache",
          "app.core.utils.query_history",
          "app.core.agents.code_gen_agent",
          "app.core.utils.session_manager",
          "logging",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\test_all_phases.py",
      "name": "test_all_phases.py",
      "extension": ".py",
      "size": 11850,
      "category": "test",
      "purpose": "Testes unitários (2 testes)",
      "details": {
        "type": "python",
        "docstring": "Testes Robustos - Todas as 5 Fases de Implementação\nExecuta testes completos de cada módulo implementado",
        "classes": [
          {
            "name": "TestRunner",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "add_result",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "test_fase1_thinking_mode",
                "docstring": "Testa Fase 1: Gemini Thinking Mode",
                "is_async": false
              },
              {
                "name": "test_fase2_semantic_cache",
                "docstring": "Testa Fase 2: Semantic Caching",
                "is_async": false
              },
              {
                "name": "test_fase3_response_validator",
                "docstring": "Testa Fase 3: Response Validator",
                "is_async": false
              },
              {
                "name": "test_fase4_multi_step_agent",
                "docstring": "Testa Fase 4: LangGraph Multi-Step",
                "is_async": false
              },
              {
                "name": "test_fase5_code_interpreter",
                "docstring": "Testa Fase 5: Code Interpreter",
                "is_async": false
              },
              {
                "name": "run_all_tests",
                "docstring": "Executa todos os testes",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "MockAgent",
            "docstring": null,
            "methods": [
              {
                "name": "run",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "print_header",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "print_result",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "sys",
          "os",
          "json",
          "pathlib",
          "app.config.settings",
          "app.core.llm_gemini_adapter",
          "google.generativeai",
          "app.core.utils.semantic_cache",
          "app.core.utils.response_validator",
          "app.core.agents.multi_step_agent",
          "app.core.tools.code_interpreter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\test_changes.py",
      "name": "test_changes.py",
      "extension": ".py",
      "size": 9176,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "TestTransferFiltersUI",
            "docstring": "Testes para validar que a página de transferências:\n- Apresenta seleção de UNE origem/destino no topo\n- Suporta 3 modos: 1→1, 1→N, N→N\n- Permite múltiplas seleções no modo apropriado",
            "methods": [
              {
                "name": "test_filter_mode_selection",
                "docstring": "Verifica se os 3 modos de transferência estão disponíveis",
                "is_async": false
              },
              {
                "name": "test_origin_destination_selection_logic",
                "docstring": "Testa a lógica de seleção origem/destino:\n- 1→1: Uma origem, Uma destino (seleção única)\n- 1→N: Uma origem, Múltiplos destinos\n- N→N: Múltiplos origens, Múltiplos destinos",
                "is_async": false
              },
              {
                "name": "test_destination_cannot_be_origin",
                "docstring": "Verifica que UNE destino não pode ser igual a origem",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "TestChatBIResponses",
            "docstring": "Testes para validar que o ChatBI:\n- Nunca retorna respostas vazias\n- Sempre tem um fallback quando há erro\n- Processa queries corretamente",
            "methods": [
              {
                "name": "test_endpoint_handles_empty_agent_response",
                "docstring": "Valida que o endpoint /chat/stream trata adequadamente\ncaso o agente retorne resposta vazia",
                "is_async": false
              },
              {
                "name": "test_response_text_never_empty_in_stream",
                "docstring": "Valida que o texto streamado nunca é vazio",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "TestIntegration",
            "docstring": "Testes de integração simples para validar que:\n- Transferências funcionam com múltiplas UNEs\n- ChatBI responde a queries",
            "methods": [
              {
                "name": "test_transfer_with_multiple_destinations",
                "docstring": "Simula uma transferência 1→N: \n1 UNE origem, múltiplas UNEs destino",
                "is_async": false
              },
              {
                "name": "test_transfer_with_multiple_origins_destinations",
                "docstring": "Simula uma transferência N→N:\nMúltiplas UNEs origem, múltiplas UNEs destino",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "pytest",
          "unittest.mock",
          "asyncio",
          "app.core.agents.caculinha_bi_agent",
          "unittest.mock",
          "app.core.agents.caculinha_bi_agent",
          "unittest.mock"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\test_chatbi_complete.py",
      "name": "test_chatbi_complete.py",
      "extension": ".py",
      "size": 5910,
      "category": "test",
      "purpose": "Testes unitários (6 testes)",
      "details": {
        "type": "python",
        "docstring": "Script de teste completo para validar ChatBI modernizado\nTesta: Gemini 2.0, ferramenta flexível, integração com agente",
        "classes": [],
        "functions": [
          {
            "name": "test_1_imports",
            "docstring": "Teste 1: Verificar imports",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_2_model_config",
            "docstring": "Teste 2: Verificar configuração do modelo",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_3_flexible_tool",
            "docstring": "Teste 3: Testar ferramenta flexível",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_4_agent_tools",
            "docstring": "Teste 4: Verificar ferramentas do agente",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_5_parquet_config",
            "docstring": "Teste 5: Verificar configuração do Parquet",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": "Executar todos os testes",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "sys",
          "os",
          "app.core.tools.flexible_query_tool",
          "app.core.agents.caculinha_bi_agent",
          "app.config.settings",
          "app.config.settings",
          "app.core.tools.flexible_query_tool",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.config.settings",
          "os",
          "traceback",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\test_system.py",
      "name": "test_system.py",
      "extension": ".py",
      "size": 10428,
      "category": "test",
      "purpose": "Testes unitários (11 testes)",
      "details": {
        "type": "python",
        "docstring": "Script de teste robusto para verificar o sistema Agent BI\nTesta backend, frontend e integração",
        "classes": [],
        "functions": [
          {
            "name": "print_header",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "print_success",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "print_error",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "print_warning",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_backend_health",
            "docstring": "Testa se o backend está rodando e saudável",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_frontend_accessibility",
            "docstring": "Testa se o frontend está acessível",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_api_login",
            "docstring": "Testa o endpoint de login da API",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_authenticated_endpoint",
            "docstring": "Testa um endpoint autenticado",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_database_connection",
            "docstring": "Testa se a conexão com o banco de dados está funcionando",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_chat_endpoint",
            "docstring": "Testa o endpoint de chat",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "run_all_tests",
            "docstring": "Executa todos os testes",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "requests",
          "time",
          "sys",
          "io",
          "typing"
        ],
        "constants": [
          "GREEN",
          "RED",
          "YELLOW",
          "BLUE",
          "RESET"
        ]
      }
    },
    {
      "path": "backend\\tests\\test_tool_modernization.py",
      "name": "test_tool_modernization.py",
      "extension": ".py",
      "size": 8720,
      "category": "test",
      "purpose": "Ferramentas: Testes unitários (2 testes)",
      "details": {
        "type": "python",
        "docstring": "Testes para as melhorias de modernização das tools (2025-12-27).\n\nTesta:\n1. Consolidação de chart tools\n2. RAG semantic search\n3. Tool scoping por role",
        "classes": [
          {
            "name": "TestChartToolsConsolidation",
            "docstring": "Testa consolidação das chart tools",
            "methods": [
              {
                "name": "test_listar_graficos_disponiveis_returns_only_active_tools",
                "docstring": "listar_graficos_disponiveis deve retornar apenas 4 ferramentas ativas",
                "is_async": false
              },
              {
                "name": "test_deprecated_tools_have_warnings",
                "docstring": "Verifica que tools deprecated têm comentários de warning",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "TestSemanticSearch",
            "docstring": "Testa funcionalidade de RAG semantic search",
            "methods": [
              {
                "name": "test_semantic_search_tool_exists",
                "docstring": "Verifica que a tool de semantic search foi criada",
                "is_async": false
              },
              {
                "name": "test_semantic_search_tool_has_correct_schema",
                "docstring": "Verifica schema da tool de semantic search",
                "is_async": false
              },
              {
                "name": "test_semantic_search_integration",
                "docstring": "Teste de integração real (requer API key)",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "TestToolScoping",
            "docstring": "Testa tool scoping por role",
            "methods": [
              {
                "name": "create_dummy_tools",
                "docstring": "Cria tools dummy para testes",
                "is_async": false
              },
              {
                "name": "test_admin_has_all_tools",
                "docstring": "Admin deve ter acesso a todas as tools",
                "is_async": false
              },
              {
                "name": "test_analyst_has_limited_tools",
                "docstring": "Analyst não deve ter acesso a calcular_preco_final_une",
                "is_async": false
              },
              {
                "name": "test_viewer_has_minimal_tools",
                "docstring": "Viewer deve ter acesso mínimo",
                "is_async": false
              },
              {
                "name": "test_unknown_role_defaults_to_viewer",
                "docstring": "Role desconhecido deve usar 'viewer' como fallback",
                "is_async": false
              },
              {
                "name": "test_is_tool_allowed_works",
                "docstring": "Testa método is_tool_allowed",
                "is_async": false
              },
              {
                "name": "test_get_role_description",
                "docstring": "Testa descrição dos roles",
                "is_async": false
              },
              {
                "name": "test_list_available_tools",
                "docstring": "Testa listagem de tools disponíveis",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "TestAgentIntegration",
            "docstring": "Testa integração das melhorias no agent",
            "methods": [
              {
                "name": "test_agent_applies_tool_scoping",
                "docstring": "Verifica que o agent aplica tool scoping no __init__",
                "is_async": false
              },
              {
                "name": "test_agent_imports_new_tools",
                "docstring": "Verifica que o agent importa as novas ferramentas",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "DummyTool",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "name",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_run",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "BaseTool"
            ]
          }
        ],
        "functions": [
          {
            "name": "pytest_addoption",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "pytest_configure",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pytest",
          "unittest.mock",
          "langchain_core.tools",
          "app.core.utils.tool_scoping",
          "app.core.tools.chart_tools",
          "inspect",
          "app.core.tools",
          "app.core.tools.semantic_search_tool",
          "app.core.tools.semantic_search_tool",
          "app.core.tools.semantic_search_tool",
          "app.core.agents.caculinha_bi_agent",
          "app.core.utils.field_mapper",
          "app.core.agents"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_agent_graph_cache.py",
      "name": "test_agent_graph_cache.py",
      "extension": ".py",
      "size": 5246,
      "category": "test",
      "purpose": "Agente BI: Testes unitários (10 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "temp_agent_graph_cache_dir",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_settings",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "test_agent_graph_cache_init",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_current_version",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_set_and_get_cache_hit",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_cache_miss_expired",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_cache_miss_version_mismatch",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_clear_specific_key",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_clear_all",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_corrupt_file_handling",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pytest",
          "os",
          "json",
          "datetime",
          "unittest.mock",
          "app.core.cache",
          "app.config.settings",
          "time"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_caculinha_bi_agent.py",
      "name": "test_caculinha_bi_agent.py",
      "extension": ".py",
      "size": 7293,
      "category": "test",
      "purpose": "Agente BI: Testes unitários (4 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "MockLLM",
            "docstring": "A mock LLM that can simulate responses.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "invoke",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "mock_llm",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_field_mapper",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_code_gen_agent",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "caculinha_bi_agent",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          }
        ],
        "imports": [
          "pytest",
          "unittest.mock",
          "app.core.agents.caculinha_bi_agent",
          "app.core.tools.une_tools",
          "app.core.utils.error_handler"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_code_gen_agent.py",
      "name": "test_code_gen_agent.py",
      "extension": ".py",
      "size": 9300,
      "category": "test",
      "purpose": "Agente BI: Testes unitários (7 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "MockLLM",
            "docstring": "A mock LLM that can simulate responses for code generation.",
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "invoke",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "mock_llm",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_field_mapper",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_query_retriever",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_pattern_matcher",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_response_cache",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_query_history",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "code_gen_agent",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          }
        ],
        "imports": [
          "pytest",
          "unittest.mock",
          "app.core.agents.code_gen_agent",
          "app.core.utils.response_cache",
          "app.core.utils.query_history",
          "app.core.utils.error_handler"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_learning.py",
      "name": "test_learning.py",
      "extension": ".py",
      "size": 2026,
      "category": "test",
      "purpose": "Testes unitários (4 testes)",
      "details": {
        "type": "python",
        "docstring": "Testes unitários para o endpoint de Learning",
        "classes": [],
        "functions": [
          {
            "name": "test_get_insights_success",
            "docstring": "Testa se o endpoint de insights retorna dados válidos",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_insights_unauthorized",
            "docstring": "Testa se o endpoint rejeita requisições sem autenticação",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_insights_types",
            "docstring": "Testa se os tipos de insights são válidos",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_insights_with_admin",
            "docstring": "Testa se admin tem acesso aos insights",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pytest",
          "fastapi.testclient",
          "app.infrastructure.database.models"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_response_cache.py",
      "name": "test_response_cache.py",
      "extension": ".py",
      "size": 4038,
      "category": "test",
      "purpose": "Testes unitários (10 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "temp_cache_dir",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "mock_settings",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "test_response_cache_init",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_generate_key",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_normalize_query",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_set_and_get_cache_hit",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_set_and_get_cache_miss_expired",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_cache_miss_file_not_found",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_cache_miss_corrupt_file",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_clean_expired_cache",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pytest",
          "os",
          "json",
          "datetime",
          "unittest.mock",
          "app.core.utils.response_cache",
          "app.config.settings",
          "time",
          "time"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_transfers.py",
      "name": "test_transfers.py",
      "extension": ".py",
      "size": 2714,
      "category": "test",
      "purpose": "Testes unitários (5 testes)",
      "details": {
        "type": "python",
        "docstring": "Testes unitários para o endpoint de Transfers",
        "classes": [],
        "functions": [
          {
            "name": "test_get_transfers_success",
            "docstring": "Testa se o endpoint de transferências retorna dados válidos",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfers_with_limit",
            "docstring": "Testa se o parâmetro limit funciona corretamente",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfers_unauthorized",
            "docstring": "Testa se o endpoint rejeita requisições sem autenticação",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfers_data_quality",
            "docstring": "Testa a qualidade dos dados retornados",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_get_transfers_with_admin",
            "docstring": "Testa se admin tem acesso às transferências",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "pytest",
          "fastapi.testclient"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\unit\\test_une_tools.py",
      "name": "test_une_tools.py",
      "extension": ".py",
      "size": 9189,
      "category": "test",
      "purpose": "Ferramentas: Testes unitários (16 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [
          {
            "name": "MockHybridAdapter",
            "docstring": null,
            "methods": [
              {
                "name": "fetch_data",
                "docstring": null,
                "is_async": false
              }
            ],
            "bases": [
              "HybridDataAdapter"
            ]
          }
        ],
        "functions": [
          {
            "name": "mock_hybrid_adapter",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "pytest.fixture"
            ]
          },
          {
            "name": "test_normalize_dataframe",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_load_data_basic_filter",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F672E0>"
            ]
          },
          {
            "name": "test_load_data_with_columns",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F64640>"
            ]
          },
          {
            "name": "test_calcular_abastecimento_une_urgente",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F66B30>"
            ]
          },
          {
            "name": "test_calcular_abastecimento_une_normal",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B08340>"
            ]
          },
          {
            "name": "test_calcular_mc_produto_found",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B08580>"
            ]
          },
          {
            "name": "test_calcular_mc_produto_not_found",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B0ADD0>"
            ]
          },
          {
            "name": "test_calcular_preco_final_une_found",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B0B2E0>"
            ]
          },
          {
            "name": "test_calcular_preco_final_une_not_found",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B08880>"
            ]
          },
          {
            "name": "test_validar_transferencia_produto_sucesso",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B09F60>"
            ]
          },
          {
            "name": "test_validar_transferencia_produto_estoque_insuficiente",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B0A320>"
            ]
          },
          {
            "name": "test_validar_transferencia_produto_excede_lv_alerta",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87B0A950>"
            ]
          },
          {
            "name": "test_encontrar_rupturas_criticas_urgente",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F78850>"
            ]
          },
          {
            "name": "test_encontrar_rupturas_criticas_alta",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87F7A560>"
            ]
          },
          {
            "name": "test_sugerir_transferencias_automaticas_basic",
            "docstring": null,
            "is_async": false,
            "decorators": [
              "<ast.Call object at 0x000001FA87A6E470>"
            ]
          }
        ],
        "imports": [
          "pytest",
          "app.core.tools.une_tools",
          "app.infrastructure.data.hybrid_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\tests\\validate_implementation.py",
      "name": "validate_implementation.py",
      "extension": ".py",
      "size": 5395,
      "category": "source_python",
      "purpose": "Validation script - checks that all files were created correctly",
      "details": {
        "type": "python",
        "docstring": "Validation script - checks that all files were created correctly",
        "classes": [],
        "functions": [
          {
            "name": "check_file",
            "docstring": "Check if file exists",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "pathlib"
        ],
        "constants": []
      }
    },
    {
      "path": "backend\\TOOL_MODERNIZATION_ANALYSIS.md",
      "name": "TOOL_MODERNIZATION_ANALYSIS.md",
      "extension": ".md",
      "size": 18269,
      "category": "docs",
      "purpose": "Documentação: Análise de Modernização de Tools LLM - 2025",
      "details": {
        "type": "markdown",
        "title": "Análise de Modernização de Tools LLM - 2025",
        "sections": [
          "📊 Executive Summary",
          "🔍 Ferramentas Atuais (Inventário Completo)",
          "🚀 Melhores Práticas 2025 (Pesquisa)",
          "📋 Recomendações Priorizadas",
          "🎯 Roadmap Sugerido",
          "📊 Métricas de Sucesso",
          "🔗 Fontes de Pesquisa",
          "✅ Conclusão"
        ],
        "preview": "# Análise de Modernização de Tools LLM - 2025\n\n**Data:** 2025-12-27\n**Projeto:** Agent Solution BI - Lojas Caçula\n**Status Atual:** Gemini 3.0 Flash com Native Function Calling"
      }
    },
    {
      "path": "CLAUDE.md",
      "name": "CLAUDE.md",
      "extension": ".md",
      "size": 10807,
      "category": "docs",
      "purpose": "Documentação: CLAUDE.md",
      "details": {
        "type": "markdown",
        "title": "CLAUDE.md",
        "sections": [
          "Project Overview",
          "Quick Start Commands",
          "Architecture Overview",
          "Important Architectural Decisions",
          "Authentication & Security",
          "Environment Variables",
          "Database Schema",
          "Code Style & Conventions",
          "Testing",
          "Important Notes"
        ],
        "preview": "# CLAUDE.md\n\nThis file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n## Project Overview"
      }
    },
    {
      "path": "cleanup.bat",
      "name": "cleanup.bat",
      "extension": ".bat",
      "size": 2335,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "cleanup_conservative.py",
      "name": "cleanup_conservative.py",
      "extension": ".py",
      "size": 15786,
      "category": "script_temp",
      "purpose": "[SCRIPT TEMPORÁRIO] Não identificado",
      "details": {
        "type": "python",
        "docstring": "Script de Limpeza CONSERVADORA do Projeto BI_Solution\nOpção 2: Limpa logs, backups, sessões de teste e CSVs temporários\n\nSEGURANÇA:\n- Cria backup completo antes de qualquer exclusão\n- Mostra preview detalhado\n- Pede confirmação antes de executar\n- Gera relatório do que foi feito\n- Permite reverter (undo)",
        "classes": [
          {
            "name": "SafeCleanup",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "is_protected",
                "docstring": "Verifica se arquivo/diretório está protegido",
                "is_async": false
              },
              {
                "name": "find_files_to_delete",
                "docstring": "Encontra arquivos para deletar baseado nos padrões",
                "is_async": false
              },
              {
                "name": "format_size",
                "docstring": "Formata tamanho em bytes",
                "is_async": false
              },
              {
                "name": "show_preview",
                "docstring": "Mostra preview dos arquivos a serem deletados",
                "is_async": false
              },
              {
                "name": "create_backup",
                "docstring": "Cria backup dos arquivos antes de deletar",
                "is_async": false
              },
              {
                "name": "delete_files",
                "docstring": "Deleta os arquivos (após backup)",
                "is_async": false
              },
              {
                "name": "cleanup_empty_dirs",
                "docstring": "Remove diretórios vazios (apenas logs)",
                "is_async": false
              },
              {
                "name": "generate_report",
                "docstring": "Gera relatório final",
                "is_async": false
              },
              {
                "name": "run",
                "docstring": "Executa a limpeza",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "os",
          "shutil",
          "json",
          "pathlib",
          "datetime",
          "zipfile",
          "sys"
        ],
        "constants": []
      }
    },
    {
      "path": "data\\catalog_focused.json",
      "name": "catalog_focused.json",
      "extension": ".json",
      "size": 10270,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\input\\118d1957b67043aeb872acd9ed5f8714_temp_test.csv",
      "name": "118d1957b67043aeb872acd9ed5f8714_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\29c3896b8bd445269e784dc4221cbaae_temp_test.csv",
      "name": "29c3896b8bd445269e784dc4221cbaae_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\621843dbdc0c43dd967d4ffb225839f4_temp_test.csv",
      "name": "621843dbdc0c43dd967d4ffb225839f4_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\696b783d90e14857982c7988ba674038_temp_test.csv",
      "name": "696b783d90e14857982c7988ba674038_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\8362ccd7951c4f06aa1d3528e2810b23_temp_test.csv",
      "name": "8362ccd7951c4f06aa1d3528e2810b23_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\aaa0fde96a1443848a390e05804c6ff6_temp_test.csv",
      "name": "aaa0fde96a1443848a390e05804c6ff6_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\ADMAT.csv",
      "name": "ADMAT.csv",
      "extension": ".csv",
      "size": 134764,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\b60c04e3270d44d5b405fad69d57e920_temp_test.csv",
      "name": "b60c04e3270d44d5b405fad69d57e920_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\c1ef0fb29a8c40ed91cfe29518eabfe1_temp_test.csv",
      "name": "c1ef0fb29a8c40ed91cfe29518eabfe1_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\c89d14f7b08747da973468ef2dda5ea9_temp_test.csv",
      "name": "c89d14f7b08747da973468ef2dda5ea9_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\d94b48625a8c4b93add4f933624cdcb7_temp_test.csv",
      "name": "d94b48625a8c4b93add4f933624cdcb7_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\f374bfb5f23549b79f3de5d38ae774ff_temp_test.csv",
      "name": "f374bfb5f23549b79f3de5d38ae774ff_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\fbce5c3727a848c2a96459b8948763ea_temp_test.csv",
      "name": "fbce5c3727a848c2a96459b8948763ea_temp_test.csv",
      "extension": ".csv",
      "size": 19,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\input\\SEMVENDAS.csv",
      "name": "SEMVENDAS.csv",
      "extension": ".csv",
      "size": 49787,
      "category": "data",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\error_counts_20251108.json",
      "name": "error_counts_20251108.json",
      "extension": ".json",
      "size": 34,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "ColumnValidationError"
        ]
      }
    },
    {
      "path": "data\\learning\\error_counts_20251109.json",
      "name": "error_counts_20251109.json",
      "extension": ".json",
      "size": 23,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "ValueError"
        ]
      }
    },
    {
      "path": "data\\learning\\error_log_20251108.jsonl",
      "name": "error_log_20251108.jsonl",
      "extension": ".jsonl",
      "size": 4830,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\error_log_20251109.jsonl",
      "name": "error_log_20251109.jsonl",
      "extension": ".jsonl",
      "size": 25554,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\error_log_20251207.jsonl",
      "name": "error_log_20251207.jsonl",
      "extension": ".jsonl",
      "size": 6268,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\successful_queries_20251108.jsonl",
      "name": "successful_queries_20251108.jsonl",
      "extension": ".jsonl",
      "size": 34320,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\successful_queries_20251109.jsonl",
      "name": "successful_queries_20251109.jsonl",
      "extension": ".jsonl",
      "size": 88929,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\successful_queries_20251111.jsonl",
      "name": "successful_queries_20251111.jsonl",
      "extension": ".jsonl",
      "size": 9116,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\successful_queries_20251116.jsonl",
      "name": "successful_queries_20251116.jsonl",
      "extension": ".jsonl",
      "size": 5176,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\successful_queries_20251120.jsonl",
      "name": "successful_queries_20251120.jsonl",
      "extension": ".jsonl",
      "size": 23966,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\learning\\successful_queries_20251122.jsonl",
      "name": "successful_queries_20251122.jsonl",
      "extension": ".jsonl",
      "size": 5953,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "data\\parquet\\admmat.parquet",
      "name": "admmat.parquet",
      "extension": ".parquet",
      "size": 63132216,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "data\\parquet\\users.parquet",
      "name": "users.parquet",
      "extension": ".parquet",
      "size": 4958,
      "category": "data",
      "purpose": "Dataset Parquet (análise rápida com Polars)",
      "details": {}
    },
    {
      "path": "data\\query_examples.json",
      "name": "query_examples.json",
      "extension": ".json",
      "size": 600925,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251108.json",
      "name": "history_20251108.json",
      "extension": ".json",
      "size": 10247,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251109.json",
      "name": "history_20251109.json",
      "extension": ".json",
      "size": 4626,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251111.json",
      "name": "history_20251111.json",
      "extension": ".json",
      "size": 2831,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251116.json",
      "name": "history_20251116.json",
      "extension": ".json",
      "size": 763,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251119.json",
      "name": "history_20251119.json",
      "extension": ".json",
      "size": 6030,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251120.json",
      "name": "history_20251120.json",
      "extension": ".json",
      "size": 8418,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251121.json",
      "name": "history_20251121.json",
      "extension": ".json",
      "size": 1629,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_history\\history_20251122.json",
      "name": "history_20251122.json",
      "extension": ".json",
      "size": 3486,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": null
      }
    },
    {
      "path": "data\\query_patterns.json",
      "name": "query_patterns.json",
      "extension": ".json",
      "size": 2391,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "ranking_completo_por_segmento",
          "top_n_geral",
          "top_n_por_une",
          "ruptura_por_segmento_e_une"
        ]
      }
    },
    {
      "path": "data\\transferencias\\transferencia_20251108_102233.json",
      "name": "transferencia_20251108_102233.json",
      "extension": ".json",
      "size": 2187,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "usuario",
          "modo",
          "unes_origem",
          "unes_destino",
          "produtos",
          "total_produtos",
          "total_itens",
          "total_valor",
          "prioridade",
          "observacoes",
          "status"
        ]
      }
    },
    {
      "path": "data\\transferencias\\transferencia_20251108_163027.json",
      "name": "transferencia_20251108_163027.json",
      "extension": ".json",
      "size": 4513,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "usuario",
          "modo",
          "unes_origem",
          "unes_destino",
          "produtos",
          "total_produtos",
          "total_itens",
          "total_valor",
          "prioridade",
          "observacoes",
          "status"
        ]
      }
    },
    {
      "path": "data\\transferencias\\transferencia_20251109_153242.json",
      "name": "transferencia_20251109_153242.json",
      "extension": ".json",
      "size": 1737,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "timestamp",
          "usuario",
          "modo",
          "unes_origem",
          "unes_destino",
          "produtos",
          "total_produtos",
          "total_itens",
          "total_valor",
          "prioridade",
          "observacoes",
          "status"
        ]
      }
    },
    {
      "path": "docs\\API_DOCUMENTATION.md",
      "name": "API_DOCUMENTATION.md",
      "extension": ".md",
      "size": 3185,
      "category": "docs",
      "purpose": "Documentação: Documentação da API - Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "Documentação da API - Agent Solution BI",
        "sections": [
          "Visão Geral",
          "🔐 Autenticação",
          "💬 Chat BI (Agente)",
          "📊 Analytics",
          "📦 Transferências (UNE)",
          "⚠️ Rupturas"
        ],
        "preview": "# Documentação da API - Agent Solution BI\n\n## Visão Geral\n\nA API segue o padrão RESTful e utiliza JSON para troca de dados."
      }
    },
    {
      "path": "docs\\archive\\CORRECOES_CRITICAS_IMPLEMENTADAS.md",
      "name": "CORRECOES_CRITICAS_IMPLEMENTADAS.md",
      "extension": ".md",
      "size": 12510,
      "category": "docs",
      "purpose": "Documentação: RELATÓRIO DE CORREÇÕES CRÍTICAS IMPLEMENTADAS",
      "details": {
        "type": "markdown",
        "title": "RELATÓRIO DE CORREÇÕES CRÍTICAS IMPLEMENTADAS",
        "sections": [
          "📋 RESUMO EXECUTIVO",
          "🔧 CORREÇÃO 1: Validação de Query Vazia",
          "🔧 CORREÇÃO 2: Maximum Conversation Turns Exceeded",
          "🔧 CORREÇÃO 3: Cache Semântico",
          "📊 RESULTADO CONSOLIDADO DOS TESTES",
          "🎯 IMPACTO NO SISTEMA",
          "🚀 DEPLOYMENT",
          "📝 NOTAS ADICIONAIS",
          "✅ CONCLUSÃO"
        ],
        "preview": "# RELATÓRIO DE CORREÇÕES CRÍTICAS IMPLEMENTADAS\n\n**Data:** 21 de Dezembro de 2025\n**Sistema:** Agent Solution BI - Lojas Caçula\n**Versão:** 2.1.0 (Correções Críticas)"
      }
    },
    {
      "path": "docs\\archive\\DIAGNOSTICO_COMPLETO.md",
      "name": "DIAGNOSTICO_COMPLETO.md",
      "extension": ".md",
      "size": 5853,
      "category": "docs",
      "purpose": "Documentação: Diagnóstico Completo - SQL Server e Sincronização Parquet",
      "details": {
        "type": "markdown",
        "title": "Diagnóstico Completo - SQL Server e Sincronização Parquet",
        "sections": [
          "📋 Resumo Executivo",
          "✅ Problemas Resolvidos (Código)",
          "⚠️ Problema Pendente (Configuração SQL Server)",
          "🔧 Ação Necessária",
          "📊 Configuração do Sistema",
          "🚀 Próximos Passos",
          "📁 Arquivos Modificados/Criados",
          "🎯 Resultado Esperado",
          "❓ FAQ",
          "📞 Suporte"
        ],
        "preview": "# Diagnóstico Completo - SQL Server e Sincronização Parquet\n\n## 📋 Resumo Executivo\n\nO sistema **Agent BI** precisa do SQL Server para sincronizar dados para o arquivo Parquet. Identificamos e corrigimos os problemas de código, mas existe uma **configuração pendente no SQL Server**."
      }
    },
    {
      "path": "docs\\archive\\DIAGNOSTICO_MAX_TURNS_FIX.md",
      "name": "DIAGNOSTICO_MAX_TURNS_FIX.md",
      "extension": ".md",
      "size": 7741,
      "category": "docs",
      "purpose": "Documentação: DIAGNÓSTICO E CORREÇÃO: Maximum Conversation Turns Exceeded",
      "details": {
        "type": "markdown",
        "title": "DIAGNÓSTICO E CORREÇÃO: Maximum Conversation Turns Exceeded",
        "sections": [
          "CAUSA RAIZ IDENTIFICADA",
          "CORREÇÕES IMPLEMENTADAS",
          "VALIDAÇÃO",
          "ARQUIVOS ADICIONAIS COM EMOJIS (NÃO CRÍTICOS)",
          "PRÓXIMOS PASSOS",
          "IMPACTO ESPERADO",
          "CONCLUSÃO"
        ],
        "preview": "# DIAGNÓSTICO E CORREÇÃO: Maximum Conversation Turns Exceeded\n\n**Data:** 21 de Dezembro de 2025\n**Problema Reportado:** Agente não consegue responder \"quais são os grupos em queda de vendas na UNE 2365\"\n**Erro:** Maximum conversation turns exceeded"
      }
    },
    {
      "path": "docs\\archive\\README_NEW_SYSTEM.md",
      "name": "README_NEW_SYSTEM.md",
      "extension": ".md",
      "size": 2356,
      "category": "docs",
      "purpose": "Documentação: 🚀 Agent BI Solution - Quick Start",
      "details": {
        "type": "markdown",
        "title": "🚀 Agent BI Solution - Quick Start",
        "sections": [
          "Início Rápido",
          "📦 Comandos Principais",
          "⚙️ Configuração Inicial",
          "🏥 Health Checks",
          "🛠️ Troubleshooting",
          "📚 Documentação Completa",
          "🎯 Stack Tecnológica",
          "✅ Checklist Pré-Desenvolvimento"
        ],
        "preview": "# 🚀 Agent BI Solution - Quick Start\n\n## Início Rápido\n\n```bash"
      }
    },
    {
      "path": "docs\\archive\\RELATORIO_DIAGNOSTICO_COMPLETO.md",
      "name": "RELATORIO_DIAGNOSTICO_COMPLETO.md",
      "extension": ".md",
      "size": 9002,
      "category": "docs",
      "purpose": "Documentação: 🔍 Relatório de Diagnóstico Completo - Agent BI Solution",
      "details": {
        "type": "markdown",
        "title": "🔍 Relatório de Diagnóstico Completo - Agent BI Solution",
        "sections": [
          "📋 Resumo Executivo",
          "🔎 Páginas Analisadas",
          "🛠️ Problemas Identificados",
          "✅ Correções Aplicadas",
          "🚀 Solução Imediata",
          "📊 Resultados Esperados Após Restart",
          "📝 Recomendações de Longo Prazo",
          "🎯 Checklist de Verificação Pós-Restart",
          "📞 Próximos Passos"
        ],
        "preview": "# 🔍 Relatório de Diagnóstico Completo - Agent BI Solution\n\n**Data**: 2025-12-20\n**Analista**: Claude Code\n**Tipo**: Análise de Visibilidade de Dados nas Páginas Frontend"
      }
    },
    {
      "path": "docs\\archive\\SOLUCAO_FINAL.md",
      "name": "SOLUCAO_FINAL.md",
      "extension": ".md",
      "size": 2407,
      "category": "docs",
      "purpose": "Documentação: ✅ SOLUÇÃO FINAL - Dados Visíveis em Todas as Páginas",
      "details": {
        "type": "markdown",
        "title": "✅ SOLUÇÃO FINAL - Dados Visíveis em Todas as Páginas",
        "sections": [
          "PROBLEMA RESOLVIDO",
          "⚡ O QUE FOI CORRIGIDO",
          "📊 RESULTADOS (TESTADOS)",
          "🚀 BACKEND RODANDO",
          "📝 ARQUIVOS MODIFICADOS",
          "⚠️ IMPORTANTE"
        ],
        "preview": "# ✅ SOLUÇÃO FINAL - Dados Visíveis em Todas as Páginas\n\n## PROBLEMA RESOLVIDO\n\nTodas as páginas (Dashboard, Analytics, Rupturas, Transfers) agora exibem dados corretamente."
      }
    },
    {
      "path": "docs\\archive\\SQL_SERVER_STATUS_REPORT.md",
      "name": "SQL_SERVER_STATUS_REPORT.md",
      "extension": ".md",
      "size": 4642,
      "category": "docs",
      "purpose": "Documentação: SQL Server Diagnostics - Status Report",
      "details": {
        "type": "markdown",
        "title": "SQL Server Diagnostics - Status Report",
        "sections": [
          "Summary of Work Completed",
          "Current System Status",
          "Recommended Next Steps",
          "Testing Performed",
          "Files Modified",
          "Conclusion"
        ],
        "preview": "# SQL Server Diagnostics - Status Report\n\n## Summary of Work Completed\n\n### ✅ Code Fixes Applied"
      }
    },
    {
      "path": "docs\\archive\\SYSTEM_STATUS.md",
      "name": "SYSTEM_STATUS.md",
      "extension": ".md",
      "size": 2973,
      "category": "docs",
      "purpose": "Documentação: Relatório de Status do Sistema - Agent BI Solution",
      "details": {
        "type": "markdown",
        "title": "Relatório de Status do Sistema - Agent BI Solution",
        "sections": [
          "✅ Resumo Executivo para a Diretoria",
          "✅ Status dos Componentes Core",
          "✅ Funcionalidades Certificadas",
          "✅ Dados e Governança",
          "✅ Credenciais de Demonstração (Seguras)",
          "📄 CERTIFICAÇÃO FINAL"
        ],
        "preview": "# Relatório de Status do Sistema - Agent BI Solution\n\n**Data:** 19 de Dezembro de 2025\n**Status Geral:** ✅ TOTALMENTE OPERACIONAL (PRONTO PARA APRESENTAÇÃO)\n"
      }
    },
    {
      "path": "docs\\archive\\test_results.txt",
      "name": "test_results.txt",
      "extension": ".txt",
      "size": 10245,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "docs\\ARQUITETURA.md",
      "name": "ARQUITETURA.md",
      "extension": ".md",
      "size": 5336,
      "category": "docs",
      "purpose": "Documentação: Arquitetura do Sistema Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "Arquitetura do Sistema Agent Solution BI",
        "sections": [
          "1. Visão Geral",
          "2. Componentes do Backend",
          "3. Componentes do Frontend",
          "4. Fluxos de Dados Principais",
          "5. Considerações de Segurança"
        ],
        "preview": "# Arquitetura do Sistema Agent Solution BI\n\nEste documento descreve a arquitetura técnica do sistema Agent Solution BI após a migração para a stack SolidJS + FastAPI.\n\n## 1. Visão Geral"
      }
    },
    {
      "path": "docs\\ARQUITETURA_VISUAL.html",
      "name": "ARQUITETURA_VISUAL.html",
      "extension": ".html",
      "size": 3905,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "docs\\ARQUITETURA_VISUAL.md",
      "name": "ARQUITETURA_VISUAL.md",
      "extension": ".md",
      "size": 5197,
      "category": "docs",
      "purpose": "Documentação: Diagrama Visual da Arquitetura do Sistema",
      "details": {
        "type": "markdown",
        "title": "Diagrama Visual da Arquitetura do Sistema",
        "sections": [
          "Visão Geral (C4 Container Diagram)",
          "Legenda Técnica"
        ],
        "preview": "# Diagrama Visual da Arquitetura do Sistema\n\nEste documento apresenta a visão visual da arquitetura do sistema Agent Solution BI, detalhando os microserviços, agentes e fluxos de dados.\n\n## Visão Geral (C4 Container Diagram)"
      }
    },
    {
      "path": "docs\\CODE_CHAT_GUIDE.md",
      "name": "CODE_CHAT_GUIDE.md",
      "extension": ".md",
      "size": 7181,
      "category": "docs",
      "purpose": "Documentação: Code Chat - Agente Fullstack Completo",
      "details": {
        "type": "markdown",
        "title": "Code Chat - Agente Fullstack Completo",
        "sections": [
          "Visão Geral",
          "✨ Funcionalidades",
          "📦 Instalação",
          "🚀 Uso",
          "📊 Arquitetura",
          "💰 Custos",
          "🔧 Manutenção",
          "🐛 Troubleshooting",
          "📝 Próximas Melhorias",
          "🎓 Recursos"
        ],
        "preview": "# Code Chat - Agente Fullstack Completo\n\n## Visão Geral\nO Code Chat do Agente BI utiliza o modelo **Gemini 3.0 Flash** para responder perguntas sobre o código-fonte. O sistema usa RAG (Retrieval Augmented Generation) para injetar o contexto dos arquivos relevantes no prompt da IA.\n"
      }
    },
    {
      "path": "docs\\CORRECAO_DEFINITIVA_UNE.md",
      "name": "CORRECAO_DEFINITIVA_UNE.md",
      "extension": ".md",
      "size": 6835,
      "category": "docs",
      "purpose": "Documentação: ✅ CORREÇÃO DEFINITIVAVA: Seleção UNE em Transferências",
      "details": {
        "type": "markdown",
        "title": "✅ CORREÇÃO DEFINITIVAVA: Seleção UNE em Transferências",
        "sections": [
          "📋 O Que Foi Consertado",
          "🧪 Como Testar",
          "🔧 Mudanças Técnicas",
          "✨ Por Que Isso Funciona Agora",
          "📊 Checklist de Implantação",
          "📌 Próximos Passos (User)",
          "🎯 Resolução da Solicitação Original"
        ],
        "preview": "# ✅ CORREÇÃO DEFINITIVAVA: Seleção UNE em Transferências\n\n**Data:** 2025  \n**Status:** ✅ IMPLEMENTADO  \n**Prioridade:** CRÍTICA  "
      }
    },
    {
      "path": "docs\\CREDENTIALS.md",
      "name": "CREDENTIALS.md",
      "extension": ".md",
      "size": 3044,
      "category": "docs",
      "purpose": "Documentação: Credenciais de Acesso - Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "Credenciais de Acesso - Agent Solution BI",
        "sections": [
          "Credenciais Padrão",
          "Como Fazer Login",
          "Troubleshooting",
          "Verificação do Sistema",
          "Alterando a Senha",
          "Suporte"
        ],
        "preview": "# Credenciais de Acesso - Agent Solution BI\n\n## Credenciais Padrão\n\n### Usuário Administrador"
      }
    },
    {
      "path": "docs\\FEATURE_CONTEXT7_ACCESS_CONTROL.md",
      "name": "FEATURE_CONTEXT7_ACCESS_CONTROL.md",
      "extension": ".md",
      "size": 2961,
      "category": "docs",
      "purpose": "Documentação: Implementation Plan: User Segmentation & Dashboard Storytelling",
      "details": {
        "type": "markdown",
        "title": "Implementation Plan: User Segmentation & Dashboard Storytelling",
        "sections": [
          "Objective",
          "Phase 1: Backend Authentication Updates",
          "Phase 2: Frontend Authentication & Access Control",
          "Phase 3: Dashboard Storytelling (\"Context7\")",
          "Execution Strategy"
        ],
        "preview": "# Implementation Plan: User Segmentation & Dashboard Storytelling\n\n## Objective\nImplement role-based and segment-based access control for \"user\" level accounts and enhance the \"Monitoramento\" dashboard with storytelling elements (\"Context7\" philosophy).\n"
      }
    },
    {
      "path": "docs\\GAP_ANALYSIS_100_PERCENT.md",
      "name": "GAP_ANALYSIS_100_PERCENT.md",
      "extension": ".md",
      "size": 4812,
      "category": "docs",
      "purpose": "Documentação: Gap Analysis: Caminho para 100% de Paridade Funcional",
      "details": {
        "type": "markdown",
        "title": "Gap Analysis: Caminho para 100% de Paridade Funcional",
        "sections": [
          "📊 Estado Atual: 85% de Paridade",
          "❌ O Que Falta para 100% (15%)",
          "🎯 Roadmap para 100%",
          "💡 Decisão Estratégica"
        ],
        "preview": "# Gap Analysis: Caminho para 100% de Paridade Funcional\n\n## 📊 Estado Atual: 85% de Paridade\n\n### O Que Temos (85%)"
      }
    },
    {
      "path": "docs\\GRAPH_GENERATION_FIX.md",
      "name": "GRAPH_GENERATION_FIX.md",
      "extension": ".md",
      "size": 5285,
      "category": "docs",
      "purpose": "Documentação: Correção de Geração de Gráficos - Context7 Best Practices 2025",
      "details": {
        "type": "markdown",
        "title": "Correção de Geração de Gráficos - Context7 Best Practices 2025",
        "sections": [
          "Problemas Identificados",
          "Soluções Aplicadas",
          "Arquivos Modificados",
          "Como Testar",
          "Logs de Sucesso",
          "Performance",
          "Compatibilidade",
          "Próximos Passos (Opcional)"
        ],
        "preview": "# Correção de Geração de Gráficos - Context7 Best Practices 2025\n\n**Data:** 2025-12-27\n**Problema:** Timeout de 2 minutos + navegador fechando ao solicitar gráficos\n"
      }
    },
    {
      "path": "docs\\GUIA_GERENCIAMENTO_USUARIOS.md",
      "name": "GUIA_GERENCIAMENTO_USUARIOS.md",
      "extension": ".md",
      "size": 6052,
      "category": "docs",
      "purpose": "Documentação: Guia de Gerenciamento de Usuários - Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "Guia de Gerenciamento de Usuários - Agent Solution BI",
        "sections": [
          "🎉 Sistema Implementado com Sucesso!",
          "🚀 Como Usar",
          "🔧 Detalhes Técnicos",
          "🔐 Segurança",
          "📋 Estrutura de Dados",
          "🐛 Resolução de Problemas",
          "🎯 Próximos Passos (Opcional)",
          "📞 Suporte"
        ],
        "preview": "# Guia de Gerenciamento de Usuários - Agent Solution BI\n\n## 🎉 Sistema Implementado com Sucesso!\n\nO sistema de gerenciamento de usuários foi implementado com integração completa ao Supabase Auth."
      }
    },
    {
      "path": "docs\\GUIA_INICIALIZACAO.md",
      "name": "GUIA_INICIALIZACAO.md",
      "extension": ".md",
      "size": 8188,
      "category": "docs",
      "purpose": "Documentação: 🚀 Guia de Inicialização - AgentBI",
      "details": {
        "type": "markdown",
        "title": "🚀 Guia de Inicialização - AgentBI",
        "sections": [
          "🎯 Melhorias Implementadas",
          "📋 Opções de Inicialização",
          "🔧 Scripts NPM Disponíveis",
          "🎨 Cores dos Logs",
          "🛠️ Tecnologia Utilizada",
          "📁 Estrutura de Arquivos",
          "🚨 Troubleshooting",
          "💡 Dicas de Uso",
          "🔄 Comparação: Antes vs Depois",
          "📊 Benefícios Mensuráveis"
        ],
        "preview": "# 🚀 Guia de Inicialização - AgentBI\n\nSistema simplificado de inicialização usando **concurrently** para melhor experiência de desenvolvimento.\n\n---"
      }
    },
    {
      "path": "docs\\GUIA_TESTES.md",
      "name": "GUIA_TESTES.md",
      "extension": ".md",
      "size": 4733,
      "category": "docs",
      "purpose": "Documentação: 🧪 Guia de Testes - Agent BI",
      "details": {
        "type": "markdown",
        "title": "🧪 Guia de Testes - Agent BI",
        "sections": [
          "📋 Testes Disponíveis",
          "🐛 Solucionando Tela Branca",
          "🚀 Teste Rápido",
          "📊 Interpretando Resultados",
          "🔍 Debug Avançado",
          "📞 Ainda com problemas?"
        ],
        "preview": "# 🧪 Guia de Testes - Agent BI\n\n## 📋 Testes Disponíveis\n\n### 1️⃣ Teste Robusto do Sistema (Python)"
      }
    },
    {
      "path": "docs\\guides\\HABILITAR_TCP_IP_SQL_SERVER.md",
      "name": "HABILITAR_TCP_IP_SQL_SERVER.md",
      "extension": ".md",
      "size": 4841,
      "category": "docs",
      "purpose": "Documentação: Como Habilitar TCP/IP no SQL Server",
      "details": {
        "type": "markdown",
        "title": "Como Habilitar TCP/IP no SQL Server",
        "sections": [
          "Problema Identificado",
          "Solução Passo a Passo",
          "Verificações Rápidas",
          "Troubleshooting",
          "Configuração Atual do Sistema",
          "Próximos Passos Após Habilitar TCP/IP"
        ],
        "preview": "# Como Habilitar TCP/IP no SQL Server\n\n## Problema Identificado\n\n```"
      }
    },
    {
      "path": "docs\\guides\\SQL_SERVER_SETUP.md",
      "name": "SQL_SERVER_SETUP.md",
      "extension": ".md",
      "size": 4315,
      "category": "docs",
      "purpose": "Documentação: Configuração do SQL Server - Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "Configuração do SQL Server - Agent Solution BI",
        "sections": [
          "Problema Identificado",
          "Solução",
          "Modo Híbrido (Recomendado)",
          "Troubleshooting",
          "Alternativas"
        ],
        "preview": "# Configuração do SQL Server - Agent Solution BI\n\n## Problema Identificado\n\nO erro `Nome da fonte de dados não encontrado e nenhum driver padrão especificado` ocorre quando a connection string ODBC não está configurada corretamente."
      }
    },
    {
      "path": "docs\\LOGGING_QUICK_START.md",
      "name": "LOGGING_QUICK_START.md",
      "extension": ".md",
      "size": 2547,
      "category": "docs",
      "purpose": "Documentação: 🚀 Logging - Guia Rápido",
      "details": {
        "type": "markdown",
        "title": "🚀 Logging - Guia Rápido",
        "sections": [
          "Backend (FastAPI)",
          "Frontend (SolidJS)",
          "Estrutura de Logs",
          "Visualizar Logs",
          "Níveis de Log",
          "⚠️ Importante",
          "📚 Documentação Completa"
        ],
        "preview": "# 🚀 Logging - Guia Rápido\n\n## Backend (FastAPI)\n\n### Uso Básico"
      }
    },
    {
      "path": "docs\\MANUAL_TEST_CHECKLIST.md",
      "name": "MANUAL_TEST_CHECKLIST.md",
      "extension": ".md",
      "size": 13706,
      "category": "docs",
      "purpose": "Documentação: MANUAL TEST CHECKLIST - Agent Solution BI (SolidJS + FastAPI)",
      "details": {
        "type": "markdown",
        "title": "MANUAL TEST CHECKLIST - Agent Solution BI (SolidJS + FastAPI)",
        "sections": [
          "🎯 OBJETIVO",
          "📝 INSTRUÇÕES",
          "✅ CHECKLIST DE TESTES",
          "🏁 CONCLUSÃO DO TESTE MANUAL"
        ],
        "preview": "# MANUAL TEST CHECKLIST - Agent Solution BI (SolidJS + FastAPI)\n\nEste checklist cobre os principais fluxos da aplicação para validação manual.\n\n---"
      }
    },
    {
      "path": "docs\\MIGRATION_GUIDE.md",
      "name": "MIGRATION_GUIDE.md",
      "extension": ".md",
      "size": 10076,
      "category": "docs",
      "purpose": "Documentação: Guia de Migração - Agent BI Solution",
      "details": {
        "type": "markdown",
        "title": "Guia de Migração - Agent BI Solution",
        "sections": [
          "📋 Resumo das Mudanças",
          "🎯 Principais Melhorias",
          "🚀 Como Usar",
          "📦 Scripts npm Disponíveis",
          "🔧 Taskfile (Opcional - Requer Instalação)",
          "🏥 Endpoints de Saúde",
          "⚙️ Variáveis de Ambiente (.env)",
          "🐛 Troubleshooting",
          "📊 Comparativo: Antes vs Depois",
          "🎓 Próximos Passos Recomendados"
        ],
        "preview": "# Guia de Migração - Agent BI Solution\n\n## 📋 Resumo das Mudanças\n\nO sistema de inicialização foi modernizado de scripts Python customizados (707 linhas) para ferramentas padrão da indústria com npm scripts e Taskfile.yml (~50 linhas)."
      }
    },
    {
      "path": "docs\\PARQUET_SCHEMA_REFERENCE.md",
      "name": "PARQUET_SCHEMA_REFERENCE.md",
      "extension": ".md",
      "size": 10757,
      "category": "docs",
      "purpose": "Documentação: Referência de Esquema do Parquet - admmat.parquet",
      "details": {
        "type": "markdown",
        "title": "Referência de Esquema do Parquet - admmat.parquet",
        "sections": [
          "INSTRUÇÕES PARA EDIÇÃO:",
          "COLUNAS DE IDENTIFICAÇÃO",
          "COLUNAS DE CLASSIFICAÇÃO",
          "COLUNAS DE ESTOQUE",
          "COLUNAS DE PONTO DE PEDIDO E PARÂMETROS",
          "COLUNAS DE VENDAS - MENSAL",
          "COLUNAS DE VENDAS - SEMANAL",
          "COLUNAS DE VENDAS - PERÍODO",
          "COLUNAS DE CLASSIFICAÇÃO ABC",
          "COLUNAS DE ENTRADA/RECEBIMENTO - CD"
        ],
        "preview": "# Referência de Esquema do Parquet - admmat.parquet\n\n## INSTRUÇÕES PARA EDIÇÃO:\n1. **Edite as descrições** para refletir o uso real de cada coluna\n2. **Marque com ✓** as colunas que estão sendo usadas corretamente"
      }
    },
    {
      "path": "docs\\PERFORMANCE_OPTIMIZATION.md",
      "name": "PERFORMANCE_OPTIMIZATION.md",
      "extension": ".md",
      "size": 8488,
      "category": "docs",
      "purpose": "Documentação: Performance Optimization Guide - Agent BI",
      "details": {
        "type": "markdown",
        "title": "Performance Optimization Guide - Agent BI",
        "sections": [
          "📊 Executive Summary",
          "🎯 Problem Identification",
          "✅ Solutions Implemented",
          "📈 Performance Metrics",
          "🔧 Configuration",
          "🎨 Architecture Patterns",
          "📝 Future Optimizations",
          "🚨 Troubleshooting",
          "📚 References",
          "✅ Verification Checklist"
        ],
        "preview": "# Performance Optimization Guide - Agent BI\n**Context7 Documentation | Performance Engineering**\n\n---\n"
      }
    },
    {
      "path": "docs\\PIC_MAPPING.md",
      "name": "PIC_MAPPING.md",
      "extension": ".md",
      "size": 5904,
      "category": "docs",
      "purpose": "Documentação: Mapeamento: Próximos Passos ↔ PIC (Plano de Implementação Cirúrgica)",
      "details": {
        "type": "markdown",
        "title": "Mapeamento: Próximos Passos ↔ PIC (Plano de Implementação Cirúrgica)",
        "sections": [
          "✅ Resposta Direta",
          "📊 Mapeamento Detalhado",
          "📝 Detalhamento das Seções Pendentes",
          "🎯 Resumo da Correspondência",
          "📋 Próximos Passos Detalhados (Seguindo o PIC)",
          "✅ Conclusão"
        ],
        "preview": "# Mapeamento: Próximos Passos ↔ PIC (Plano de Implementação Cirúrgica)\n\n**Data:** 22 de Novembro de 2025  \n**Documento de Referência:** `prompt_pic_agent_bi_implementation.md`\n"
      }
    },
    {
      "path": "docs\\PLANO_HIBRIDO_IMPLEMENTADO.md",
      "name": "PLANO_HIBRIDO_IMPLEMENTADO.md",
      "extension": ".md",
      "size": 11558,
      "category": "docs",
      "purpose": "Documentação: 🎉 Plano Híbrido - IMPLEMENTAÇÃO COMPLETA",
      "details": {
        "type": "markdown",
        "title": "🎉 Plano Híbrido - IMPLEMENTAÇÃO COMPLETA",
        "sections": [
          "✅ **Status: 100% Concluído**",
          "📊 **O Que Foi Implementado**",
          "🏗️ **Arquitetura Implementada**",
          "📈 **Progresso de Paridade**",
          "🎯 **Diferenciais Competitivos**",
          "🚀 **Como Usar as Novas Features**",
          "🗄️ **Migração de Banco de Dados**",
          "🧪 **Como Testar**",
          "📝 **Checklist de Verificação**",
          "🐛 **Troubleshooting**"
        ],
        "preview": "# 🎉 Plano Híbrido - IMPLEMENTAÇÃO COMPLETA\n\n## ✅ **Status: 100% Concluído**\n\nData de implementação: 10 de dezembro de 2025"
      }
    },
    {
      "path": "docs\\PRD.md",
      "name": "PRD.md",
      "extension": ".md",
      "size": 32083,
      "category": "docs",
      "purpose": "Documentação: Product Requirements Document (PRD)",
      "details": {
        "type": "markdown",
        "title": "Product Requirements Document (PRD)",
        "sections": [
          "1. Visão do Produto",
          "2. Objetivos do Negócio",
          "3. Usuários-Alvo e Personas",
          "4. Requisitos Funcionais",
          "5. Requisitos Não-Funcionais",
          "6. Casos de Uso Principais",
          "7. Stack Tecnológica",
          "8. Roadmap de Produto",
          "9. Métricas de Sucesso",
          "10. Riscos e Mitigações"
        ],
        "preview": "# Product Requirements Document (PRD)\n# Agent Solution BI - Lojas Caçula\n\n**Versão:** 2.0\n**Data:** 21 de Dezembro de 2025"
      }
    },
    {
      "path": "docs\\queries\\validacao_ranking_rls.sql",
      "name": "validacao_ranking_rls.sql",
      "extension": ".sql",
      "size": 3690,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "docs\\QUICK_START.md",
      "name": "QUICK_START.md",
      "extension": ".md",
      "size": 2716,
      "category": "docs",
      "purpose": "Documentação: Guia Rápido de Inicialização - Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "Guia Rápido de Inicialização - Agent Solution BI",
        "sections": [
          "✅ Status Atual do Sistema",
          "🚀 Como Iniciar o Frontend",
          "🔐 Credenciais de Login",
          "📋 Checklist de Inicialização",
          "🔧 Comandos Úteis",
          "⚡ Próximo Passo",
          "💡 Dicas",
          "❓ Problemas Comuns"
        ],
        "preview": "# Guia Rápido de Inicialização - Agent Solution BI\n\n## ✅ Status Atual do Sistema\n\n### Backend (Porta 8000)"
      }
    },
    {
      "path": "docs\\README.md",
      "name": "README.md",
      "extension": ".md",
      "size": 8701,
      "category": "docs",
      "purpose": "Documentação: 🤖 Agent Solution BI",
      "details": {
        "type": "markdown",
        "title": "🤖 Agent Solution BI",
        "sections": [
          "🎯 O Que É?",
          "✨ Funcionalidades Principais",
          "🚀 Quick Start (5 minutos)",
          "🎨 3 Interfaces Disponíveis",
          "🏗️ Arquitetura",
          "📊 Exemplos de Uso",
          "🛠️ Tecnologias",
          "📚 Documentação",
          "🔧 Configuração",
          "🎯 Casos de Uso"
        ],
        "preview": "# 🤖 Agent Solution BI\n\n##Sistema de Business Intelligence com IA - Multi-Interface\n\n**3 Interfaces. 1 Backend. Infinitas Possibilidades.**"
      }
    },
    {
      "path": "docs\\regras_negocio_une.md",
      "name": "regras_negocio_une.md",
      "extension": ".md",
      "size": 4244,
      "category": "docs",
      "purpose": "Documentação: Regras de Negócio UNE (Unidade de Negócio)",
      "details": {
        "type": "markdown",
        "title": "Regras de Negócio UNE (Unidade de Negócio)",
        "sections": [
          "1. Glossário",
          "2. Cálculos e Métricas",
          "3. Classificação de Criticidade",
          "4. Regras de Transferência entre UNEs",
          "5. Implementação Técnica"
        ],
        "preview": "# Regras de Negócio UNE (Unidade de Negócio)\n\nEste documento detalha as regras de negócio implementadas no sistema Agent Solution BI, especificamente focadas nas operações de UNE (Unidade de Negócio), Abastecimento e Transferências.\n\n---"
      }
    },
    {
      "path": "docs\\RELATORIO_COMPARATIVO_CHATGPT_vs_CHATBI.md",
      "name": "RELATORIO_COMPARATIVO_CHATGPT_vs_CHATBI.md",
      "extension": ".md",
      "size": 15369,
      "category": "docs",
      "purpose": "Documentação: Relatório Comparativo: ChatGPT vs ChatBI",
      "details": {
        "type": "markdown",
        "title": "Relatório Comparativo: ChatGPT vs ChatBI",
        "sections": [
          "📊 Sumário Executivo",
          "🔍 Metodologia de Análise",
          "📋 Análise Comparativa Detalhada",
          "🚀 Implementações Realizadas",
          "📈 Métricas de Melhoria",
          "🎯 Funcionalidades Exclusivas do ChatBI",
          "⚠️ Gaps Remanescentes (Não-Críticos)",
          "🧪 Testes Realizados",
          "📊 Comparação de Arquitetura",
          "🎓 Insights e Aprendizados"
        ],
        "preview": "# Relatório Comparativo: ChatGPT vs ChatBI\n**Data:** 10 de Dezembro de 2025\n**Tempo de Análise e Implementação:** 20 minutos\n**Versão ChatBI:** 1.0 (Pós-melhorias)\n"
      }
    },
    {
      "path": "docs\\RELATORIO_FINAL_IMPLEMENTACAO.md",
      "name": "RELATORIO_FINAL_IMPLEMENTACAO.md",
      "extension": ".md",
      "size": 3148,
      "category": "docs",
      "purpose": "Documentação: 📊 SUMÁRIO EXECUTIVO: Agent BI Solution - Lojas Caçula",
      "details": {
        "type": "markdown",
        "title": "📊 SUMÁRIO EXECUTIVO: Agent BI Solution - Lojas Caçula",
        "sections": [
          "🚀 1. Visão Geral",
          "💡 2. Diferenciais Competitivos (O Valor da IA)",
          "⚡ 3. Engenharia de Alta Performance",
          "🔐 4. Governança e Segurança",
          "📈 5. Métricas de Impacto Estimadas",
          "🎯 6. Conclusão e Próximos Passos"
        ],
        "preview": "# 📊 SUMÁRIO EXECUTIVO: Agent BI Solution - Lojas Caçula\n\n**Data:** 19 de Dezembro de 2025\n**Objetivo:** Apresentação de Resultados e Capacidades Estratégicas à Diretoria\n"
      }
    },
    {
      "path": "docs\\RELATORIO_PERFORMANCE_CHAT_CONTEXT7.md",
      "name": "RELATORIO_PERFORMANCE_CHAT_CONTEXT7.md",
      "extension": ".md",
      "size": 3468,
      "category": "docs",
      "purpose": "Documentação: Relatório Context7: Análise de Performance do Chat",
      "details": {
        "type": "markdown",
        "title": "Relatório Context7: Análise de Performance do Chat",
        "sections": [
          "1. Sumário Executivo",
          "2. Diagnóstico Técnico",
          "3. Recomendações (Plano de Ação)",
          "4. Conclusão"
        ],
        "preview": "# Relatório Context7: Análise de Performance do Chat\n\nEste relatório apresenta uma análise técnica da latência percebida no ChatBI, seguindo a metodologia Context7 de diagnóstico e arquitetura.\n\n## 1. Sumário Executivo"
      }
    },
    {
      "path": "docs\\RELATORIO_VERIFICACAO.md",
      "name": "RELATORIO_VERIFICACAO.md",
      "extension": ".md",
      "size": 7150,
      "category": "docs",
      "purpose": "Documentação: 📊 Relatório de Verificação - Agent BI",
      "details": {
        "type": "markdown",
        "title": "📊 Relatório de Verificação - Agent BI",
        "sections": [
          "✅ Testes Realizados",
          "🔍 Diagnóstico da Tela Branca",
          "🛠️ Ferramentas de Diagnóstico Criadas",
          "📋 Checklist para Resolver Tela Branca",
          "🎯 Conclusão",
          "📞 Suporte Adicional"
        ],
        "preview": "# 📊 Relatório de Verificação - Agent BI\n\n**Data:** 2025-12-11\n**Objetivo:** Verificar se o sistema está abrindo corretamente e diagnosticar tela branca\n"
      }
    },
    {
      "path": "docs\\SISTEMA_LOGGING.md",
      "name": "SISTEMA_LOGGING.md",
      "extension": ".md",
      "size": 16058,
      "category": "docs",
      "purpose": "Documentação: Sistema de Logging - AgentBI",
      "details": {
        "type": "markdown",
        "title": "Sistema de Logging - AgentBI",
        "sections": [
          "📋 Índice",
          "Visão Geral",
          "Backend - Configuração",
          "Backend - Uso",
          "Frontend - Configuração",
          "Frontend - Uso",
          "Estrutura de Logs",
          "Visualização e Análise",
          "Boas Práticas",
          "Troubleshooting"
        ],
        "preview": "# Sistema de Logging - AgentBI\n\nSistema completo de logging para backend (FastAPI) e frontend (SolidJS) com integração entre ambos.\n\n## 📋 Índice"
      }
    },
    {
      "path": "docs\\SOLUCAO_FILTROS_ANALYTICS.md",
      "name": "SOLUCAO_FILTROS_ANALYTICS.md",
      "extension": ".md",
      "size": 10815,
      "category": "docs",
      "purpose": "Documentação: Solução: Filtros da Página Analytics",
      "details": {
        "type": "markdown",
        "title": "Solução: Filtros da Página Analytics",
        "sections": [
          "🎯 Problema Identificado",
          "✅ Solução Implementada",
          "📚 Melhores Práticas Aplicadas",
          "🧪 Como Testar",
          "🎨 Melhorias de UX Implementadas",
          "🔄 Fluxo Completo",
          "📦 Arquivos Modificados",
          "🚀 Próximos Passos (Opcionais)",
          "📖 Referências"
        ],
        "preview": "# Solução: Filtros da Página Analytics\n\n## 🎯 Problema Identificado\n\nA página Analytics Avançado apresentava filtros não funcionais devido a:"
      }
    },
    {
      "path": "docs\\sql-queries-top-vendas.md",
      "name": "sql-queries-top-vendas.md",
      "extension": ".md",
      "size": 5263,
      "category": "docs",
      "purpose": "Documentação: Consultas SQL - Top 10 Vendas por Categoria",
      "details": {
        "type": "markdown",
        "title": "Consultas SQL - Top 10 Vendas por Categoria",
        "sections": [
          "📊 Consulta 1: Top 10 Categorias por Valor Total",
          "📊 Consulta 2: Top 10 Produtos por Categoria",
          "📊 Consulta 3: Top 10 Produtos Globais",
          "📊 Consulta 4: Top 10 com Percentual do Total",
          "📊 Consulta 5: Top 10 por Período",
          "🔧 Adaptação para Parquet (Polars)",
          "💡 Dicas de Performance",
          "📝 Notas"
        ],
        "preview": "# Consultas SQL - Top 10 Vendas por Categoria\n\n## 📊 Consulta 1: Top 10 Categorias por Valor Total\n\n```sql"
      }
    },
    {
      "path": "docs\\troubleshooting\\AGENT_JSON_OUTPUT.md",
      "name": "AGENT_JSON_OUTPUT.md",
      "extension": ".md",
      "size": 2288,
      "category": "docs",
      "purpose": "Documentação: Troubleshooting: Agent Returning Raw JSON (Context7 Violation)",
      "details": {
        "type": "markdown",
        "title": "Troubleshooting: Agent Returning Raw JSON (Context7 Violation)",
        "sections": [
          "🚨 Problema Relatado",
          "🔍 Causa Raiz",
          "🛠️ Solução Aplicada (24/12/2025)",
          "✅ Validação"
        ],
        "preview": "# Troubleshooting: Agent Returning Raw JSON (Context7 Violation)\n\n## 🚨 Problema Relatado\nO Agente de BI (\"Caculinha\") estava retornando respostas em formato JSON bruto (ex: `{\"analise_executiva\": ...}`) diretamente na interface de chat, violando o padrão **Context7** que exige respostas narrativas e formatadas em Markdown (\"Storytelling\").\n"
      }
    },
    {
      "path": "docs\\troubleshooting\\GUIA_RAPIDO.md",
      "name": "GUIA_RAPIDO.md",
      "extension": ".md",
      "size": 1607,
      "category": "docs",
      "purpose": "Documentação: 🔧 GUIA RÁPIDO DE RECUPERAÇÃO",
      "details": {
        "type": "markdown",
        "title": "🔧 GUIA RÁPIDO DE RECUPERAÇÃO",
        "sections": [
          "⚠️ PROBLEMA ATUAL",
          "✅ CAUSA & SOLUÇÃO",
          "🚀 3 PASSOS PARA RESOLVER",
          "🎯 APÓS RESOLVER",
          "📋 CHECKLIST",
          "❓ DÚVIDAS?"
        ],
        "preview": "# 🔧 GUIA RÁPIDO DE RECUPERAÇÃO\n\n## ⚠️ PROBLEMA ATUAL\n\nSistema está crashando ao abrir com erro:"
      }
    },
    {
      "path": "docs\\troubleshooting\\SOLUCAO_ERRO_LOGIN.txt",
      "name": "SOLUCAO_ERRO_LOGIN.txt",
      "extension": ".txt",
      "size": 3390,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "docs\\troubleshooting\\SOLUCAO_NODE_JS.md",
      "name": "SOLUCAO_NODE_JS.md",
      "extension": ".md",
      "size": 2957,
      "category": "docs",
      "purpose": "Documentação: 🚀 SOLUCIONANDO ERRO DE NODE.JS",
      "details": {
        "type": "markdown",
        "title": "🚀 SOLUCIONANDO ERRO DE NODE.JS",
        "sections": [
          "❌ Erro Encontrado",
          "🤔 O Que Significa?",
          "💡 ESCOLHA UMA OPÇÃO",
          "🎯 RECOMENDAÇÃO",
          "🔧 Verificação Rápida (Sem Instalar Nada)",
          "❓ Dúvidas?",
          "📋 Resumo das Ações",
          "🚀 Próximos Passos"
        ],
        "preview": "# 🚀 SOLUCIONANDO ERRO DE NODE.JS\n\n## ❌ Erro Encontrado\n```\n[ERROR] Node.js não encontrado!"
      }
    },
    {
      "path": "FIX_MAX_TURNS_2025-12-28.md",
      "name": "FIX_MAX_TURNS_2025-12-28.md",
      "extension": ".md",
      "size": 5414,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Correção Definitiva: \"Maximum conversation turns exceeded\"",
      "details": {
        "type": "markdown",
        "title": "Correção Definitiva: \"Maximum conversation turns exceeded\"",
        "sections": [
          "Causa Raiz Identificada",
          "Solução Aplicada",
          "Status da Correção",
          "Como Testar",
          "Arquivos Alterados",
          "Validação Técnica",
          "Outras Correções Anteriores (Já Aplicadas)",
          "Próximos Passos para Produção",
          "Contato"
        ],
        "preview": "# Correção Definitiva: \"Maximum conversation turns exceeded\"\n\n**Data:** 2025-12-28\n**Problema:** Query \"analise o grupo oxford na une 135\" (e queries similares de análise) resultavam em erro \"Maximum conversation turns exceeded\" após 20 tentativas do agente.\n"
      }
    },
    {
      "path": "frontend-solid\\DASHBOARDS_INTERATIVOS_IMPLEMENTACAO.md",
      "name": "DASHBOARDS_INTERATIVOS_IMPLEMENTACAO.md",
      "extension": ".md",
      "size": 10277,
      "category": "docs",
      "purpose": "Documentação: 🎯 Dashboards Interativos - Implementação Completa",
      "details": {
        "type": "markdown",
        "title": "🎯 Dashboards Interativos - Implementação Completa",
        "sections": [
          "✅ Implementado com Sucesso",
          "🚀 Novos Recursos Implementados",
          "📈 Páginas Atualizadas",
          "🎨 Recursos de Interatividade",
          "📥 Funcionalidades de Download",
          "🎯 Gráficos por Página - Resumo",
          "💡 Principais Benefícios",
          "🔧 Detalhes Técnicos",
          "📝 Como Usar",
          "🚀 Próximos Passos (Sugestões)"
        ],
        "preview": "# 🎯 Dashboards Interativos - Implementação Completa\n\n## ✅ Implementado com Sucesso\n\nData: 2025-12-07"
      }
    },
    {
      "path": "frontend-solid\\eslint.config.mjs",
      "name": "eslint.config.mjs",
      "extension": ".mjs",
      "size": 318,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\index.html",
      "name": "index.html",
      "extension": ".html",
      "size": 317,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\INTEGRATION_TESTS.md",
      "name": "INTEGRATION_TESTS.md",
      "extension": ".md",
      "size": 3408,
      "category": "docs",
      "purpose": "Documentação: Plano de Testes de Integração - Aplicação SolidJS",
      "details": {
        "type": "markdown",
        "title": "Plano de Testes de Integração - Aplicação SolidJS",
        "sections": [
          "🎯 Objetivo",
          "📋 Checklist de Testes",
          "🚀 Comandos de Teste",
          "✅ Critérios de Sucesso",
          "📝 Registro de Testes",
          "🐛 Bugs Encontrados",
          "📊 Resultado Final"
        ],
        "preview": "# Plano de Testes de Integração - Aplicação SolidJS\n\n## 🎯 Objetivo\nValidar integração completa entre backend FastAPI e frontend SolidJS após migração 100%.\n"
      }
    },
    {
      "path": "frontend-solid\\package-lock.json",
      "name": "package-lock.json",
      "extension": ".json",
      "size": 73041,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "name",
          "version",
          "lockfileVersion",
          "requires",
          "packages"
        ]
      }
    },
    {
      "path": "frontend-solid\\package.json",
      "name": "package.json",
      "extension": ".json",
      "size": 1489,
      "category": "config",
      "purpose": "Configuração de dependências Node.js",
      "details": {}
    },
    {
      "path": "frontend-solid\\pnpm-lock.yaml",
      "name": "pnpm-lock.yaml",
      "extension": ".yaml",
      "size": 152449,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\postcss.config.js",
      "name": "postcss.config.js",
      "extension": ".js",
      "size": 86,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\postcss.config.mjs",
      "name": "postcss.config.mjs",
      "extension": ".mjs",
      "size": 75,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\public\\banner-cacula.png",
      "name": "banner-cacula.png",
      "extension": ".png",
      "size": 8706,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\public\\clear-cache.html",
      "name": "clear-cache.html",
      "extension": ".html",
      "size": 7700,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\public\\clear-session.html",
      "name": "clear-session.html",
      "extension": ".html",
      "size": 4178,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\public\\diagnostico.html",
      "name": "diagnostico.html",
      "extension": ".html",
      "size": 11993,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\public\\logo-cacula.svg",
      "name": "logo-cacula.svg",
      "extension": ".svg",
      "size": 14716,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\src\\__tests__\\App.test.tsx",
      "name": "App.test.tsx",
      "extension": ".tsx",
      "size": 808,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/testing-library",
          "vitest",
          "@solidjs/router",
          "../pages/Login",
          "../pages/Dashboard",
          "../pages/Chat"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\__tests__\\ErrorBoundary.test.tsx",
      "name": "ErrorBoundary.test.tsx",
      "extension": ".tsx",
      "size": 816,
      "category": "source_javascript",
      "purpose": "Componentes React/Solid: ThrowError",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/testing-library",
          "vitest",
          "../components/ErrorBoundary"
        ],
        "exports": [],
        "components": [
          "ThrowError"
        ],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\__tests__\\Layout.test.tsx",
      "name": "Layout.test.tsx",
      "extension": ".tsx",
      "size": 841,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/testing-library",
          "vitest",
          "@solidjs/router",
          "../Layout"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\__tests__\\Chat.test.tsx",
      "name": "Chat.test.tsx",
      "extension": ".tsx",
      "size": 9278,
      "category": "source_javascript",
      "purpose": "Componente: Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-testing-library",
          "solid-js",
          "vitest",
          "../../pages/Chat",
          "@/store/auth"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\AIInsightsPanel.tsx",
      "name": "AIInsightsPanel.tsx",
      "extension": ".tsx",
      "size": 8242,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: getCategoryIcon, getCategoryColor, getSeverityBadge",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "@/store/auth"
        ],
        "exports": [
          "AIInsightsPanel"
        ],
        "components": [
          "getCategoryIcon",
          "getCategoryColor",
          "getSeverityBadge"
        ],
        "functions": [
          "AIInsightsPanel"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\ChartDownloadButton.tsx",
      "name": "ChartDownloadButton.tsx",
      "extension": ".tsx",
      "size": 3463,
      "category": "source_javascript",
      "purpose": "Componente: Exporta: ChartDownloadButton, MultiFormatDownload",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "plotly.js-dist-min"
        ],
        "exports": [
          "ChartDownloadButton",
          "MultiFormatDownload"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\DataTable.tsx",
      "name": "DataTable.tsx",
      "extension": ".tsx",
      "size": 4698,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: DataTable, tableData, headers",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "DataTable"
        ],
        "components": [
          "DataTable",
          "tableData",
          "headers",
          "paginatedData",
          "totalPages",
          "goToPage",
          "canGoPrev",
          "canGoNext"
        ],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\DownloadButton.tsx",
      "name": "DownloadButton.tsx",
      "extension": ".tsx",
      "size": 1316,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: handleDownload",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "DownloadButton"
        ],
        "components": [
          "handleDownload"
        ],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\ErrorBoundary.tsx",
      "name": "ErrorBoundary.tsx",
      "extension": ".tsx",
      "size": 1409,
      "category": "source_javascript",
      "purpose": "Componente: Exporta: ErrorBoundary",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "ErrorBoundary"
        ],
        "components": [],
        "functions": [
          "ErrorBoundary"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\ExportMenu.tsx",
      "name": "ExportMenu.tsx",
      "extension": ".tsx",
      "size": 4276,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: downloadFile, exportAsJSON, exportAsMarkdown",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid"
        ],
        "exports": [
          "ExportMenu"
        ],
        "components": [
          "downloadFile",
          "exportAsJSON",
          "exportAsMarkdown",
          "exportAsText"
        ],
        "functions": [
          "ExportMenu"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\FeedbackButtons.tsx",
      "name": "FeedbackButtons.tsx",
      "extension": ".tsx",
      "size": 1202,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: handleFeedbackClick",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "FeedbackButtons"
        ],
        "components": [
          "handleFeedbackClick"
        ],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "size": 370,
      "category": "source_javascript",
      "purpose": "Componente: * Components Index\n * Central export for all reusable components",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": "* Components Index\n * Central export for all reusable components"
      }
    },
    {
      "path": "frontend-solid\\src\\components\\Logo.tsx",
      "name": "Logo.tsx",
      "extension": ".tsx",
      "size": 686,
      "category": "source_javascript",
      "purpose": "Componente: Exporta: Logo",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "Logo"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\MessageActions.tsx",
      "name": "MessageActions.tsx",
      "extension": ".tsx",
      "size": 1540,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: copyToClipboard",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid"
        ],
        "exports": [
          "MessageActions"
        ],
        "components": [
          "copyToClipboard"
        ],
        "functions": [
          "MessageActions"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\PlotlyChart.tsx",
      "name": "PlotlyChart.tsx",
      "extension": ".tsx",
      "size": 5654,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: PlotlyChart, toggleExpand, handleEsc",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "plotly.js-dist-min",
          "lucide-solid"
        ],
        "exports": [
          "PlotlyChart"
        ],
        "components": [
          "PlotlyChart",
          "toggleExpand",
          "handleEsc",
          "renderPlot"
        ],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\ShareButton.tsx",
      "name": "ShareButton.tsx",
      "extension": ".tsx",
      "size": 6227,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: openModal, closeModal",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "@/store/auth"
        ],
        "exports": [
          "ShareButton"
        ],
        "components": [
          "openModal",
          "closeModal"
        ],
        "functions": [
          "ShareButton"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\Typewriter.tsx",
      "name": "Typewriter.tsx",
      "extension": ".tsx",
      "size": 3485,
      "category": "source_javascript",
      "purpose": "Componente: * Componente Typewriter - Efeito de digitação ChatGPT-like\n *\n * Renderiza texto com efeito de digitação suave, caractere por caractere.\n * Perfeito para respostas de chat/IA que chegam via streaming.",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "Typewriter",
          "createTypewriter"
        ],
        "components": [],
        "functions": [
          "Typewriter",
          "createTypewriter"
        ],
        "description": "* Componente Typewriter - Efeito de digitação ChatGPT-like\n *\n * Renderiza texto com efeito de digitação suave, caractere por caractere.\n * Perfeito para respostas de chat/IA que chegam via streaming.\n *\n * @example\n * ```tsx\n * <Typewriter\n *   text={message.text}\n *   speed={15}\n *   onComplete={() => console.log('Digitação concluída!')}\n * />\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\components\\TypingIndicator.css",
      "name": "TypingIndicator.css",
      "extension": ".css",
      "size": 681,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\src\\components\\TypingIndicator.tsx",
      "name": "TypingIndicator.tsx",
      "extension": ".tsx",
      "size": 294,
      "category": "source_javascript",
      "purpose": "Componente: Exporta: TypingIndicator",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "TypingIndicator"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\components\\UserPreferences.tsx",
      "name": "UserPreferences.tsx",
      "extension": ".tsx",
      "size": 4378,
      "category": "source_javascript",
      "purpose": "Componente: Componentes React/Solid: updatePreference",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@/store/auth"
        ],
        "exports": [
          "UserPreferences"
        ],
        "components": [
          "updatePreference"
        ],
        "functions": [
          "UserPreferences"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\examples\\ComponentsDemo.tsx",
      "name": "ComponentsDemo.tsx",
      "extension": ".tsx",
      "size": 6825,
      "category": "source_javascript",
      "purpose": "* Demo page for migrated UI components\n * Showcases Skeleton, Badge, and Button components",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "./migrated-components/components/ui"
        ],
        "exports": [
          "ComponentsDemo"
        ],
        "components": [],
        "functions": [
          "ComponentsDemo"
        ],
        "description": "* Demo page for migrated UI components\n * Showcases Skeleton, Badge, and Button components"
      }
    },
    {
      "path": "frontend-solid\\src\\examples\\MinimalLogin.tsx",
      "name": "MinimalLogin.tsx",
      "extension": ".tsx",
      "size": 853,
      "category": "source_javascript",
      "purpose": "Exporta: MinimalLogin",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "MinimalLogin"
        ],
        "components": [],
        "functions": [
          "MinimalLogin"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\examples\\README.md",
      "name": "README.md",
      "extension": ".md",
      "size": 1594,
      "category": "docs",
      "purpose": "Documentação: Exemplos e Demonstrações",
      "details": {
        "type": "markdown",
        "title": "Exemplos e Demonstrações",
        "sections": [
          "📁 Arquivos",
          "🎯 Propósito",
          "⚠️ Nota",
          "🚀 Como Usar"
        ],
        "preview": "# Exemplos e Demonstrações\n\nEsta pasta contém páginas de exemplo e demonstração criadas durante a migração para SolidJS.\n\n## 📁 Arquivos"
      }
    },
    {
      "path": "frontend-solid\\src\\examples\\SkeletonDemo.tsx",
      "name": "SkeletonDemo.tsx",
      "extension": ".tsx",
      "size": 3092,
      "category": "source_javascript",
      "purpose": "* Demo page for Skeleton component\n * Tests visual rendering and different use cases",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "./migrated-components/components/ui/Skeleton"
        ],
        "exports": [
          "SkeletonDemo"
        ],
        "components": [],
        "functions": [
          "SkeletonDemo"
        ],
        "description": "* Demo page for Skeleton component\n * Tests visual rendering and different use cases"
      }
    },
    {
      "path": "frontend-solid\\src\\hooks\\useAdmin.ts",
      "name": "useAdmin.ts",
      "extension": ".ts",
      "size": 2971,
      "category": "source_javascript",
      "purpose": "* useAdmin Hook - SolidJS\n * Hook para gerenciar operações administrativas",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@tanstack/solid-query",
          "@/services/admin.service",
          "@/migrated-components/components/ui/Sonner",
          "@/types/admin"
        ],
        "exports": [
          "useAdmin"
        ],
        "components": [],
        "functions": [
          "useAdmin"
        ],
        "description": "* useAdmin Hook - SolidJS\n * Hook para gerenciar operações administrativas"
      }
    },
    {
      "path": "frontend-solid\\src\\hooks\\useAnalytics.ts",
      "name": "useAnalytics.ts",
      "extension": ".ts",
      "size": 2223,
      "category": "source_javascript",
      "purpose": "* useAnalytics Hook - SolidJS\n * Hook customizado para gerenciar estado e operações de analytics",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@tanstack/solid-query",
          "@/services/analytics.service",
          "@/migrated-components/components/ui/Sonner",
          "@/types/analytics"
        ],
        "exports": [
          "useAnalytics"
        ],
        "components": [],
        "functions": [
          "useAnalytics"
        ],
        "description": "* useAnalytics Hook - SolidJS\n * Hook customizado para gerenciar estado e operações de analytics"
      }
    },
    {
      "path": "frontend-solid\\src\\hooks\\useMediaQuery.ts",
      "name": "useMediaQuery.ts",
      "extension": ".ts",
      "size": 970,
      "category": "source_javascript",
      "purpose": "* useMediaQuery Hook - SolidJS\n * Hook para detectar breakpoints responsivos",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [
          "useMediaQuery",
          "useIsMobile",
          "useIsTablet",
          "useIsDesktop"
        ],
        "components": [
          "listener",
          "useIsMobile",
          "useIsTablet",
          "useIsDesktop"
        ],
        "functions": [
          "useMediaQuery"
        ],
        "description": "* useMediaQuery Hook - SolidJS\n * Hook para detectar breakpoints responsivos"
      }
    },
    {
      "path": "frontend-solid\\src\\hooks\\useReports.ts",
      "name": "useReports.ts",
      "extension": ".ts",
      "size": 2892,
      "category": "source_javascript",
      "purpose": "* useReports Hook - SolidJS\n * Hook para gerenciar estado e operações de relatórios",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@tanstack/solid-query",
          "@/services/reports.service",
          "@/migrated-components/components/ui/Sonner",
          "@solidjs/router",
          "@/types/reports"
        ],
        "exports": [
          "useReports",
          "useReport"
        ],
        "components": [],
        "functions": [
          "useReports",
          "useReport"
        ],
        "description": "* useReports Hook - SolidJS\n * Hook para gerenciar estado e operações de relatórios"
      }
    },
    {
      "path": "frontend-solid\\src\\index.css",
      "name": "index.css",
      "extension": ".css",
      "size": 8076,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\src\\index.tsx",
      "name": "index.tsx",
      "extension": ".tsx",
      "size": 5959,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js/web",
          "@solidjs/router",
          "solid-js",
          "@tanstack/solid-query",
          "./Layout",
          "./pages/Login",
          "./pages/Dashboard",
          "./pages/Chat",
          "./pages/Analytics",
          "./pages/Reports",
          "./pages/Learning",
          "./pages/Playground",
          "./pages/Profile",
          "./pages/Admin",
          "./pages/Rupturas",
          "./pages/Transfers",
          "./pages/Diagnostics",
          "./pages/Examples",
          "./pages/Help",
          "./pages/SharedConversation",
          "./pages/CodeChat",
          "./pages/About",
          "./store/auth"
        ],
        "exports": [],
        "components": [],
        "functions": [
          "PrivateRoute",
          "RoleRoute",
          "App"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\index.tsx.backup",
      "name": "index.tsx.backup",
      "extension": ".backup",
      "size": 5755,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\src\\index_minimal_test.tsx",
      "name": "index_minimal_test.tsx",
      "extension": ".tsx",
      "size": 401,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\Layout.tsx",
      "name": "Layout.tsx",
      "extension": ".tsx",
      "size": 5727,
      "category": "source_javascript",
      "purpose": "Componentes React/Solid: userRole, NavItem",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/router",
          "@/store/auth",
          "solid-js",
          "./components/ErrorBoundary",
          "@/components"
        ],
        "exports": [
          "Layout"
        ],
        "components": [
          "userRole",
          "NavItem"
        ],
        "functions": [
          "Layout"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\lib\\api\\client.ts",
      "name": "client.ts",
      "extension": ".ts",
      "size": 1923,
      "category": "source_javascript",
      "purpose": "Exporta: apiClient",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "axios",
          "@/store/auth.store"
        ],
        "exports": [
          "apiClient"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\lib\\api.ts",
      "name": "api.ts",
      "extension": ".ts",
      "size": 6872,
      "category": "source_javascript",
      "purpose": "Exporta: KpiMetrics, ErrorTrendItem, TopQueryItem",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "axios"
        ],
        "exports": [
          "KpiMetrics",
          "ErrorTrendItem",
          "TopQueryItem",
          "Report",
          "LearningResponse",
          "TransferValidationPayload",
          "TransferValidationResponse",
          "TransferSuggestion",
          "TransferRequestPayload",
          "TransferReportQuery",
          "Transfer",
          "Ruptura",
          "RupturasSummary",
          "ABCDetailItem",
          "analyticsApi",
          "reportsApi",
          "UserData",
          "CreateUserPayload",
          "UpdateUserPayload",
          "adminApi",
          "learningApi",
          "transfersApi",
          "rupturasApi"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\lib\\export.ts",
      "name": "export.ts",
      "extension": ".ts",
      "size": 926,
      "category": "source_javascript",
      "purpose": "* Exports an array of objects to a CSV file.\n * @param data The array of objects to export.\n * @param filename The name of the CSV file.",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "date-fns",
          "date-fns/locale"
        ],
        "exports": [
          "exportToCsv"
        ],
        "components": [
          "exportToCsv"
        ],
        "functions": [],
        "description": "* Exports an array of objects to a CSV file.\n * @param data The array of objects to export.\n * @param filename The name of the CSV file."
      }
    },
    {
      "path": "frontend-solid\\src\\lib\\formatters.ts",
      "name": "formatters.ts",
      "extension": ".ts",
      "size": 688,
      "category": "source_javascript",
      "purpose": "Exporta: formatTimestamp, formatCurrency, formatNumber",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "formatTimestamp",
          "formatCurrency",
          "formatNumber",
          "formatDate"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\lib\\supabase.ts",
      "name": "supabase.ts",
      "extension": ".ts",
      "size": 485,
      "category": "source_javascript",
      "purpose": "* Supabase Client Configuration for Frontend",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@supabase/supabase-js"
        ],
        "exports": [
          "supabase"
        ],
        "components": [],
        "functions": [],
        "description": "* Supabase Client Configuration for Frontend"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Alert.tsx",
      "name": "Alert.tsx",
      "extension": ".tsx",
      "size": 2004,
      "category": "source_javascript",
      "purpose": "Componente: * Alert component - notification container\n * Migrated from React to SolidJS",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "class-variance-authority",
          "../../utils/cn"
        ],
        "exports": [
          "Alert",
          "AlertTitle",
          "AlertDescription"
        ],
        "components": [],
        "functions": [],
        "description": "* Alert component - notification container\n * Migrated from React to SolidJS"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Avatar.tsx",
      "name": "Avatar.tsx",
      "extension": ".tsx",
      "size": 1317,
      "category": "source_javascript",
      "purpose": "Componente: * Avatar component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Avatar",
          "AvatarImage",
          "AvatarFallback"
        ],
        "components": [],
        "functions": [
          "AvatarImage"
        ],
        "description": "* Avatar component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Badge.test.tsx",
      "name": "Badge.test.tsx",
      "extension": ".tsx",
      "size": 1986,
      "category": "source_javascript",
      "purpose": "Componente: Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/testing-library",
          "vitest",
          "./Badge"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Badge.tsx",
      "name": "Badge.tsx",
      "extension": ".tsx",
      "size": 1933,
      "category": "source_javascript",
      "purpose": "Componente: * Badge component for status indicators and labels\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Badge variant=\"default\">New</Badge>\n * <Badge variant=\"destructive\">Error</Badge>\n * ",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "class-variance-authority",
          "../../utils/cn"
        ],
        "exports": [
          "Badge"
        ],
        "components": [],
        "functions": [],
        "description": "* Badge component for status indicators and labels\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Badge variant=\"default\">New</Badge>\n * <Badge variant=\"destructive\">Error</Badge>\n * <Badge variant=\"outline\">Draft</Badge>\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Button.test.tsx",
      "name": "Button.test.tsx",
      "extension": ".tsx",
      "size": 2734,
      "category": "source_javascript",
      "purpose": "Componente: Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/testing-library",
          "vitest",
          "./Button"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Button.tsx",
      "name": "Button.tsx",
      "extension": ".tsx",
      "size": 2494,
      "category": "source_javascript",
      "purpose": "Componente: * Button component with multiple variants and sizes\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Button variant=\"default\">Click me</Button>\n * <Button variant=\"destructive\" size=\"sm",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "class-variance-authority",
          "../../utils/cn"
        ],
        "exports": [
          "Button"
        ],
        "components": [],
        "functions": [],
        "description": "* Button component with multiple variants and sizes\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Button variant=\"default\">Click me</Button>\n * <Button variant=\"destructive\" size=\"sm\">Delete</Button>\n * <Button variant=\"outline\" size=\"lg\">Cancel</Button>\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Card.tsx",
      "name": "Card.tsx",
      "extension": ".tsx",
      "size": 2617,
      "category": "source_javascript",
      "purpose": "Componente: * Card component - main container",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Card",
          "CardHeader",
          "CardTitle",
          "CardDescription",
          "CardAction",
          "CardContent",
          "CardFooter"
        ],
        "components": [],
        "functions": [],
        "description": "* Card component - main container"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Dialog.tsx",
      "name": "Dialog.tsx",
      "extension": ".tsx",
      "size": 2367,
      "category": "source_javascript",
      "purpose": "Componente: * Dialog component - modal dialog\n * Migrated from React to SolidJS (Radix UI removed, native implementation)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "solid-js/web",
          "../../utils/cn"
        ],
        "exports": [
          "Dialog",
          "DialogContent",
          "DialogHeader",
          "DialogTitle",
          "DialogDescription"
        ],
        "components": [
          "open",
          "setOpen"
        ],
        "functions": [],
        "description": "* Dialog component - modal dialog\n * Migrated from React to SolidJS (Radix UI removed, native implementation)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\DropdownMenu.tsx",
      "name": "DropdownMenu.tsx",
      "extension": ".tsx",
      "size": 1892,
      "category": "source_javascript",
      "purpose": "Componente: * DropdownMenu component - dropdown menu\n * Migrated from React to SolidJS (simplified native implementation)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "solid-js/web",
          "../../utils/cn"
        ],
        "exports": [
          "DropdownMenu",
          "DropdownMenuTrigger",
          "DropdownMenuContent",
          "DropdownMenuItem"
        ],
        "components": [
          "open",
          "setOpen"
        ],
        "functions": [],
        "description": "* DropdownMenu component - dropdown menu\n * Migrated from React to SolidJS (simplified native implementation)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "size": 1374,
      "category": "source_javascript",
      "purpose": "Componente: * UI Components - Migrated from React to SolidJS\n * \n * This barrel file exports all UI components for easy importing\n * \n * Total: 18 components migrated (100%)",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": "* UI Components - Migrated from React to SolidJS\n * \n * This barrel file exports all UI components for easy importing\n * \n * Total: 18 components migrated (100%)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Input.tsx",
      "name": "Input.tsx",
      "extension": ".tsx",
      "size": 1251,
      "category": "source_javascript",
      "purpose": "Componente: * Input component for form fields\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Input type=\"text\" placeholder=\"Enter text...\" />\n * <Input type=\"email\" />\n * ```",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Input"
        ],
        "components": [],
        "functions": [
          "Input"
        ],
        "description": "* Input component for form fields\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Input type=\"text\" placeholder=\"Enter text...\" />\n * <Input type=\"email\" />\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Label.tsx",
      "name": "Label.tsx",
      "extension": ".tsx",
      "size": 852,
      "category": "source_javascript",
      "purpose": "Componente: * Label component for form fields\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Label for=\"email\">Email</Label>\n * ```",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Label"
        ],
        "components": [],
        "functions": [],
        "description": "* Label component for form fields\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Label for=\"email\">Email</Label>\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\LazyImage.tsx",
      "name": "LazyImage.tsx",
      "extension": ".tsx",
      "size": 1253,
      "category": "source_javascript",
      "purpose": "Componente: * LazyImage component - optimized image loading\n * Migrated from React to SolidJS (Next.js Image removed, native img)\n * \n * @example\n * ```tsx\n * <LazyImage src=\"/image.jpg\" alt=\"Description\" />\n * `",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "LazyImage"
        ],
        "components": [
          "fallbackSrc",
          "imageSrc"
        ],
        "functions": [
          "LazyImage"
        ],
        "description": "* LazyImage component - optimized image loading\n * Migrated from React to SolidJS (Next.js Image removed, native img)\n * \n * @example\n * ```tsx\n * <LazyImage src=\"/image.jpg\" alt=\"Description\" />\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Select.tsx",
      "name": "Select.tsx",
      "extension": ".tsx",
      "size": 960,
      "category": "source_javascript",
      "purpose": "Componente: * Select component - native select dropdown\n * Migrated from React to SolidJS (simplified, native select)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Select",
          "SelectOption"
        ],
        "components": [],
        "functions": [
          "Select",
          "SelectOption"
        ],
        "description": "* Select component - native select dropdown\n * Migrated from React to SolidJS (simplified, native select)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Separator.tsx",
      "name": "Separator.tsx",
      "extension": ".tsx",
      "size": 1051,
      "category": "source_javascript",
      "purpose": "Componente: * Separator component for visual division\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Separator />\n * <Separator orientation=\"vertical\" />",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Separator"
        ],
        "components": [
          "orientation",
          "decorative"
        ],
        "functions": [
          "Separator"
        ],
        "description": "* Separator component for visual division\n * Migrated from React to SolidJS (Radix UI removed, native implementation)\n * \n * @example\n * ```tsx\n * <Separator />\n * <Separator orientation=\"vertical\" />\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Sheet.tsx",
      "name": "Sheet.tsx",
      "extension": ".tsx",
      "size": 2194,
      "category": "source_javascript",
      "purpose": "Componente: * Sheet component - side panel/drawer\n * Migrated from React to SolidJS (Radix UI removed, native implementation)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "solid-js/web",
          "../../utils/cn"
        ],
        "exports": [
          "Sheet",
          "SheetHeader",
          "SheetTitle"
        ],
        "components": [
          "side",
          "open",
          "setOpen",
          "sideClasses"
        ],
        "functions": [],
        "description": "* Sheet component - side panel/drawer\n * Migrated from React to SolidJS (Radix UI removed, native implementation)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Skeleton.test.tsx",
      "name": "Skeleton.test.tsx",
      "extension": ".tsx",
      "size": 1611,
      "category": "source_javascript",
      "purpose": "Componente: Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@solidjs/testing-library",
          "vitest",
          "./Skeleton"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Skeleton.tsx",
      "name": "Skeleton.tsx",
      "extension": ".tsx",
      "size": 516,
      "category": "source_javascript",
      "purpose": "Componente: * Skeleton component for loading states\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Skeleton class=\"w-full h-20\" />\n * ```",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Skeleton"
        ],
        "components": [],
        "functions": [
          "Skeleton"
        ],
        "description": "* Skeleton component for loading states\n * Migrated from React to SolidJS\n * \n * @example\n * ```tsx\n * <Skeleton class=\"w-full h-20\" />\n * ```"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\SkipLink.tsx",
      "name": "SkipLink.tsx",
      "extension": ".tsx",
      "size": 548,
      "category": "source_javascript",
      "purpose": "Componente: * SkipLink Component\n * Link de pular navegação para acessibilidade\n * Migrated from React to SolidJS (Next.js Link removed, native anchor)",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "SkipLink"
        ],
        "components": [],
        "functions": [
          "SkipLink"
        ],
        "description": "* SkipLink Component\n * Link de pular navegação para acessibilidade\n * Migrated from React to SolidJS (Next.js Link removed, native anchor)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Sonner.tsx",
      "name": "Sonner.tsx",
      "extension": ".tsx",
      "size": 2004,
      "category": "source_javascript",
      "purpose": "Componente: * Toast notification system (Sonner alternative)\n * Migrated from React to SolidJS (native implementation)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "solid-js/web",
          "../../utils/cn"
        ],
        "exports": [
          "toast",
          "Toaster"
        ],
        "components": [
          "getToastClasses"
        ],
        "functions": [
          "toast",
          "Toaster"
        ],
        "description": "* Toast notification system (Sonner alternative)\n * Migrated from React to SolidJS (native implementation)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Table.tsx",
      "name": "Table.tsx",
      "extension": ".tsx",
      "size": 3418,
      "category": "source_javascript",
      "purpose": "Componente: * Table component - table container with scroll\n * Migrated from React to SolidJS",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Table",
          "TableHeader",
          "TableBody",
          "TableFooter",
          "TableRow",
          "TableHead",
          "TableCell",
          "TableCaption"
        ],
        "components": [],
        "functions": [],
        "description": "* Table component - table container with scroll\n * Migrated from React to SolidJS"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\components\\ui\\Tabs.tsx",
      "name": "Tabs.tsx",
      "extension": ".tsx",
      "size": 3929,
      "category": "source_javascript",
      "purpose": "Componente: * Tabs component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation with createSignal)",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "../../utils/cn"
        ],
        "exports": [
          "Tabs",
          "TabsList",
          "TabsTrigger",
          "TabsContent"
        ],
        "components": [
          "value",
          "setValue",
          "isActive",
          "isActive"
        ],
        "functions": [
          "TabsTrigger"
        ],
        "description": "* Tabs component - container\n * Migrated from React to SolidJS (Radix UI removed, native implementation with createSignal)"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\globals.css",
      "name": "globals.css",
      "extension": ".css",
      "size": 2055,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\README.md",
      "name": "README.md",
      "extension": ".md",
      "size": 3665,
      "category": "docs",
      "purpose": "Documentação: Componentes UI Migrados - React → SolidJS",
      "details": {
        "type": "markdown",
        "title": "Componentes UI Migrados - React → SolidJS",
        "sections": [
          "✅ Status da Migração: 100% COMPLETO",
          "📁 Estrutura",
          "🎯 Componentes Migrados (18)",
          "🚀 Como Usar",
          "🔑 Características Técnicas",
          "📊 Estatísticas",
          "🎓 Decisões Técnicas",
          "📝 Próximos Passos"
        ],
        "preview": "# Componentes UI Migrados - React → SolidJS\n\n## ✅ Status da Migração: 100% COMPLETO\n\n**18/18 componentes UI migrados com sucesso!**"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\USAGE_GUIDE.md",
      "name": "USAGE_GUIDE.md",
      "extension": ".md",
      "size": 4225,
      "category": "docs",
      "purpose": "Documentação: Guia de Uso - Componentes UI Migrados para SolidJS",
      "details": {
        "type": "markdown",
        "title": "Guia de Uso - Componentes UI Migrados para SolidJS",
        "sections": [
          "📚 Componentes Disponíveis",
          "🚀 Como Usar",
          "🎨 Componentes por Categoria",
          "⚙️ Características Técnicas",
          "📝 Notas Importantes",
          "🔗 Próximos Passos"
        ],
        "preview": "# Guia de Uso - Componentes UI Migrados para SolidJS\n\n## 📚 Componentes Disponíveis\n\nTodos os 18 componentes UI foram migrados do React para SolidJS e estão disponíveis para uso."
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\utils\\a11y.ts",
      "name": "a11y.ts",
      "extension": ".ts",
      "size": 2083,
      "category": "source_javascript",
      "purpose": "Componente: * Accessibility Utilities for SolidJS\n * Funções utilitárias para acessibilidade",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "generateAriaId",
          "announceToScreenReader",
          "isVisibleToScreenReader",
          "trapFocus"
        ],
        "components": [
          "handleTabKey"
        ],
        "functions": [
          "generateAriaId",
          "announceToScreenReader",
          "isVisibleToScreenReader",
          "trapFocus"
        ],
        "description": "* Accessibility Utilities for SolidJS\n * Funções utilitárias para acessibilidade"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\utils\\cn.ts",
      "name": "cn.ts",
      "extension": ".ts",
      "size": 276,
      "category": "source_javascript",
      "purpose": "Componente: * Combina classes CSS com suporte a Tailwind\n * Útil para mesclar classes condicionais",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "clsx",
          "tailwind-merge"
        ],
        "exports": [
          "cn"
        ],
        "components": [],
        "functions": [
          "cn"
        ],
        "description": "* Combina classes CSS com suporte a Tailwind\n * Útil para mesclar classes condicionais"
      }
    },
    {
      "path": "frontend-solid\\src\\migrated-components\\utils\\README.md",
      "name": "README.md",
      "extension": ".md",
      "size": 1161,
      "category": "docs",
      "purpose": "Documentação: Utilitários Migrados",
      "details": {
        "type": "markdown",
        "title": "Utilitários Migrados",
        "sections": [
          "Arquivos",
          "Compatibilidade"
        ],
        "preview": "# Utilitários Migrados\n\nUtilitários compartilhados migrados do frontend React para SolidJS.\n\n## Arquivos"
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\About.tsx",
      "name": "About.tsx",
      "extension": ".tsx",
      "size": 6366,
      "category": "source_javascript",
      "purpose": "Página: Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Admin.tsx",
      "name": "Admin.tsx",
      "extension": ".tsx",
      "size": 19015,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: openCreateUserModal, openEditUserModal, closeUserModal",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "lucide-solid",
          "solid-js",
          "@/lib/api"
        ],
        "exports": [
          "Admin"
        ],
        "components": [
          "openCreateUserModal",
          "openEditUserModal",
          "closeUserModal"
        ],
        "functions": [
          "Admin"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Analytics.tsx",
      "name": "Analytics.tsx",
      "extension": ".tsx",
      "size": 32098,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: downloadABCCSV, generateCharts",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "../lib/api",
          "../components/PlotlyChart",
          "../components/ChartDownloadButton"
        ],
        "exports": [
          "Analytics"
        ],
        "components": [
          "downloadABCCSV",
          "generateCharts"
        ],
        "functions": [
          "Analytics"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\chat-markdown.css",
      "name": "chat-markdown.css",
      "extension": ".css",
      "size": 3363,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\src\\pages\\Chat.tsx",
      "name": "Chat.tsx",
      "extension": ".tsx",
      "size": 22809,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: stopGeneration, clearConversation, regenerateLastResponse",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@/store/auth",
          "@/components",
          "@/components/PlotlyChart",
          "@/components/DataTable",
          "@/components/FeedbackButtons",
          "@/components/DownloadButton",
          "@/components/MessageActions",
          "@/components/ExportMenu",
          "@/components/ShareButton",
          "@/lib/formatters",
          "marked",
          "lucide-solid"
        ],
        "exports": [
          "Chat"
        ],
        "components": [
          "stopGeneration",
          "clearConversation",
          "regenerateLastResponse",
          "startEditMessage",
          "cancelEditMessage"
        ],
        "functions": [
          "Chat"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\CodeChat.tsx",
      "name": "CodeChat.tsx",
      "extension": ".tsx",
      "size": 15800,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: clearHistory, loadExample",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "../lib/api",
          "../components/MessageActions"
        ],
        "exports": [
          "CodeChat"
        ],
        "components": [
          "clearHistory",
          "loadExample"
        ],
        "functions": [
          "CodeChat"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Dashboard.tsx",
      "name": "Dashboard.tsx",
      "extension": ".tsx",
      "size": 19918,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: handleProductClick",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@solidjs/router",
          "lucide-solid",
          "../lib/api",
          "../components/PlotlyChart",
          "../components/ChartDownloadButton",
          "../components/AIInsightsPanel",
          "@/store/auth"
        ],
        "exports": [
          "Dashboard"
        ],
        "components": [
          "handleProductClick"
        ],
        "functions": [
          "Dashboard"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Diagnostics.tsx",
      "name": "Diagnostics.tsx",
      "extension": ".tsx",
      "size": 14849,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: getStatusColor, getStatusIcon, getStatusLabel",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid"
        ],
        "exports": [
          "Diagnostics"
        ],
        "components": [
          "getStatusColor",
          "getStatusIcon",
          "getStatusLabel"
        ],
        "functions": [
          "Diagnostics"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Examples.tsx",
      "name": "Examples.tsx",
      "extension": ".tsx",
      "size": 7487,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: perguntasFiltradas, handleTestarPergunta",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "@solidjs/router"
        ],
        "exports": [
          "Examples"
        ],
        "components": [
          "perguntasFiltradas",
          "handleTestarPergunta"
        ],
        "functions": [
          "Examples"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Help.tsx",
      "name": "Help.tsx",
      "extension": ".tsx",
      "size": 17733,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: isAdmin, filteredFAQ",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "@/store/auth"
        ],
        "exports": [
          "Help"
        ],
        "components": [
          "isAdmin",
          "filteredFAQ"
        ],
        "functions": [
          "Help"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Learning.tsx",
      "name": "Learning.tsx",
      "extension": ".tsx",
      "size": 19264,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: getSuccessRateColor",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "../lib/api",
          "../store/auth"
        ],
        "exports": [
          "Learning"
        ],
        "components": [
          "getSuccessRateColor"
        ],
        "functions": [
          "Learning"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Login.tsx",
      "name": "Login.tsx",
      "extension": ".tsx",
      "size": 6270,
      "category": "source_javascript",
      "purpose": "Página: Exporta: Login",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@solidjs/router",
          "@/store/auth",
          "lucide-solid",
          "@/components/Logo"
        ],
        "exports": [
          "Login"
        ],
        "components": [],
        "functions": [
          "Login"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Playground.tsx",
      "name": "Playground.tsx",
      "extension": ".tsx",
      "size": 21076,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: clearHistory, loadExample, generateCodeSnippet",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "../lib/api",
          "../components/MessageActions"
        ],
        "exports": [
          "Playground"
        ],
        "components": [
          "clearHistory",
          "loadExample",
          "generateCodeSnippet"
        ],
        "functions": [
          "Playground"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Profile.tsx",
      "name": "Profile.tsx",
      "extension": ".tsx",
      "size": 10182,
      "category": "source_javascript",
      "purpose": "Página: Exporta: Profile",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "@/store/auth",
          "@/components/UserPreferences"
        ],
        "exports": [
          "Profile"
        ],
        "components": [],
        "functions": [
          "Profile"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Reports.tsx",
      "name": "Reports.tsx",
      "extension": ".tsx",
      "size": 11691,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: downloadReport, downloadAllAsCSV, filteredReports",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "lucide-solid",
          "../lib/api"
        ],
        "exports": [
          "Reports"
        ],
        "components": [
          "downloadReport",
          "downloadAllAsCSV",
          "filteredReports",
          "setQuickFilter"
        ],
        "functions": [
          "Reports"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Rupturas.tsx",
      "name": "Rupturas.tsx",
      "extension": ".tsx",
      "size": 41152,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: generateCharts, handleChartClick, handleGroupClick",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@/lib/api",
          "lucide-solid",
          "@/components/PlotlyChart",
          "@/components/ChartDownloadButton"
        ],
        "exports": [
          "Rupturas"
        ],
        "components": [
          "generateCharts",
          "handleChartClick",
          "handleGroupClick",
          "getProductsByGroup",
          "clearFilters",
          "exportCSV",
          "exportPurchaseOrder",
          "getCriticidadeColor",
          "getCriticidadeLabel"
        ],
        "functions": [
          "Rupturas"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\SharedConversation.tsx",
      "name": "SharedConversation.tsx",
      "extension": ".tsx",
      "size": 5460,
      "category": "source_javascript",
      "purpose": "Página: Exporta: SharedConversation",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@solidjs/router",
          "@/lib/formatters"
        ],
        "exports": [
          "SharedConversation"
        ],
        "components": [],
        "functions": [
          "SharedConversation"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\pages\\Transfers.tsx",
      "name": "Transfers.tsx",
      "extension": ".tsx",
      "size": 31522,
      "category": "source_javascript",
      "purpose": "Página: Componentes React/Solid: toggleProductSelection, removeFromCart, clearCart",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "solid-js/store",
          "lucide-solid",
          "../lib/api"
        ],
        "exports": [
          "Transfers"
        ],
        "components": [
          "toggleProductSelection",
          "removeFromCart",
          "clearCart",
          "getUrgencyColor",
          "isSelectedInMode",
          "toggleSelection",
          "isDisabledDestino",
          "isSelectedDestino",
          "toggleDestSelection",
          "isSelected"
        ],
        "functions": [
          "Transfers"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\services\\admin.service.ts",
      "name": "admin.service.ts",
      "extension": ".ts",
      "size": 2059,
      "category": "source_javascript",
      "purpose": "Exporta: adminService",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@/lib/api/client"
        ],
        "exports": [
          "adminService"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\services\\analytics.service.ts",
      "name": "analytics.service.ts",
      "extension": ".ts",
      "size": 1933,
      "category": "source_javascript",
      "purpose": "* Analytics Service\n * Serviço para comunicação com API de analytics",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@/lib/api/client"
        ],
        "exports": [
          "analyticsService",
          "response"
        ],
        "components": [],
        "functions": [],
        "description": "* Analytics Service\n * Serviço para comunicação com API de analytics"
      }
    },
    {
      "path": "frontend-solid\\src\\services\\auth.service.ts",
      "name": "auth.service.ts",
      "extension": ".ts",
      "size": 1099,
      "category": "source_javascript",
      "purpose": "Exporta: LoginCredentials, AuthResponse, authService",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@/lib/api/client",
          "@/store/auth.store"
        ],
        "exports": [
          "LoginCredentials",
          "AuthResponse",
          "authService"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\services\\logger.service.ts",
      "name": "logger.service.ts",
      "extension": ".ts",
      "size": 12647,
      "category": "source_javascript",
      "purpose": "* Sistema de Logging para Frontend\n * Gerencia logs no browser e envia logs importantes para o backend",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "LogEntry",
          "LoggerConfig",
          "getLogger",
          "logger",
          "log"
        ],
        "components": [],
        "functions": [
          "getLogger"
        ],
        "description": "* Sistema de Logging para Frontend\n * Gerencia logs no browser e envia logs importantes para o backend"
      }
    },
    {
      "path": "frontend-solid\\src\\services\\reports.service.ts",
      "name": "reports.service.ts",
      "extension": ".ts",
      "size": 2119,
      "category": "source_javascript",
      "purpose": "Exporta: reportsService",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@/lib/api/client"
        ],
        "exports": [
          "reportsService"
        ],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\store\\auth.ts",
      "name": "auth.ts",
      "extension": ".ts",
      "size": 5642,
      "category": "source_javascript",
      "purpose": "Componentes React/Solid: initializeAuth, logout",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "@/lib/api"
        ],
        "exports": [
          "User"
        ],
        "components": [
          "initializeAuth",
          "logout"
        ],
        "functions": [
          "createAuthStore"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\src\\store\\dashboard.ts",
      "name": "dashboard.ts",
      "extension": ".ts",
      "size": 2489,
      "category": "source_javascript",
      "purpose": "Componentes React/Solid: startPolling, stopPolling, togglePolling",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "solid-js",
          "solid-js/store",
          "@/lib/api"
        ],
        "exports": [],
        "components": [
          "startPolling",
          "stopPolling",
          "togglePolling"
        ],
        "functions": [
          "createDashboardStore"
        ],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\tailwind.config.js",
      "name": "tailwind.config.js",
      "extension": ".js",
      "size": 1532,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "frontend-solid\\test.html",
      "name": "test.html",
      "extension": ".html",
      "size": 2725,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "frontend-solid\\TESTING_GUIDE.md",
      "name": "TESTING_GUIDE.md",
      "extension": ".md",
      "size": 7822,
      "category": "docs",
      "purpose": "Documentação: Guia de Testes - Componentes Migrados SolidJS",
      "details": {
        "type": "markdown",
        "title": "Guia de Testes - Componentes Migrados SolidJS",
        "sections": [
          "🧪 Como Testar os Componentes Migrados",
          "✅ Critérios de Sucesso",
          "🐛 Se Encontrar Problemas",
          "📝 Após Validação"
        ],
        "preview": "# Guia de Testes - Componentes Migrados SolidJS\n\n## 🧪 Como Testar os Componentes Migrados\n\n### 1. Executar o Projeto SolidJS"
      }
    },
    {
      "path": "frontend-solid\\tsconfig.json",
      "name": "tsconfig.json",
      "extension": ".json",
      "size": 422,
      "category": "config",
      "purpose": "Configuração do compilador TypeScript",
      "details": {}
    },
    {
      "path": "frontend-solid\\vite.config.ts",
      "name": "vite.config.ts",
      "extension": ".ts",
      "size": 1044,
      "category": "config",
      "purpose": "Configuração do bundler Vite",
      "details": {}
    },
    {
      "path": "frontend-solid\\vitest.setup.ts",
      "name": "vitest.setup.ts",
      "extension": ".ts",
      "size": 37,
      "category": "source_javascript",
      "purpose": "Não identificado",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": null
      }
    },
    {
      "path": "GUIA_LIMPEZA.md",
      "name": "GUIA_LIMPEZA.md",
      "extension": ".md",
      "size": 5961,
      "category": "docs",
      "purpose": "Documentação: Guia de Limpeza Conservadora - BI Solution",
      "details": {
        "type": "markdown",
        "title": "Guia de Limpeza Conservadora - BI Solution",
        "sections": [
          "📋 Visão Geral",
          "🚀 Como Usar",
          "🔍 Preview Antes de Executar",
          "🛡️ Sistema de Segurança",
          "⏮️ Como Reverter (Undo)",
          "📊 Relatórios Gerados",
          "⚠️ Perguntas Frequentes",
          "🔧 Troubleshooting",
          "📝 Checklist Antes de Executar",
          "🎯 Próximos Passos Após Limpeza"
        ],
        "preview": "# Guia de Limpeza Conservadora - BI Solution\n\n## 📋 Visão Geral\n\nEste guia explica como usar o sistema de limpeza seguro do projeto BI_Solution."
      }
    },
    {
      "path": "IMPLEMENTATION_SUMMARY.md",
      "name": "IMPLEMENTATION_SUMMARY.md",
      "extension": ".md",
      "size": 8467,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Implementação Completa - Modernização de Tools LLM",
      "details": {
        "type": "markdown",
        "title": "Implementação Completa - Modernização de Tools LLM",
        "sections": [
          "📊 Resumo Executivo",
          "🎯 Melhorias Implementadas",
          "🧪 Validação (Todos os Testes Passaram)",
          "📦 Dependências Adicionadas",
          "🔧 Como Usar",
          "📚 Documentação Atualizada",
          "🎯 Métricas de Sucesso",
          "🚀 Deploy Checklist",
          "🎉 Conclusão"
        ],
        "preview": "# Implementação Completa - Modernização de Tools LLM\n\n**Data:** 2025-12-27\n**Projeto:** Agent Solution BI - Lojas Caçula\n**Status:** ✅ CONCLUÍDO"
      }
    },
    {
      "path": "IMPROVEMENTS_SUMMARY_2025-12-28.md",
      "name": "IMPROVEMENTS_SUMMARY_2025-12-28.md",
      "extension": ".md",
      "size": 6351,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Resumo de Melhorias Implementadas - 2025-12-28",
      "details": {
        "type": "markdown",
        "title": "Resumo de Melhorias Implementadas - 2025-12-28",
        "sections": [
          "Contexto",
          "Melhorias Implementadas",
          "Scripts de Teste Criados",
          "Metricas de Sucesso",
          "Arquivos Modificados",
          "Arquivos Criados",
          "Proximos Passos (Opcional)",
          "Conclusao"
        ],
        "preview": "# Resumo de Melhorias Implementadas - 2025-12-28\n\n## Contexto\n\nUsuario reportou erro \"Maximum conversation turns exceeded\" ao solicitar analise do grupo Oxford."
      }
    },
    {
      "path": "logs\\api\\api.log",
      "name": "api.log",
      "extension": ".log",
      "size": 941,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\app\\app.log",
      "name": "app.log",
      "extension": ".log",
      "size": 8303,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\audit\\audit.log",
      "name": "audit.log",
      "extension": ".log",
      "size": 0,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\backend.log",
      "name": "backend.log",
      "extension": ".log",
      "size": 372634,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\chat\\chat.log",
      "name": "chat.log",
      "extension": ".log",
      "size": 0,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\errors\\critical.log",
      "name": "critical.log",
      "extension": ".log",
      "size": 1449,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\errors\\errors.log",
      "name": "errors.log",
      "extension": ".log",
      "size": 0,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "logs\\security\\security.log",
      "name": "security.log",
      "extension": ".log",
      "size": 0,
      "category": "temp",
      "purpose": "Arquivo temporário (pode ser excluído)",
      "details": {}
    },
    {
      "path": "MODERNIZATION_SUMMARY.md",
      "name": "MODERNIZATION_SUMMARY.md",
      "extension": ".md",
      "size": 4405,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Modernização Agent BI - Sumário Executivo",
      "details": {
        "type": "markdown",
        "title": "Modernização Agent BI - Sumário Executivo",
        "sections": [
          "O Que Foi Feito",
          "Resultados Esperados",
          "Arquivos Modificados",
          "Como Testar",
          "Próximas Ações (Recomendadas P1)",
          "Conclusão"
        ],
        "preview": "# Modernização Agent BI - Sumário Executivo\n**Data:** 2025-12-27\n**Status:** COMPLETO (4/4 ações P0)\n\n---"
      }
    },
    {
      "path": "package-lock.json",
      "name": "package-lock.json",
      "extension": ".json",
      "size": 12678,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "name",
          "version",
          "lockfileVersion",
          "requires",
          "packages"
        ]
      }
    },
    {
      "path": "package.json",
      "name": "package.json",
      "extension": ".json",
      "size": 1352,
      "category": "config",
      "purpose": "Configuração de dependências Node.js",
      "details": {}
    },
    {
      "path": "PERFORMANCE_FIX_2025-12-27.md",
      "name": "PERFORMANCE_FIX_2025-12-27.md",
      "extension": ".md",
      "size": 6678,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Performance Fix - 4+ Minute Hang Issue",
      "details": {
        "type": "markdown",
        "title": "Performance Fix - 4+ Minute Hang Issue",
        "sections": [
          "Root Causes Identificados",
          "Correções Aplicadas",
          "Resultados Esperados",
          "Timeline de Execução Esperada",
          "Como Testar",
          "Próximos Passos (Opcional)",
          "Arquivos Modificados",
          "Validação"
        ],
        "preview": "# Performance Fix - 4+ Minute Hang Issue\n**Data:** 2025-12-27\n**Problema:** Query \"gere um gráfico de vendas por segmentos na une 1\" travava por 4+ minutos sem resposta\n\n---"
      }
    },
    {
      "path": "pnpm-lock.yaml",
      "name": "pnpm-lock.yaml",
      "extension": ".yaml",
      "size": 6968,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "QUICK_START_MODERNIZATION.md",
      "name": "QUICK_START_MODERNIZATION.md",
      "extension": ".md",
      "size": 4379,
      "category": "docs_obsolete",
      "purpose": "[OBSOLETO] Documentação: Quick Start - Melhorias de Modernização 2025",
      "details": {
        "type": "markdown",
        "title": "Quick Start - Melhorias de Modernização 2025",
        "sections": [
          "1️⃣ Instalar Dependência (RAG)",
          "2️⃣ Validar Implementação",
          "3️⃣ Atualizar Chat Endpoint (Tool Scoping)",
          "4️⃣ Configurar Roles de Usuário",
          "5️⃣ Testar RAG Semantic Search",
          "6️⃣ Verificar Tool Scoping",
          "🎯 Checklist de Ativação",
          "🔧 Troubleshooting",
          "📊 Logs de Sucesso",
          "🎉 Pronto!"
        ],
        "preview": "# Quick Start - Melhorias de Modernização 2025\n\n**🚀 Guia rápido para ativar as 3 melhorias implementadas**\n\n---"
      }
    },
    {
      "path": "README.md",
      "name": "README.md",
      "extension": ".md",
      "size": 3475,
      "category": "docs",
      "purpose": "Documentação: 🛒 Agent Solution BI - Lojas Caçula (Executive Edition)",
      "details": {
        "type": "markdown",
        "title": "🛒 Agent Solution BI - Lojas Caçula (Executive Edition)",
        "sections": [
          "💎 Diferenciais Estratégicos (Apresentação à Diretoria)",
          "🚀 Funcionalidades Principais",
          "🎨 Identidade Visual (Lojas Caçula - 40 Anos)",
          "🛠️ Tecnologias Utilizadas",
          "📁 Guia de Instalação Rápida",
          "👥 Contas de Demonstração"
        ],
        "preview": "# 🛒 Agent Solution BI - Lojas Caçula (Executive Edition)\n\n**Inteligência Artificial Generativa e Análise de Alta Performance para a Gestão de Varejo.**\n\nO **Agent Solution BI** é uma plataforma de decisão estratégica desenvolvida especificamente para a rede Lojas Caçula. Combinando o poder do **Google Gemini 3.0 Flash** com a velocidade do motor de dados **Polars**, o sistema transforma milhões de registros de venda e estoque em planos de ação imediatos."
      }
    },
    {
      "path": "Relatório de Infraestrutura, Custos e Viabilidade_ Projeto BI_Solution.md",
      "name": "Relatório de Infraestrutura, Custos e Viabilidade_ Projeto BI_Solution.md",
      "extension": ".md",
      "size": 4684,
      "category": "docs",
      "purpose": "Documentação: Relatório de Infraestrutura, Custos e Viabilidade: Projeto BI_Solution",
      "details": {
        "type": "markdown",
        "title": "Relatório de Infraestrutura, Custos e Viabilidade: Projeto BI_Solution",
        "sections": [
          "1. Viabilidade de Servidor Local",
          "2. Análise da LLM (Gemini 3 Flash Preview)",
          "3. Comparativo: Local vs. Nuvem (Cloud)",
          "4. Conclusão e Recomendações"
        ],
        "preview": "# Relatório de Infraestrutura, Custos e Viabilidade: Projeto BI_Solution\n\n**Autor:** Manus AI\n**Data:** 28 de Dezembro de 2025\n"
      }
    },
    {
      "path": "restore.bat",
      "name": "restore.bat",
      "extension": ".bat",
      "size": 1389,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "restore_backup.py",
      "name": "restore_backup.py",
      "extension": ".py",
      "size": 7130,
      "category": "script_temp",
      "purpose": "[SCRIPT TEMPORÁRIO] Não identificado",
      "details": {
        "type": "python",
        "docstring": "Script de Restauração de Backup\nReverte a limpeza realizada pelo cleanup_conservative.py\n\nUSO:\n    python restore_backup.py <caminho_do_backup>\n\nEXEMPLO:\n    python restore_backup.py \"BACKUP_LIMPEZA_20251228_150000\"",
        "classes": [
          {
            "name": "BackupRestorer",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "validate_backup",
                "docstring": "Valida se o backup é válido",
                "is_async": false
              },
              {
                "name": "find_files_to_restore",
                "docstring": "Encontra arquivos no backup para restaurar",
                "is_async": false
              },
              {
                "name": "show_preview",
                "docstring": "Mostra preview dos arquivos a serem restaurados",
                "is_async": false
              },
              {
                "name": "restore_files",
                "docstring": "Restaura os arquivos do backup",
                "is_async": false
              },
              {
                "name": "format_size",
                "docstring": "Formata tamanho em bytes",
                "is_async": false
              },
              {
                "name": "generate_report",
                "docstring": "Gera relatório de restauração",
                "is_async": false
              },
              {
                "name": "run",
                "docstring": "Executa a restauração",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [],
        "imports": [
          "os",
          "sys",
          "shutil",
          "json",
          "pathlib",
          "datetime"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\clean-port.js",
      "name": "clean-port.js",
      "extension": ".js",
      "size": 3367,
      "category": "source_javascript",
      "purpose": "* Cross-platform script to kill processes on specific ports\n * Works on Windows, Linux, and macOS\n * Ports: 8000 (Backend), 3000 (Frontend)",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [
          "killPortWindows",
          "killPortUnix"
        ],
        "description": "* Cross-platform script to kill processes on specific ports\n * Works on Windows, Linux, and macOS\n * Ports: 8000 (Backend), 3000 (Frontend)"
      }
    },
    {
      "path": "scripts\\create_supabase_test_user.py",
      "name": "create_supabase_test_user.py",
      "extension": ".py",
      "size": 2326,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Script to create a test user ONLY in Supabase (not in Parquet)\nThis will verify that Supabase authentication is working",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.core.supabase_client"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\create_supabase_users.sql",
      "name": "create_supabase_users.sql",
      "extension": ".sql",
      "size": 3067,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\create_test_user.py",
      "name": "create_test_user.py",
      "extension": ".py",
      "size": 1174,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": "Create a test user in Supabase for authentication testing",
        "classes": [],
        "functions": [
          {
            "name": "create_test_user",
            "docstring": "Create a test admin user in Supabase",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "sys",
          "pathlib",
          "app.core.supabase_user_service"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\create_user_profiles.sql",
      "name": "create_user_profiles.sql",
      "extension": ".sql",
      "size": 2041,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\create_users_parquet.py",
      "name": "create_users_parquet.py",
      "extension": ".py",
      "size": 1513,
      "category": "source_python",
      "purpose": "Create users.parquet file with test admin user for authentication fallback",
      "details": {
        "type": "python",
        "docstring": "Create users.parquet file with test admin user for authentication fallback",
        "classes": [],
        "functions": [
          {
            "name": "create_users_parquet",
            "docstring": "Create users.parquet with admin user",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "polars",
          "bcrypt",
          "pathlib",
          "uuid",
          "datetime",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\debug_transfers.js",
      "name": "debug_transfers.js",
      "extension": ".js",
      "size": 2122,
      "category": "source_javascript",
      "purpose": "* DIAGNÓSTICO DE CLIQUES - Cole no Console do Navegador\n * \n * Abre DevTools (F12), vai em Console, e cola este script.\n * Ele vai monitorar EXATAMENTE o que está acontecendo nos cliques.",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [],
        "description": "* DIAGNÓSTICO DE CLIQUES - Cole no Console do Navegador\n * \n * Abre DevTools (F12), vai em Console, e cola este script.\n * Ele vai monitorar EXATAMENTE o que está acontecendo nos cliques."
      }
    },
    {
      "path": "scripts\\index_codebase.py",
      "name": "index_codebase.py",
      "extension": ".py",
      "size": 9787,
      "category": "source_python",
      "purpose": "Code Indexer - Generate RAG Index for Entire Codebase",
      "details": {
        "type": "python",
        "docstring": "Code Indexer - Generate RAG Index for Entire Codebase\n=====================================================\n\nThis script indexes the entire codebase (Python + TypeScript) using:\n- LlamaIndex for document processing\n- Gemini Embeddings for semantic search\n- FAISS for vector storage\n- Incremental Indexing for efficiency\n\nUsage:\n    python scripts/index_codebase.py\n\nOutput:\n    ./storage/ - FAISS index, docstore, and metadata\n\nAuthor: Antigravity AI\nDate: 2025-12-19",
        "classes": [],
        "functions": [
          {
            "name": "configure_llamaindex",
            "docstring": "Configure LlamaIndex with Gemini models.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "load_code_documents",
            "docstring": "Load code documents from backend and frontend directories.\n\nArgs:\n    base_path: Project root path\n    \nReturns:\n    List of Document objects",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "create_or_update_index",
            "docstring": "Create or update index using standard VectorStoreIndex (Full Refresh).\n\nArgs:\n    documents: List of Document objects\n    storage_path: Path to save/load index",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "save_stats",
            "docstring": "Save index statistics to JSON.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": "Main indexing function.",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "pathlib",
          "datetime",
          "json",
          "logging",
          "dotenv",
          "llama_index.core",
          "llama_index.core.ingestion",
          "llama_index.core.storage.docstore",
          "llama_index.core.node_parser",
          "llama_index.core.settings",
          "llama_index.llms.gemini",
          "llama_index.embeddings.gemini",
          "llama_index.core.vector_stores",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\insert_user_profiles.sql",
      "name": "insert_user_profiles.sql",
      "extension": ".sql",
      "size": 1498,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\kill_port.py",
      "name": "kill_port.py",
      "extension": ".py",
      "size": 633,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "subprocess",
          "sys"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\kill_ports.py",
      "name": "kill_ports.py",
      "extension": ".py",
      "size": 5602,
      "category": "source_python",
      "purpose": "Script para liberar portas 8000 e 3000",
      "details": {
        "type": "python",
        "docstring": "Script para liberar portas 8000 e 3000\nMata todos os processos Python/Node rodando nessas portas",
        "classes": [],
        "functions": [
          {
            "name": "get_pids_on_port",
            "docstring": "Obtem todos os PIDs usando uma porta especifica",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "kill_process",
            "docstring": "Mata um processo pelo PID",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "kill_port",
            "docstring": "Mata todos os processos em uma porta (com tentativas)",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "kill_python_processes",
            "docstring": "Mata todos os processos Python do projeto",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "subprocess",
          "sys",
          "time",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\legacy_tests\\diagnostico_sql_server.bat",
      "name": "diagnostico_sql_server.bat",
      "extension": ".bat",
      "size": 2477,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\legacy_tests\\reproduce_gemini_error.py",
      "name": "reproduce_gemini_error.py",
      "extension": ".py",
      "size": 1588,
      "category": "source_python",
      "purpose": "Não identificado",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "os",
          "asyncio",
          "google.generativeai",
          "google.generativeai.protos",
          "dotenv"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\legacy_tests\\test_chat_robust.py",
      "name": "test_chat_robust.py",
      "extension": ".py",
      "size": 25976,
      "category": "test",
      "purpose": "Testes unitários (3 testes)",
      "details": {
        "type": "python",
        "docstring": "Testes Robustos para Chat BI e CodeChat\n========================================\n\nExecuta bateria completa de testes validando:\n- Conversação básica\n- Análises de dados complexas\n- Geração de gráficos\n- Filtros e segmentação\n- CodeChat (RAG de documentação)\n- Cache semântico\n- Sistema de feedback",
        "classes": [
          {
            "name": "Colors",
            "docstring": null,
            "methods": [],
            "bases": []
          },
          {
            "name": "ChatTester",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_send_query",
                "docstring": "Envia query para o chat e coleta resposta completa.",
                "is_async": false
              },
              {
                "name": "_validate_result",
                "docstring": "Valida resultado de um teste.",
                "is_async": false
              },
              {
                "name": "test_basic_greeting",
                "docstring": "Teste 1: Saudação básica",
                "is_async": false
              },
              {
                "name": "test_capabilities_question",
                "docstring": "Teste 2: Pergunta sobre capacidades",
                "is_async": false
              },
              {
                "name": "test_top_products",
                "docstring": "Teste 3: Top produtos por vendas",
                "is_async": false
              },
              {
                "name": "test_category_analysis",
                "docstring": "Teste 4: Análise por categoria",
                "is_async": false
              },
              {
                "name": "test_segment_comparison",
                "docstring": "Teste 5: Comparação entre segmentos",
                "is_async": false
              },
              {
                "name": "test_rupture_analysis",
                "docstring": "Teste 6: Análise de rupturas",
                "is_async": false
              },
              {
                "name": "test_pareto_analysis",
                "docstring": "Teste 7: Análise de Pareto (Curva ABC)",
                "is_async": false
              },
              {
                "name": "test_une_filter",
                "docstring": "Teste 8: Filtro por UNE",
                "is_async": false
              },
              {
                "name": "test_manufacturer_filter",
                "docstring": "Teste 9: Filtro por fabricante",
                "is_async": false
              },
              {
                "name": "test_bar_chart",
                "docstring": "Teste 10: Gráfico de barras",
                "is_async": false
              },
              {
                "name": "test_line_chart",
                "docstring": "Teste 11: Gráfico de linhas (tendência)",
                "is_async": false
              },
              {
                "name": "test_pie_chart",
                "docstring": "Teste 12: Gráfico de pizza",
                "is_async": false
              },
              {
                "name": "test_empty_query",
                "docstring": "Teste 13: Query vazia",
                "is_async": false
              },
              {
                "name": "test_invalid_column",
                "docstring": "Teste 14: Query com coluna inexistente",
                "is_async": false
              },
              {
                "name": "test_very_large_limit",
                "docstring": "Teste 15: Limite muito grande",
                "is_async": false
              },
              {
                "name": "print_summary",
                "docstring": "Imprime resumo dos testes.",
                "is_async": false
              }
            ],
            "bases": []
          },
          {
            "name": "CodeChatTester",
            "docstring": null,
            "methods": [
              {
                "name": "__init__",
                "docstring": null,
                "is_async": false
              },
              {
                "name": "_send_query",
                "docstring": "Envia query para CodeChat endpoint.",
                "is_async": false
              },
              {
                "name": "test_architecture_question",
                "docstring": "Teste CodeChat 1: Pergunta sobre arquitetura",
                "is_async": false
              },
              {
                "name": "test_api_usage_question",
                "docstring": "Teste CodeChat 2: Como usar uma API específica",
                "is_async": false
              },
              {
                "name": "print_summary",
                "docstring": "Imprime resumo dos testes CodeChat.",
                "is_async": false
              }
            ],
            "bases": []
          }
        ],
        "functions": [
          {
            "name": "login",
            "docstring": "Faz login e retorna token JWT.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_semantic_cache",
            "docstring": "Testa se cache semântico está funcionando.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "requests",
          "json",
          "time",
          "datetime",
          "typing",
          "sys"
        ],
        "constants": [
          "BASE_URL",
          "API_V1"
        ]
      }
    },
    {
      "path": "scripts\\legacy_tests\\test_code_chat.py",
      "name": "test_code_chat.py",
      "extension": ".py",
      "size": 788,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "requests",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\legacy_tests\\test_critical_fixes.py",
      "name": "test_critical_fixes.py",
      "extension": ".py",
      "size": 6295,
      "category": "test",
      "purpose": "Testes unitários (4 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste Rápido das Correções Críticas\n====================================\n\nTesta os 3 problemas críticos corrigidos:\n1. Validação de query vazia\n2. Maximum conversation turns exceeded\n3. Cache semântico",
        "classes": [],
        "functions": [
          {
            "name": "test_empty_query",
            "docstring": "Teste 1: Query vazia deve ser rejeitada.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_complex_query",
            "docstring": "Teste 2: Query complexa não deve exceder turns.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_cache",
            "docstring": "Teste 3: Cache semântico deve funcionar.",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "requests",
          "time"
        ],
        "constants": [
          "BASE_URL"
        ]
      }
    },
    {
      "path": "scripts\\legacy_tests\\test_diagnostics.py",
      "name": "test_diagnostics.py",
      "extension": ".py",
      "size": 2269,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Test script for SQL Server diagnostics endpoint.\nTests the connection test functionality after the PYODBC_CONNECTION_STRING fix.",
        "classes": [],
        "functions": [],
        "imports": [
          "requests",
          "json"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\legacy_tests\\test_kpis.py",
      "name": "test_kpis.py",
      "extension": ".py",
      "size": 1005,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "requests",
          "json",
          "sys"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\legacy_tests\\test_sql_connection.py",
      "name": "test_sql_connection.py",
      "extension": ".py",
      "size": 10674,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste abrangente de conexão SQL Server\nUsa as credenciais do arquivo .env para testar diferentes cenários",
        "classes": [],
        "functions": [
          {
            "name": "check_port",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "pathlib",
          "dotenv",
          "socket",
          "re",
          "pyodbc",
          "pyodbc"
        ],
        "constants": [
          "DATABASE_URL",
          "PYODBC_CONNECTION_STRING",
          "USE_SQL_SERVER"
        ]
      }
    },
    {
      "path": "scripts\\show-logs.js",
      "name": "show-logs.js",
      "extension": ".js",
      "size": 5359,
      "category": "source_javascript",
      "purpose": "* Script para visualizar logs agregados em tempo real\n * Monitora múltiplos arquivos de log e exibe com cores",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [],
        "components": [],
        "functions": [
          "formatPrefix",
          "processLine"
        ],
        "description": "* Script para visualizar logs agregados em tempo real\n * Monitora múltiplos arquivos de log e exibe com cores"
      }
    },
    {
      "path": "scripts\\signup_test_user.py",
      "name": "signup_test_user.py",
      "extension": ".py",
      "size": 2202,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": "Sign up a test user in Supabase using public signup API",
        "classes": [],
        "functions": [
          {
            "name": "signup_test_user",
            "docstring": "Sign up a test user using public Supabase API",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "sys",
          "pathlib",
          "app.core.supabase_client"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\test_llm_v3.py",
      "name": "test_llm_v3.py",
      "extension": ".py",
      "size": 1812,
      "category": "test",
      "purpose": "Testes unitários (1 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "test_v3_connection",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "os",
          "sys",
          "logging",
          "pathlib",
          "dotenv",
          "app.core.llm_gemini_adapter_v3",
          "app.config.settings",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "scripts\\utils\\add_nodejs_to_path.ps1",
      "name": "add_nodejs_to_path.ps1",
      "extension": ".ps1",
      "size": 2672,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\HARD_RESET_LOGIN.bat",
      "name": "HARD_RESET_LOGIN.bat",
      "extension": ".bat",
      "size": 823,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\kill_python.bat",
      "name": "kill_python.bat",
      "extension": ".bat",
      "size": 169,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\RESET_LOGIN.ps1",
      "name": "RESET_LOGIN.ps1",
      "extension": ".ps1",
      "size": 1062,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\run-with-logs.bat",
      "name": "run-with-logs.bat",
      "extension": ".bat",
      "size": 2261,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\run.ps1",
      "name": "run.ps1",
      "extension": ".ps1",
      "size": 3940,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\run_backend_only.ps1",
      "name": "run_backend_only.ps1",
      "extension": ".ps1",
      "size": 1943,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\start_system.ps1",
      "name": "start_system.ps1",
      "extension": ".ps1",
      "size": 3791,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "scripts\\utils\\validate_changes.ps1",
      "name": "validate_changes.ps1",
      "extension": ".ps1",
      "size": 8991,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "start.bat",
      "name": "start.bat",
      "extension": ".bat",
      "size": 3856,
      "category": "config",
      "purpose": "Script de inicialização Windows",
      "details": {}
    },
    {
      "path": "storage\\default__vector_store.json",
      "name": "default__vector_store.json",
      "extension": ".json",
      "size": 5205244,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "embedding_dict",
          "text_id_to_ref_doc_id",
          "metadata_dict"
        ]
      }
    },
    {
      "path": "storage\\docstore.json",
      "name": "docstore.json",
      "extension": ".json",
      "size": 2279930,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "docstore/metadata",
          "docstore/ref_doc_info",
          "docstore/data"
        ]
      }
    },
    {
      "path": "storage\\graph_store.json",
      "name": "graph_store.json",
      "extension": ".json",
      "size": 18,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "graph_dict"
        ]
      }
    },
    {
      "path": "storage\\image__vector_store.json",
      "name": "image__vector_store.json",
      "extension": ".json",
      "size": 72,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "embedding_dict",
          "text_id_to_ref_doc_id",
          "metadata_dict"
        ]
      }
    },
    {
      "path": "storage\\index_stats.json",
      "name": "index_stats.json",
      "extension": ".json",
      "size": 241,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "status",
          "total_files",
          "total_functions",
          "total_classes",
          "total_lines",
          "indexed_at",
          "languages"
        ]
      }
    },
    {
      "path": "storage\\index_store.json",
      "name": "index_store.json",
      "extension": ".json",
      "size": 40819,
      "category": "data",
      "purpose": "Não identificado",
      "details": {
        "type": "json",
        "keys": [
          "index_store/data"
        ]
      }
    },
    {
      "path": "Taskfile.yml",
      "name": "Taskfile.yml",
      "extension": ".yml",
      "size": 6045,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    },
    {
      "path": "test_agent_http.py",
      "name": "test_agent_http.py",
      "extension": ".py",
      "size": 5490,
      "category": "test_orphan",
      "purpose": "Agente BI: [SCRIPT DE TESTE NA RAIZ] Testes unitários (3 testes)",
      "details": {
        "type": "python",
        "docstring": "Test Script: Agent Intelligence Validation (HTTP)\nTesta se o agente responde corretamente via endpoint HTTP",
        "classes": [],
        "functions": [
          {
            "name": "login",
            "docstring": "Faz login e obtém token",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "test_query",
            "docstring": "Testa uma query e valida o tipo de resposta",
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": "Executa todos os testes",
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "requests",
          "json",
          "time"
        ],
        "constants": [
          "BASE_URL",
          "TOKEN",
          "GREEN",
          "RED",
          "YELLOW",
          "BLUE",
          "RESET"
        ]
      }
    },
    {
      "path": "test_agent_intelligence.py",
      "name": "test_agent_intelligence.py",
      "extension": ".py",
      "size": 5698,
      "category": "test_orphan",
      "purpose": "Agente BI: [SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Test Script: Agent Intelligence Validation\nTesta se o agente responde corretamente a diferentes tipos de perguntas",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "os",
          "pathlib",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.config.settings",
          "traceback"
        ],
        "constants": [
          "GREEN",
          "RED",
          "YELLOW",
          "RESET"
        ]
      }
    },
    {
      "path": "test_final_fix.py",
      "name": "test_final_fix.py",
      "extension": ".py",
      "size": 3565,
      "category": "test_orphan",
      "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste FINAL da correção do loop infinito",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "os",
          "pathlib",
          "app.config.settings",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "time",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "test_oxford_direct.py",
      "name": "test_oxford_direct.py",
      "extension": ".py",
      "size": 2306,
      "category": "test_orphan",
      "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste DIRETO da query problemática - sem autenticação HTTP",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "test_query_oxford.py",
      "name": "test_query_oxford.py",
      "extension": ".py",
      "size": 2551,
      "category": "test_orphan",
      "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste rápido da query problemática reportada pelo usuário\nQuery: \"analise o grupo oxford na une 135\"",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "test_query_oxford_simple.py",
      "name": "test_query_oxford_simple.py",
      "extension": ".py",
      "size": 2041,
      "category": "test_orphan",
      "purpose": "[SCRIPT DE TESTE NA RAIZ] Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste simples da query problemática (sem emojis)",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "sys",
          "pathlib",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings",
          "traceback"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\playwright.config.ts",
      "name": "playwright.config.ts",
      "extension": ".ts",
      "size": 2277,
      "category": "source_javascript",
      "purpose": "* Playwright configuration for TestSprite-generated E2E tests\n * See https://playwright.dev/docs/test-configuration",
      "details": {
        "type": "javascript/typescript",
        "imports": [
          "@playwright/test"
        ],
        "exports": [],
        "components": [],
        "functions": [],
        "description": "* Playwright configuration for TestSprite-generated E2E tests\n * See https://playwright.dev/docs/test-configuration"
      }
    },
    {
      "path": "tests\\test_agent_comprehensive.py",
      "name": "test_agent_comprehensive.py",
      "extension": ".py",
      "size": 7941,
      "category": "test",
      "purpose": "Agente BI: Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Testes abrangentes do agente BI - Validacao de diferentes tipos de consultas\nTesta: Graficos, Analises Criticas, Relatorios, Consultas Comerciais, Perguntas sobre Produtos",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "logging",
          "sys",
          "pathlib",
          "datetime",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings"
        ],
        "constants": [
          "TEST_QUERIES"
        ]
      }
    },
    {
      "path": "tests\\test_agent_quick.py",
      "name": "test_agent_quick.py",
      "extension": ".py",
      "size": 4315,
      "category": "test",
      "purpose": "Agente BI: Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste rapido do agente - Valida correcao do erro \"Maximum conversation turns exceeded\"\nFoca na query problematica original: \"analise o grupo oxford e me aponte as criticas\"",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "logging",
          "sys",
          "pathlib",
          "datetime",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_chat_interactions.py",
      "name": "test_chat_interactions.py",
      "extension": ".py",
      "size": 2420,
      "category": "test",
      "purpose": "Testes unitários (3 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [
          {
            "name": "get_token",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "ask",
            "docstring": null,
            "is_async": false,
            "decorators": []
          },
          {
            "name": "main",
            "docstring": null,
            "is_async": false,
            "decorators": []
          }
        ],
        "imports": [
          "requests",
          "json",
          "sys"
        ],
        "constants": [
          "BASE_URL"
        ]
      }
    },
    {
      "path": "tests\\test_duckdb_performance.py",
      "name": "test_duckdb_performance.py",
      "extension": ".py",
      "size": 2735,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "time",
          "os",
          "sys",
          "logging",
          "app.infrastructure.data.duckdb_adapter",
          "pyarrow"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_extreme_performance.py",
      "name": "test_extreme_performance.py",
      "extension": ".py",
      "size": 2579,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "time",
          "os",
          "sys",
          "logging",
          "app.infrastructure.data.duckdb_adapter"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_graph_vs_text.py",
      "name": "test_graph_vs_text.py",
      "extension": ".py",
      "size": 2900,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste de validacao: Graficos vs Textos\nValida que o agente retorna o tipo correto baseado na solicitacao",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "logging",
          "sys",
          "pathlib",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_performance_v2.py",
      "name": "test_performance_v2.py",
      "extension": ".py",
      "size": 2778,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": null,
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "time",
          "os",
          "sys",
          "pandas",
          "logging",
          "app.infrastructure.data.duckdb_adapter",
          "pyarrow"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_products_selection.ts",
      "name": "test_products_selection.ts",
      "extension": ".ts",
      "size": 1483,
      "category": "source_javascript",
      "purpose": "* Teste de seleção de Produtos para Transferências (Multi-Seleção)",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "productSelectionChecklist"
        ],
        "components": [],
        "functions": [],
        "description": "* Teste de seleção de Produtos para Transferências (Multi-Seleção)"
      }
    },
    {
      "path": "tests\\test_rls_data_manager.py",
      "name": "test_rls_data_manager.py",
      "extension": ".py",
      "size": 1301,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste de RLS no DataSourceManager",
        "classes": [],
        "functions": [],
        "imports": [
          "sys",
          "os",
          "app.core",
          "app.core.data_source_manager"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_textual_analysis.py",
      "name": "test_textual_analysis.py",
      "extension": ".py",
      "size": 7138,
      "category": "test",
      "purpose": "Testes unitários (0 testes)",
      "details": {
        "type": "python",
        "docstring": "Teste de validacao da resposta textual para analises criticas\nValida se o agente retorna analise textual (nao grafico) para queries de diagnostico",
        "classes": [],
        "functions": [],
        "imports": [
          "asyncio",
          "logging",
          "sys",
          "pathlib",
          "datetime",
          "app.core.agents.caculinha_bi_agent",
          "app.core.llm_gemini_adapter",
          "app.core.utils.field_mapper",
          "app.core.agents.code_gen_agent",
          "app.config.settings"
        ],
        "constants": []
      }
    },
    {
      "path": "tests\\test_transfers_selection.ts",
      "name": "test_transfers_selection.ts",
      "extension": ".ts",
      "size": 4734,
      "category": "source_javascript",
      "purpose": "* Teste de seleção UNE para Transferências\n * Valida comportamento de 1→1, 1→N, N→N",
      "details": {
        "type": "javascript/typescript",
        "imports": [],
        "exports": [
          "validateTransfersLogic",
          "manualChecklist"
        ],
        "components": [],
        "functions": [
          "validateTransfersLogic"
        ],
        "description": "* Teste de seleção UNE para Transferências\n * Valida comportamento de 1→1, 1→N, N→N"
      }
    },
    {
      "path": "tests\\verify_run_bat.ps1",
      "name": "verify_run_bat.ps1",
      "extension": ".ps1",
      "size": 3224,
      "category": "unknown",
      "purpose": "Não identificado",
      "details": {}
    }
  ],
  "dependencies": {
    "python": {},
    "javascript": {}
  },
  "summary": {}
}