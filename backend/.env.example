# Backend Environment Variables - Agent Solution BI

# App
APP_NAME="Agent BI Backend"
APP_VERSION="1.0.0"
DEBUG=true
ENVIRONMENT=development

# API
API_V1_PREFIX=/api/v1
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Database - SQL Server (Opcional se usar Parquet/Supabase)
# Driver: ODBC Driver 17 for SQL Server (ou 18)
# Formato Async: mssql+aioodbc://user:pass@host/dbname?driver=...&TrustServerCertificate=yes
DATABASE_URL=mssql+aioodbc://sa:SuaSenhaAqui@localhost/agentbi?driver=ODBC+Driver+17+for+SQL+Server&TrustServerCertificate=yes

# Connection string ODBC pura (para aioodbc/pyodbc direto)
# Formato: DRIVER={...};SERVER=...;DATABASE=...;UID=...;PWD=...;TrustServerCertificate=yes
PYODBC_CONNECTION_STRING=DRIVER={ODBC Driver 17 for SQL Server};SERVER=localhost;DATABASE=agentbi;UID=sa;PWD=SuaSenhaAqui;TrustServerCertificate=yes

# Hybrid Architecture Flags
USE_SQL_SERVER=false
FALLBACK_TO_PARQUET=true
SQL_SERVER_TIMEOUT=10

DB_ECHO=false
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# AI / LLM Configuration
# Providers: "google" (RECOMENDADO - Mais est√°vel e moderno) ou "groq"
LLM_PROVIDER=google
LLM_MODEL_NAME=gemini-2.5-flash-lite  # O estado da arte em 2026

# Google Gemini (RECOMENDADO)
GEMINI_API_KEY=sua_chave_api_gemini_aqui  # Obtenha em: https://aistudio.google.com/

# Groq Configuration (Alternativo)
GROQ_API_KEY=sua_chave_groq_aqui  # Obtenha em: https://console.groq.com/
GROQ_MODEL_NAME=llama-3.3-70b-versatile  # Modelos: llama-3.3-70b-versatile, mixtral-8x7b-32768

# RAG & Learning System
RAG_EMBEDDING_MODEL="all-MiniLM-L6-v2"
RAG_FAISS_INDEX_PATH="data/rag/faiss_index.bin"
LEARNING_EXAMPLES_PATH="data/learning/"
LEARNING_FEEDBACK_PATH="data/feedback/"

# Cache
CACHE_TTL_MINUTES=360
AGENT_GRAPH_CACHE_TTL_MINUTES=360

# Security (CHANGE IN PRODUCTION!)
SECRET_KEY="your-secret-key-change-in-production-min-32-chars-long-please-use-strong-key"
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# Supabase Auth (Opcional)
SUPABASE_URL=""
SUPABASE_ANON_KEY=""
USE_SUPABASE_AUTH=false

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_AUTH_PER_MINUTE=5

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Metrics
METRICS_ENABLED=true
