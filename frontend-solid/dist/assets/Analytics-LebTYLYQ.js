import{c as r,m as it,I as st,a as f,h as Le,b as we,n as Se,o as ot,t as n,i as e,S as c,X as le,F as ie,d as B,f as ge,D as nt,E as dt,l as ct,y as be,k as y,e as ut,g as pt}from"./index-BTwf99OE.js";import{P as Ee}from"./PlotlyChart-DkK15PvE.js";import{C as Ae}from"./ChartDownloadButton-C4C04u9H.js";import{B as Be}from"./bar-chart-3-XZbit7Hz.js";import{R as Ge}from"./refresh-cw-BvDo3NQr.js";import{F as gt}from"./filter-CmxAUFBN.js";const bt=[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fe=m=>r(st,it(m,{name:"Eye",iconNode:bt}));var mt=n('<button class="ml-auto text-sm text-muted hover:text-foreground flex items-center gap-1"aria-label="Limpar todos os filtros">Limpar Filtros'),ft=n('<span class="px-2 py-1 bg-primary/20 text-primary rounded text-sm flex items-center gap-1">Segmento: <button class="hover:bg-primary/30 rounded">'),xt=n('<span class="px-2 py-1 bg-primary/20 text-primary rounded text-sm flex items-center gap-1">Categoria: <button class="hover:bg-primary/30 rounded">'),ht=n('<span class="px-2 py-1 bg-primary/20 text-primary rounded text-sm flex items-center gap-1">Grupo: <button class="hover:bg-primary/30 rounded">'),vt=n('<div class="flex gap-2 mt-3 flex-wrap"><span class="text-sm text-muted">Filtros ativos:'),_t=n('<div class="card p-4 border-red-500 bg-red-500/10"><p class=text-red-500>'),$t=n('<div class="flex-1 flex items-center justify-center"><div class=text-center><p class=text-muted>Carregando análise...'),yt=n('<div class="grid grid-cols-3 gap-2 mt-4"role=group aria-label="Classes ABC interativas"><button class="p-2 rounded bg-green-500/10 border border-green-500/20 text-center hover:bg-green-500/20 transition-colors cursor-pointer group"><p class="text-[10px] text-green-700 font-bold uppercase">Classe A</p><p class="text-sm font-bold"> SKUs</p><p class="text-[10px] text-muted-foreground">80% da Receita</p><p class="text-[9px] text-green-600 mt-1 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-1"> Clique para detalhes</p></button><button class="p-2 rounded bg-yellow-500/10 border border-yellow-500/20 text-center hover:bg-yellow-500/20 transition-colors cursor-pointer group"><p class="text-[10px] text-yellow-700 font-bold uppercase">Classe B</p><p class="text-sm font-bold"> SKUs</p><p class="text-[10px] text-muted-foreground">15% da Receita</p><p class="text-[9px] text-yellow-600 mt-1 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-1"> Clique para detalhes</p></button><button class="p-2 rounded bg-red-500/10 border border-red-500/20 text-center hover:bg-red-500/20 transition-colors cursor-pointer group"><p class="text-[10px] text-red-700 font-bold uppercase">Classe C</p><p class="text-sm font-bold"> SKUs</p><p class="text-[10px] text-muted-foreground">5% da Receita</p><p class="text-[9px] text-red-600 mt-1 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-1"> Clique para detalhes'),Ct=n('<div class=space-y-6><div class="card p-6 border"role=region aria-label="Gráfico de vendas por categoria"><div class="flex justify-between items-center mb-4"><h3 class=font-semibold></h3></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="card p-6 border"role=region aria-label="Gráfico de giro de estoque"><div class="flex justify-between items-center mb-4"><h3 class=font-semibold>Giro de Estoque (Top 15)</h3></div></div><div class="card p-6 border"role=region aria-label="Gráfico de análise ABC"><div class="flex justify-between items-center mb-4"><h3 class=font-semibold>Análise de Pareto (ABC por Receita)</h3></div></div></div><div class="card p-6 border bg-zinc-50 dark:bg-zinc-900/50"><div class="flex items-start gap-4"><div class="p-3 bg-primary/10 rounded-full text-primary"></div><div><h4 class="font-bold text-lg mb-2">Entendendo sua Curva ABC (Princípio de Pareto)</h4><p class="text-sm text-muted-foreground leading-relaxed">Diferente de uma análise simplista, sua Curva ABC é calculada com base na <strong>contribuição financeira real</strong> (Receita) de cada produto. Isso permite identificar onde o seu capital está gerando mais retorno:</p><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6"><div class=space-y-2><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-green-500"></div><span class="font-bold text-sm">Classe A (Críticos)</span></div><p class="text-xs text-muted-foreground">Representam os primeiros <strong>80% da sua receita</strong>. Geralmente são poucos produtos (aprox. 20%) que sustentam o negócio. <strong>Ruptura aqui é inaceitável.</strong></p></div><div class=space-y-2><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-yellow-500"></div><span class="font-bold text-sm">Classe B (Estratégicos)</span></div><p class="text-xs text-muted-foreground">Representam os próximos <strong>15% da receita</strong>. São produtos importantes que complementam o mix e possuem giro moderado.</p></div><div class=space-y-2><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-red-500"></div><span class="font-bold text-sm">Classe C (Cauda Longa)</span></div><p class="text-xs text-muted-foreground">Representam os <strong>5% finais da receita</strong>. Costumam ser a grande maioria dos produtos (aprox. 50% do mix). Devem ter estoque mínimo para não imobilizar capital.'),wt=n('<div class="flex items-center justify-center py-12"><span>Carregando detalhes...'),St=n('<div class="flex items-center justify-center py-12 text-muted-foreground">Nenhum produto encontrado para esta classe.'),Et=n('<table class="w-full hidden md:table"role=table><thead class="sticky top-0 bg-secondary border-b"><tr><th class="text-left p-3 text-xs font-semibold uppercase">Produto</th><th class="text-left p-3 text-xs font-semibold uppercase">Nome</th><th class="text-left p-3 text-xs font-semibold uppercase">UNE</th><th class="text-left p-3 text-xs font-semibold uppercase">Loja</th><th class="text-right p-3 text-xs font-semibold uppercase">Receita</th><th class="text-right p-3 text-xs font-semibold uppercase">% Acumulada</th></tr></thead><tbody>'),At=n('<div class="md:hidden space-y-3">'),Bt=n('<div class="flex justify-between items-center px-4 py-3 border-t bg-muted/10"role=navigation aria-label="Paginação de produtos"><div class="text-sm text-muted-foreground"aria-live=polite>Página <!> de <!> | Total: <!> itens</div><div class="flex gap-2"><button class="px-3 py-1 text-sm bg-secondary hover:bg-secondary/80 disabled:opacity-50 disabled:cursor-not-allowed rounded"aria-label="Página anterior">Anterior</button><button class="px-3 py-1 text-sm bg-secondary hover:bg-secondary/80 disabled:opacity-50 disabled:cursor-not-allowed rounded"aria-label="Próxima página">Próxima'),Ft=n('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-0 md:p-4"><div class="bg-background rounded-none md:rounded-lg shadow-2xl max-w-6xl w-full h-full md:h-auto md:max-h-[90vh] overflow-hidden"role=dialog aria-modal=true aria-labelledby=abc-modal-title aria-describedby=abc-modal-description><div class="flex justify-between items-center p-6 border-b"><div><h3 id=abc-modal-title class="text-xl font-bold flex items-center gap-2"><span></span>SKUs da Classe </h3><p id=abc-modal-description class="text-sm text-muted-foreground mt-1"> produtos encontrados</p></div><div class="flex gap-2"><button class="btn btn-outline gap-2"aria-label="Baixar lista de produtos em CSV">Baixar CSV</button><button class="btn btn-outline"aria-label="Fechar modal"></button></div></div><div class="overflow-y-auto max-h-[calc(90vh-140px)]">'),kt=n('<div class="flex flex-col p-6 gap-6"><div class="flex justify-between items-end"><div><h2 class="text-2xl font-bold flex items-center gap-2">Analytics Avançado</h2><p class=text-muted>Análise de vendas, estoque e distribuição ABC</p></div><button class="btn btn-outline gap-2">Atualizar</button></div><div class="card p-4 border"role=region aria-label="Filtros de análise"><div class="flex items-center gap-2 mb-3"><h3 class=font-semibold>Filtros</h3></div><div class="grid grid-cols-1 md:grid-cols-4 gap-3"><select class="input min-h-[44px]"aria-label="Filtrar por segmento"><option value>Todos os Segmentos</option></select><select class="input min-h-[44px]"aria-label="Filtrar por categoria"><option value>Todas as Categorias</option></select><select class="input min-h-[44px]"aria-label="Filtrar por grupo"><option value>Todos os Grupos</option></select><button class="btn btn-primary min-h-[44px]"aria-label="Aplicar filtros selecionados">Aplicar Filtros'),ke=n("<option>"),Rt=n('<div class="h-[400px] flex items-center justify-center text-muted"><p>Nenhum dado de vendas por categoria disponível'),zt=n('<div class="h-[400px] flex items-center justify-center text-muted"><p>Nenhum dado de giro de estoque disponível'),Dt=n('<div class="h-[400px] flex items-center justify-center text-muted"><p>Nenhum dado de distribuição ABC disponível'),Nt=n('<tr class="border-b hover:bg-secondary/50 transition-colors"><td class="p-3 font-mono text-sm"></td><td class="p-3 text-sm"></td><td class="p-3 font-mono text-sm"></td><td class="p-3 text-sm text-muted-foreground"></td><td class="p-3 text-sm text-right font-medium">R$ </td><td class="p-3 text-sm text-right">%'),Ot=n('<div class="bg-card border rounded-lg p-4 space-y-2"><div class="flex justify-between items-start"><div class=flex-1><p class="font-medium text-sm"></p><p class="text-xs font-mono text-muted-foreground mt-1">SKU: </p></div><span class="px-2 py-1 bg-primary/10 text-primary rounded text-xs font-semibold">%</span></div><div class="grid grid-cols-2 gap-2 text-xs"><div><span class=text-muted-foreground>UNE:</span><span class="ml-1 font-mono"></span></div><div><span class=text-muted-foreground>Loja:</span><span class=ml-1></span></div></div><div class="pt-2 border-t"><span class="text-xs text-muted-foreground">Receita: </span><span class="text-sm font-semibold">R$ ');function Tt(){const[m,Ve]=f(null),[I,Re]=f(!0),[ze,De]=f(null),[Ne,Oe]=f(null),[w,se]=f(""),[C,me]=f(""),[R,ee]=f(""),[Ke,fe]=f(!1),[te,Ze]=f(null),[z,Pe]=f([]),[xe,Ie]=f(!1),[H,he]=f(1),ve=50,qe=Le(()=>{const a=(H()-1)*ve,i=a+ve;return z().slice(a,i)}),oe=Le(()=>Math.ceil(z().length/ve)),[J]=we(async()=>(await be.getFilterOptions()).data),[ne]=we(()=>C(),async a=>a===""?J()?.categorias||[]:(await be.getFilterOptions(a)).data.categorias),[de]=we(()=>({seg:C(),cat:w()}),async({seg:a,cat:i})=>a===""&&i===""?J()?.grupos||[]:(await be.getFilterOptions(a||void 0,i||void 0)).data.grupos);Se(a=>{const i=C();return a!==void 0&&a!==i&&(se(""),ee("")),i}),Se(a=>{const i=w();return a!==void 0&&a!==i&&ee(""),i}),Se(()=>{z(),he(1)});const[Xe,He]=f({}),[Je,Qe]=f({}),[We,Ye]=f({}),M=async()=>{Ne()?.abort();const a=new AbortController;Oe(a),Re(!0),De(null);try{const i=new URLSearchParams;w()&&i.append("categoria",w()),C()&&i.append("segmento",C()),R()&&i.append("grupo",R());const u=await ct.get(`/analytics/sales-analysis?${i.toString()}`,{signal:a.signal});Ve(u.data),tt(u.data)}catch(i){if(i.name==="AbortError"){console.log("Requisição de análise de vendas abortada.");return}console.error("Erro ao carregar análise:",i),De(i.response?.data?.detail||"Erro ao carregar análise de vendas")}finally{Re(!1),Ne()===a&&Oe(null)}},_e=async a=>{Ze(a),fe(!0),Ie(!0);try{const i=await be.getABCDetails(a,C()||void 0,w()||void 0,R()||void 0);Pe(i.data)}catch(i){console.error("Erro ao carregar detalhes ABC:",i),Pe([])}finally{Ie(!1)}},et=()=>{const a=z();if(a.length===0)return;const i=["PRODUTO","NOME","UNE","UNE_NOME","RECEITA","PERC_ACUMULADA","CLASSE"],u=a.map(S=>[S.PRODUTO,S.NOME,S.UNE,S.UNE_NOME||"",S.receita.toFixed(2),S.perc_acumulada.toFixed(2),S.classe]),g=[i.join(","),...u.map(S=>S.map(ce=>`"${ce}"`).join(","))].join(`
`),p=new Blob([g],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(p),x.download=`abc_classe_${te()}_${new Date().toISOString().slice(0,10)}.csv`,x.click()},tt=a=>{if(a.vendas_por_categoria.length>0){const u={data:[{type:"bar",x:a.vendas_por_categoria.map(g=>g.categoria),y:a.vendas_por_categoria.map(g=>g.vendas),marker:{color:"#8B7355",line:{color:"#E5E5E5",width:1}},text:a.vendas_por_categoria.map(g=>g.vendas.toLocaleString()),textposition:"outside",textfont:{color:"#2D2D2D",family:"Inter, sans-serif"},hovertemplate:"<b>%{x}</b><br>Vendas: %{y:,}<extra></extra>"}],layout:{title:{text:a.chart_title||"Vendas por Categoria (Top 10)",font:{size:16,color:"#2D2D2D",family:"Inter, sans-serif"}},xaxis:{title:"",tickangle:-45,tickfont:{size:10,color:"#6B6B6B",family:"Inter, sans-serif"},gridcolor:"#E5E5E5",linecolor:"#E5E5E5"},yaxis:{title:"Vendas (30 dias)",titlefont:{color:"#6B6B6B",family:"Inter, sans-serif"},tickfont:{color:"#6B6B6B",family:"Inter, sans-serif"},gridcolor:"#E5E5E5",linecolor:"#E5E5E5"},plot_bgcolor:"#FFFFFF",paper_bgcolor:"#FAFAFA",margin:{l:60,r:20,t:60,b:100},font:{color:"#2D2D2D",family:"Inter, sans-serif"}},config:{responsive:!0}};He(u)}if(a.giro_estoque.length>0){const u={data:[{type:"scatter",mode:"lines+markers",x:a.giro_estoque.map((g,p)=>p+1),y:a.giro_estoque.map(g=>g.giro),text:a.giro_estoque.map(g=>g.nome),marker:{color:"#2D7A3E",size:8},line:{color:"#6B7A5A",width:2},hovertemplate:"<b>%{text}</b><br>Giro: %{y:.2f}<extra></extra>"}],layout:{title:{text:"Giro de Estoque (Top 15 Produtos)",font:{size:16,color:"#2D2D2D",family:"Inter, sans-serif"}},xaxis:{title:"Ranking",titlefont:{color:"#6B6B6B",family:"Inter, sans-serif"},tickfont:{color:"#6B6B6B",family:"Inter, sans-serif"},gridcolor:"#E5E5E5",linecolor:"#E5E5E5"},yaxis:{title:"Taxa de Giro",titlefont:{color:"#6B6B6B",family:"Inter, sans-serif"},tickfont:{color:"#6B6B6B",family:"Inter, sans-serif"},gridcolor:"#E5E5E5",linecolor:"#E5E5E5"},plot_bgcolor:"#FFFFFF",paper_bgcolor:"#FAFAFA",margin:{l:60,r:20,t:60,b:60},font:{color:"#2D2D2D",family:"Inter, sans-serif"}},config:{responsive:!0}};Qe(u)}const i=a.distribuicao_abc;if(i.detalhes&&i.detalhes.length>0){const u=i.detalhes.slice(0,20),g={data:[{type:"bar",x:u.map((p,x)=>`${x+1}. ${p.NOME.substring(0,15)}`),y:u.map(p=>p.receita),name:"Faturamento (R$)",marker:{color:u.map(p=>p.classe==="A"?"#166534":p.classe==="B"?"#CA8A04":"#991B1B"),line:{color:"#FFFFFF",width:1},opacity:.9},hovertemplate:"<b>%{customdata.nome}</b><br>Receita: R$ %{y:,.2f}<br>Classe: %{customdata.classe}<extra></extra>",customdata:u.map(p=>({nome:p.NOME,classe:p.classe}))},{type:"scatter",mode:"lines+markers",x:u.map((p,x)=>`${x+1}. ${p.NOME.substring(0,15)}`),y:u.map(p=>p.perc_acumulada),name:"% Acumulada",yaxis:"y2",line:{color:"#1E293B",width:3,shape:"spline"},marker:{color:"#1E293B",size:8,symbol:"diamond"},hovertemplate:"Contribuição Acumulada: %{y:.1f}%<extra></extra>"}],layout:{title:{text:'<b>Curva de Pareto: Onde está o seu faturamento?</b><br><span style="font-size:12px;color:#64748B">A análise identifica os 20% de produtos que geram 80% do lucro</span>',font:{size:18,color:"#0F172A",family:"Inter, sans-serif"},x:.05},xaxis:{tickangle:-45,tickfont:{size:10,color:"#475569",font:{weight:"bold"}},gridcolor:"#F1F5F9"},yaxis:{title:"Receita Individual (R$)",titlefont:{size:12,color:"#64748B",font:{weight:"bold"}},gridcolor:"#F1F5F9",zeroline:!1},yaxis2:{title:"% Contribuição Acumulada",titlefont:{size:12,color:"#64748B",font:{weight:"bold"}},overlaying:"y",side:"right",range:[0,105],showgrid:!1,tickvals:[0,20,40,60,80,95,100],ticktext:["0%","20%","40%","60%","80%","95%","100%"],tickfont:{size:10,color:"#1E293B",font:{weight:"bold"}}},legend:{orientation:"h",x:.5,y:-.25,xanchor:"center",bgcolor:"rgba(255,255,255,0.7)",bordercolor:"#E2E8F0",borderwidth:1},plot_bgcolor:"#FFFFFF",paper_bgcolor:"#FAFAFA",margin:{l:70,r:70,t:90,b:130},shapes:[{type:"line",xref:"paper",yref:"y2",x0:0,x1:1,y0:80,y1:80,line:{color:"#166534",width:2,dash:"dashdot"}},{type:"rect",xref:"paper",yref:"paper",x0:0,x1:.2,y0:.8,y1:1,fillcolor:"rgba(22, 101, 52, 0.05)",line:{width:0}}],annotations:[{xref:"paper",yref:"y2",x:.02,y:85,text:"ZONA VITAL (80%)",showarrow:!1,font:{color:"#166534",size:10,weight:"bold"}}]},config:{responsive:!0,displayModeBar:!1}};Ye(g)}};return ot(()=>{setTimeout(()=>{M()},500)}),r(dt,{get children(){var a=kt(),i=a.firstChild,u=i.firstChild,g=u.firstChild,p=g.firstChild,x=u.nextSibling,S=x.firstChild,ce=i.nextSibling,ue=ce.firstChild,rt=ue.firstChild,at=ue.nextSibling,T=at.firstChild;T.firstChild;var L=T.nextSibling;L.firstChild;var G=L.nextSibling;G.firstChild;var $e=G.nextSibling;return e(g,r(Be,{size:28}),p),x.$$click=M,e(x,r(Ge,{size:16,get class(){return I()?"animate-spin":""}}),S),e(ue,r(gt,{size:20}),rt),e(ue,r(c,{get when(){return w()||C()||R()},get children(){var t=mt(),l=t.firstChild;return t.$$click=()=>{se(""),me(""),ee(""),M()},e(t,r(le,{size:16}),l),t}}),null),T.addEventListener("change",t=>me(t.currentTarget.value)),e(T,r(c,{get when(){return J()},get children(){return r(ie,{get each(){return J().segmentos},children:t=>(()=>{var l=ke();return l.value=t,e(l,t),l})()})}}),null),L.addEventListener("change",t=>se(t.currentTarget.value)),e(L,r(c,{get when(){return ne()},get children(){return r(ie,{get each(){return ne()},children:t=>(()=>{var l=ke();return l.value=t,e(l,t),l})()})}}),null),G.addEventListener("change",t=>ee(t.currentTarget.value)),e(G,r(c,{get when(){return de()},get children(){return r(ie,{get each(){return de()},children:t=>(()=>{var l=ke();return l.value=t,e(l,t),l})()})}}),null),$e.$$click=M,e(ce,r(c,{get when(){return w()||C()||R()},get children(){var t=vt();return t.firstChild,e(t,r(c,{get when(){return C()},get children(){var l=ft(),b=l.firstChild,o=b.nextSibling;return e(l,C,o),o.$$click=()=>{me(""),M()},e(o,r(le,{size:14})),B(()=>y(o,"aria-label",`Remover filtro de segmento ${C()}`)),l}}),null),e(t,r(c,{get when(){return w()},get children(){var l=xt(),b=l.firstChild,o=b.nextSibling;return e(l,w,o),o.$$click=()=>{se(""),M()},e(o,r(le,{size:14})),B(()=>y(o,"aria-label",`Remover filtro de categoria ${w()}`)),l}}),null),e(t,r(c,{get when(){return R()},get children(){var l=ht(),b=l.firstChild,o=b.nextSibling;return e(l,R,o),o.$$click=()=>{ee(""),M()},e(o,r(le,{size:14})),B(()=>y(o,"aria-label",`Remover filtro de grupo ${R()}`)),l}}),null),t}}),null),e(a,r(c,{get when(){return ze()},get children(){var t=_t(),l=t.firstChild;return e(l,ze),t}}),null),e(a,r(c,{get when(){return I()},get children(){var t=$t(),l=t.firstChild,b=l.firstChild;return e(l,r(Be,{size:48,class:"mx-auto mb-4 opacity-50 animate-pulse"}),b),t}}),null),e(a,r(c,{get when(){return ge(()=>!I())()&&m()},get children(){var t=Ct(),l=t.firstChild,b=l.firstChild,o=b.firstChild,D=l.nextSibling,N=D.firstChild,q=N.firstChild;q.firstChild;var U=N.nextSibling,V=U.firstChild;V.firstChild;var F=D.nextSibling,Q=F.firstChild,K=Q.firstChild;return e(o,()=>m()?.chart_title||"Vendas por Categoria (Top 10)"),e(b,r(Ae,{chartId:"analytics-vendas-categoria-chart",filename:"analytics_vendas_categoria",label:"Baixar"}),null),e(l,r(c,{get when(){return m().vendas_por_categoria.length>0},get fallback(){return Rt()},get children(){return r(Ee,{chartSpec:Xe,chartId:"analytics-vendas-categoria-chart",enableDownload:!0})}}),null),e(q,r(Ae,{chartId:"analytics-giro-estoque-chart",filename:"analytics_giro_estoque",label:"Baixar"}),null),e(N,r(c,{get when(){return m().giro_estoque.length>0},get fallback(){return zt()},get children(){return r(Ee,{chartSpec:Je,chartId:"analytics-giro-estoque-chart",enableDownload:!0})}}),null),e(V,r(Ae,{chartId:"analytics-abc-chart",filename:"analytics_distribuicao_abc",label:"Baixar"}),null),e(U,r(c,{get when(){return ge(()=>!!m().distribuicao_abc.detalhes)()&&m().distribuicao_abc.detalhes.length>0},get fallback(){return Dt()},get children(){return r(Ee,{chartSpec:We,chartId:"analytics-abc-chart",enableDownload:!0})}}),null),e(U,r(c,{get when(){return m().distribuicao_abc.receita_por_classe},get children(){var W=yt(),s=W.firstChild,d=s.firstChild,_=d.nextSibling,h=_.firstChild,O=_.nextSibling,E=O.nextSibling,P=E.firstChild,$=s.nextSibling,j=$.firstChild,v=j.nextSibling,k=v.firstChild,A=v.nextSibling,Z=A.nextSibling,Y=Z.firstChild,re=$.nextSibling,ye=re.firstChild,ae=ye.nextSibling,Ce=ae.firstChild,pe=ae.nextSibling,Ue=pe.nextSibling,lt=Ue.firstChild;return s.$$click=()=>_e("A"),e(_,()=>m().distribuicao_abc.A,h),e(E,r(Fe,{size:10}),P),$.$$click=()=>_e("B"),e(v,()=>m().distribuicao_abc.B,k),e(Z,r(Fe,{size:10}),Y),re.$$click=()=>_e("C"),e(ae,()=>m().distribuicao_abc.C,Ce),e(Ue,r(Fe,{size:10}),lt),B(X=>{var je=`Ver detalhes da Classe A - ${m().distribuicao_abc.A} produtos responsáveis por 80% da receita`,Me=`Ver detalhes da Classe B - ${m().distribuicao_abc.B} produtos responsáveis por 15% da receita`,Te=`Ver detalhes da Classe C - ${m().distribuicao_abc.C} produtos responsáveis por 5% da receita`;return je!==X.e&&y(s,"aria-label",X.e=je),Me!==X.t&&y($,"aria-label",X.t=Me),Te!==X.a&&y(re,"aria-label",X.a=Te),X},{e:void 0,t:void 0,a:void 0}),W}}),null),e(K,r(Be,{size:24})),t}}),null),e(a,r(c,{get when(){return Ke()},get children(){var t=Ft(),l=t.firstChild,b=l.firstChild,o=b.firstChild,D=o.firstChild,N=D.firstChild;N.nextSibling;var q=D.nextSibling,U=q.firstChild,V=o.nextSibling,F=V.firstChild,Q=F.firstChild,K=F.nextSibling,W=b.nextSibling;return t.$$click=()=>fe(!1),l.$$click=s=>s.stopPropagation(),e(D,te,null),e(q,()=>z().length,U),F.$$click=et,e(F,r(nt,{size:16}),Q),K.$$click=()=>fe(!1),e(K,r(le,{size:16})),e(W,r(c,{get when(){return xe()},get children(){var s=wt(),d=s.firstChild;return e(s,r(Ge,{class:"animate-spin mr-2",size:24}),d),s}}),null),e(W,r(c,{get when(){return ge(()=>!xe())()&&z().length===0},get children(){return St()}}),null),e(W,r(c,{get when(){return ge(()=>!xe())()&&z().length>0},get children(){return[(()=>{var s=Et(),d=s.firstChild,_=d.nextSibling;return e(_,r(ie,{get each(){return qe()},children:h=>(()=>{var O=Nt(),E=O.firstChild,P=E.nextSibling,$=P.nextSibling,j=$.nextSibling,v=j.nextSibling;v.firstChild;var k=v.nextSibling,A=k.firstChild;return e(E,()=>h.PRODUTO),e(P,()=>h.NOME),e($,()=>h.UNE),e(j,()=>h.UNE_NOME||"-"),e(v,()=>h.receita.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),null),e(k,()=>h.perc_acumulada.toFixed(2),A),O})()})),B(()=>y(s,"aria-label",`Produtos da classe ${te()}`)),s})(),(()=>{var s=At();return e(s,r(ie,{get each(){return qe()},children:d=>(()=>{var _=Ot(),h=_.firstChild,O=h.firstChild,E=O.firstChild,P=E.nextSibling;P.firstChild;var $=O.nextSibling,j=$.firstChild,v=h.nextSibling,k=v.firstChild,A=k.firstChild,Z=A.nextSibling,Y=k.nextSibling,re=Y.firstChild,ye=re.nextSibling,ae=v.nextSibling,Ce=ae.firstChild,pe=Ce.nextSibling;return pe.firstChild,e(E,()=>d.NOME),e(P,()=>d.PRODUTO,null),e($,()=>d.perc_acumulada.toFixed(2),j),e(Z,()=>d.UNE),e(ye,()=>d.UNE_NOME||"-"),e(pe,()=>d.receita.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),null),_})()})),s})(),r(c,{get when(){return oe()>1},get children(){var s=Bt(),d=s.firstChild,_=d.firstChild,h=_.nextSibling,O=h.nextSibling,E=O.nextSibling,P=E.nextSibling,$=P.nextSibling;$.nextSibling;var j=d.nextSibling,v=j.firstChild,k=v.nextSibling;return e(d,H,h),e(d,oe,E),e(d,()=>z().length,$),v.$$click=()=>he(Math.max(1,H()-1)),k.$$click=()=>he(Math.min(oe(),H()+1)),B(A=>{var Z=H()===1,Y=H()===oe();return Z!==A.e&&(v.disabled=A.e=Z),Y!==A.t&&(k.disabled=A.t=Y),A},{e:void 0,t:void 0}),s}})]}}),null),B(s=>{var d=`inline-block w-3 h-3 rounded-full ${te()==="A"?"bg-green-500":te()==="B"?"bg-yellow-500":"bg-red-500"}`,_=z().length===0;return d!==s.e&&ut(N,s.e=d),_!==s.t&&(F.disabled=s.t=_),s},{e:void 0,t:void 0}),t}}),null),B(t=>{var l=I(),b=I()?"Atualizando análise de vendas":"Atualizar análise de vendas",o=I(),D=J.loading,N=J.loading,q=ne.loading,U=ne.loading,V=de.loading,F=de.loading,Q=I(),K=I();return l!==t.e&&(x.disabled=t.e=l),b!==t.t&&y(x,"aria-label",t.t=b),o!==t.a&&y(x,"aria-busy",t.a=o),D!==t.o&&(T.disabled=t.o=D),N!==t.i&&y(T,"aria-busy",t.i=N),q!==t.n&&(L.disabled=t.n=q),U!==t.s&&y(L,"aria-busy",t.s=U),V!==t.h&&(G.disabled=t.h=V),F!==t.r&&y(G,"aria-busy",t.r=F),Q!==t.d&&($e.disabled=t.d=Q),K!==t.l&&y($e,"aria-busy",t.l=K),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),B(()=>T.value=C()),B(()=>L.value=w()),B(()=>G.value=R()),a}})}pt(["click"]);export{Tt as default};
